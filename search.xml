<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[JSä¸­çš„æ­£åˆ™è¡¨è¾¾å¼]]></title>
    <url>%2F2020%2F01%2F01%2FRegExp%2F</url>
    <content type="text"><![CDATA[å­¦ä¸€é—¨å‰ç«¯å·¥å…·ï¼Œå‡ å¹´å°±è¿‡æ—¶äº†ã€‚å­¦æ­£åˆ™è¡¨è¾¾å¼ï¼Œå—ç”¨ä¸€è¾ˆå­ã€‚ æ­£åˆ™è¡¨è¾¾å¼ï¼Œè‹±æ–‡ç®€ç§°:RegExpï¼Œå…¨ç§°:Regular Expressionã€‚å…³äºŽæ­£åˆ™è¡¨è¾¾å¼çš„ç”±æ¥å’Œä»‹ç»å°±ä¸å¤šè¯´äº†ï¼Œå¤§å®¶åªè¦è®°ä½æ­£åˆ™æ˜¯åŒ¹é…æ¨¡å¼ï¼Œè¦ä¹ˆåŒ¹é…å­—ç¬¦ï¼Œè¦ä¹ˆåŒ¹é…ä½ç½®ã€‚ æˆ‘ä»¬ç³»ç»Ÿçš„å­¦ä¹ çŸ¥è¯†å’Œæ‰“æ¸¸æˆæ˜¯ä¸€æ ·çš„ï¼ŒåˆæœŸåªèƒ½æŒ‘æˆ˜ä¸€äº›å°å–½å•°ï¼Œæ¶¨æ¶¨ç»éªŒå€¼ï¼Œç­‰çº§å’Œè£…å¤‡é½å…¨åŽå°±å¯ä»¥é€ä¸€åŽ»æŒ‘æˆ˜bossä»¬ã€‚æ‰€ä»¥æˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹æ­£åˆ™ä¸–ç•Œé‡Œéƒ½æœ‰å“ªäº›å°æ€ªç‰©ã€‚ å‹æƒ…æç¤ºï¼šå­¦ä¹ æ­£åˆ™è¡¨è¾¾å¼å¯¹æ–°æ‰‹æ¥è¯´å¹¶ä¸æ˜¯å¾ˆå‹å¥½ï¼Œä¸€äº›åŸºç¡€çš„çŸ¥è¯†éœ€è¦é€šè¿‡æ­»è®°ç¡¬èƒŒæ¥å­¦ä¹ ï¼Œä½ å¾—å…ˆè®°ä½å®ƒï¼Œæ‰èƒ½çµæ´»è¿ç”¨å®ƒã€‚ å°æ€ªï¼šå­¦ä¹ æ­£åˆ™çš„è¯­æ³• å¼„ä¸€ä¸ªæ­£åˆ™å‡ºæ¥ï¼šä½¿ç”¨å­—é¢é‡, æž„é€ å‡½æ•°å’Œå·¥åŽ‚ç¬¦å·éƒ½å¯ä»¥å†™å‡ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ã€‚ 123/pattern/flagsnew RegExp(pattern [, flags])RegExp(pattern [, flags]) å…¶ä¸­patternä¸ºæ­£åˆ™è¡¨è¾¾å¼çš„æ–‡æœ¬ï¼Œflagsä¸ºä¿®é¥°ç¬¦ï¼Œå¯ä»¥ä¸ºä¸€ä¸ªï¼Œä¹Ÿå¯ä»¥æ˜¯å¤šä¸ªä¸ºä¸€ç»„ã€‚ä¸€èˆ¬æ¥è¯´éœ€è¦åŠ¨æ€æž„é€ æ­£åˆ™çš„æ—¶å€™æ‰ä¼šç”¨åˆ°æž„é€ å‡½æ•°çš„æ–¹å¼ã€‚å› ä¸ºå­—é¢é‡å†™æ³•çš„æ­£åˆ™æ€§èƒ½æ›´å¥½ä¸€äº›ã€‚å½“ä¸€ä¸ªæ­£åˆ™å®žä¾‹åˆ›å»ºå‡ºæ¥ä»¥åŽï¼Œå®ƒéƒ½ä¼šæœ‰ä»¥ä¸‹çš„å®žä¾‹å±žæ€§ï¼š lastIndexå±žæ€§ã€‚å®ƒçš„ä½œç”¨æ˜¯å…¨å±€åŒ¹é…æ—¶æ ‡è®°ä¸‹ä¸€æ¬¡åŒ¹é…å¼€å§‹çš„ä½ç½®ï¼Œå…¨å±€åŒ¹é…çš„æŠ“æ‰‹å°±æ˜¯å®ƒã€‚ sourceå±žæ€§ã€‚å®ƒçš„ä½œç”¨æ˜¯å­˜å‚¨æ­£åˆ™æ¨¡å¼çš„ä¸»ä½“ã€‚æ¯”å¦‚/abc/giä¸­çš„abcã€‚ å¯¹åº”çš„ä¿®é¥°ç¬¦å±žæ€§ã€‚ç›®å‰æœ‰globalã€ignoreCaseã€multilineã€stickyã€dotAllã€unicodeå±žæ€§ï¼Œè¿”å›žå¸ƒå°”å€¼è¡¨æ˜Žæ˜¯å¦å¼€å¯å¯¹åº”ä¿®é¥°ç¬¦ã€‚ flagså±žæ€§ã€‚è¿”å›žæ‰€æœ‰çš„ä¿®é¥°ç¬¦ã€‚æ¯”å¦‚/abc/giä¸­çš„giã€‚ ps:å¦‚æžœä»¥æž„é€ å‡½æ•°æ–¹å¼æž„é€ æ­£åˆ™çš„æ—¶å€™ï¼Œpatternä¸­å®šä¹‰äº†ä¿®é¥°ç¬¦ï¼Œä½†flagsä¸­åˆæœ‰å€¼ï¼Œåˆ™ä»¥flagså®šä¹‰çš„ä¿®é¥°ç¬¦ä¸ºå‡†ï¼Œè¿™æ˜¯ES2015çš„æ–°ç‰¹æ€§ã€‚ æ™®é€šå­—ç¬¦ï¼šä½•ä¸ºæ™®é€šå­—ç¬¦ï¼Ÿå°±æ˜¯åŒ…æ‹¬å„ç§äººç±»è¯­è¨€ï¼Œ24ä¸ªè‹±æ–‡å­—æ¯(åŒ…æ‹¬å¤§å°å†™)ï¼Œæ²¡æœ‰ç‰¹æ®Šå«ä¹‰çš„ç¬¦å·ï¼Œç”šè‡³emojiè¡¨æƒ…ä¹Ÿç®—æ™®é€šå­—ç¬¦ã€‚æ™®é€šå­—ç¬¦åœ¨æ­£åˆ™ä¸­çš„å«ä¹‰å°±æ˜¯æ£€ç´¢å®ƒæœ¬èº«ï¼Œä½ çœ‹: 12&apos;hello ðŸ˜€ regex&apos;.match(/ðŸ˜€/);// [&quot;ðŸ˜€&quot;, index: 6, input: &quot;hello ðŸ˜€ regex&quot;, groups: undefined] å…ƒå­—ç¬¦ï¼šåœ¨æ­£åˆ™ä¸–ç•Œé‡Œå¤§éƒ¨åˆ†ç¬¦å·éƒ½æ˜¯ä½œä¸ºæ™®é€šå­—ç¬¦çš„å­˜åœ¨ï¼Œä½†æ€»æ˜¯æœ‰é’‰å­æˆ·çš„å­˜åœ¨ï¼Œè¿˜æœ‰å‡ ä¸ªç¬¦å·æ˜¯æœ‰è‡ªå·±çš„ç‰¹æ®Šå«ä¹‰çš„ï¼Œè¿™ç§ç¬¦å·è¢«ç§°ä¸ºå…ƒå­—ç¬¦ã€‚ å¸¸ç”¨ å­—ç¬¦ç›¸å…³ \:å°†ä¸‹ä¸€ä¸ªå­—ç¬¦æ ‡è®°ä¸ºä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ã€æˆ–ä¸€ä¸ªåŽŸä¹‰å­—ç¬¦ã€æˆ–ä¸€ä¸ªå‘åŽå¼•ç”¨ã€æˆ–ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€œnâ€åŒ¹é…å­—ç¬¦â€œnâ€ã€‚â€œ\nâ€åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚ä¸²è¡Œâ€œ\â€åŒ¹é…â€œ\â€è€Œâ€œ(â€åˆ™åŒ¹é…â€œ(â€ã€‚ç®€å•æ¥è¯´ï¼Œè½¬ä¹‰ç¬¦èƒ½å°†ä¸€äº›æ™®é€šå­—ç¬¦æå‡æˆå…ƒå­—ç¬¦ï¼Œè½¬ä¹‰ç¬¦èƒ½å°†ä»»ä½•ç¬¦å·ç ­ä¸ºåº¶æ°‘(æ™®é€šå­—ç¬¦)ï¼ŒåŒ…æ‹¬å®ƒè‡ªå·±(æˆ‘ç‹ èµ·æ¥è‡ªå·±éƒ½æ‰“)ï¼Œå½“ç„¶æ™®é€šå­—ç¬¦è½¬ä¹‰åŽè¿˜æ˜¯è½¬ä¹‰å­—ç¬¦ã€‚ |:|å°±ä»£è¡¨æˆ–è€…ã€‚å­—ç¬¦ç»„å…¶å®žä¹Ÿæ˜¯ä¸€ä¸ªå¤šé€‰ç»“æž„ï¼Œä½†æ˜¯å®ƒä»¬ä¿©æœ‰æœ¬è´¨åŒºåˆ«ã€‚å­—ç¬¦ç»„æœ€ç»ˆåªèƒ½åŒ¹é…ä¸€ä¸ªå­—ç¬¦ï¼Œè€Œåˆ†æ”¯åŒ¹é…çš„æ˜¯å·¦è¾¹æ‰€æœ‰çš„å­—ç¬¦æˆ–è€…å³è¾¹æ‰€æœ‰çš„å­—ç¬¦ã€‚ç»å¸¸åœ¨()ä¸­ä½¿ç”¨ã€‚ \d:åŒ¹é…ä¸€ä¸ªæ•°å­—å­—ç¬¦ï¼Œç­‰ä»·äºŽ[0-9]ï¼Œè¿™é‡Œçš„æ•°å­—ä¸æ˜¯JSä¸­çš„Numberç±»åž‹ï¼ŒæŒ‡å­—ç¬¦ä¸²ä¸­çš„æ•°å­—ã€‚ \D:åŒ¹é…ä¸€ä¸ªéžæ•°å­—å­—ç¬¦ï¼Œç­‰ä»·äºŽ[^0-9]ã€‚ \s:åŒ¹é…ä¸€ä¸ªç©ºç™½å­—ç¬¦ï¼Œç©ºç™½å­—ç¬¦ä¸å•å•åŒ…æ‹¬ç©ºæ ¼ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ€»é›†ç©ºæ ¼\f\n\r\t\vï¼ŒåŒ…æ‹¬ç©ºæ ¼ï¼Œæ¢é¡µç¬¦ï¼Œæ¢è¡Œç¬¦ï¼Œå›žè½¦ç¬¦ï¼Œæ°´å¹³åˆ¶è¡¨ç¬¦ï¼Œåž‚ç›´åˆ¶è¡¨ç¬¦ã€‚ä½†æ˜¯è¿™ä¸ªæ€»é›†é‡Œå¤§éƒ¨åˆ†ç¬¦å·éƒ½æ˜¯ä¸å¯æ‰“å°çš„ç¬¦å·ï¼Œåªæœ‰\nå’Œæˆ‘ä»¬ç»å¸¸æŽ¥è§¦äº†ï¼Œå¦‚æžœä½ ä¸éœ€è¦åŒºåˆ†ç©ºæ ¼ä¸Žæ¢è¡Œï¼Œå¯ä»¥å¤§èƒ†ä½¿ç”¨\sï¼Œå¦‚æžœä½ æƒ³åªåŒ¹é…ä¸€ä¸ªç©ºæ ¼ï¼Œåœ¨æ­£åˆ™çš„å†™æ³•å°±æ˜¯ç©ºä¸€æ ¼ã€‚ \S:åŒ¹é…ä»»ä½•éžç©ºç™½å­—ç¬¦ã€‚ç­‰ä»·äºŽ[^ \f\n\r\t\v]ã€‚ \w:åŒ¹é…ä¸€ä¸ª26ä¸ªè‹±æ–‡å­—æ¯æˆ–è€…ä¸€ä¸ªæ•°å­—æˆ–è€…ä¸€ä¸ªä¸‹åˆ’çº¿ï¼Œç­‰ä»·äºŽ[A-Za-z0-9_].æ³¨æ„è¿™é‡Œä¼šå¤šä¸€ä¸ªä¸‹åˆ’çº¿ï¼Œå› ä¸ºåœ¨Javascriptä¸­çš„å˜é‡è§„åˆ™ä¸­ï¼Œä½¿ç”¨è¿™ä¸‰ç§å‘½åæ˜¯æ¯”è¾ƒåˆç†çš„ã€‚ \W:åŒ¹é…ä»»ä½•éžå•è¯å­—ç¬¦ã€‚ç­‰ä»·äºŽ[^A-Za-z0-9_]ã€‚ .:æ‰€è°“å­—è¶Šå°‘ï¼Œäº‹æƒ…è¶Šå¤§ã€‚è¿™ä¸ªå°ç‚¹å·åœ¨æ­£åˆ™ä¸–ç•Œé‡Œçš„èƒ½é‡éžå¸¸å¤§ã€‚å®ƒèƒ½åŒ¹é…ä»»æ„å­—ç¬¦(ä½†æ˜¯è¡Œç»“æŸç¬¦é™¤å¤–ï¼š\n \r \u2028 æˆ– \u2029),ä½†æ˜¯åœ¨å­—ç¬¦ç»„ä¸­å®ƒå°±æ˜¯ä¸ªç‚¹ï¼Œæ— è®ºä½ æ€Žä¹ˆè½¬ä¹‰éƒ½æ²¡æœ‰ç”¨ã€‚ ä½ç½®ç›¸å…³ ^:é€šå¸¸åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®,è¯´é€šå¸¸ï¼Œå› ä¸ºå®ƒåœ¨å­—ç¬¦ç»„ä¸­[^abc]å¦æœ‰å«ä¹‰ã€‚ $:ä¸Žä¸Šé¢çš„ç›¸åï¼ŒåŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„ç»“æŸä½ç½®ã€‚éœ€è¦æ³¨æ„çš„å‡ ç‚¹åœ°æ–¹ï¼š ä½œä¸ºåŒ¹é…æ–‡æœ¬å¼€å§‹å…ƒå­—ç¬¦çš„æ—¶å€™å¿…é¡»æ˜¯æ­£åˆ™ä¸»ä½“çš„ç¬¬ä¸€ä¸ªç¬¦å·æˆ–è€…æœ€åŽä¸€ä¸ªç¬¦å·ï¼Œå¦åˆ™æ­£åˆ™æ— æ•ˆã€‚ å®ƒåŒ¹é…çš„æ˜¯ä¸€ä¸ªä½ç½®ï¼Œè€Œä¸æ˜¯å…·ä½“çš„æ–‡æœ¬ å¤šè¡ŒåŒ¹é…æ¨¡å¼æ—¶(ä¿®é¥°ç¬¦ä¸­å¸¦m)ï¼ŒäºŒè€…åˆ†åˆ«æ˜¯è¡Œå¼€å¤´å’Œè¡Œç»“å°¾çš„æ¦‚å¿µ ^ç¬¦å·åœ¨æ­£åˆ™çš„å­—ç¬¦ç»„ä¸­æœ‰å…¶ä»–å«ä¹‰ï¼Œ$åœ¨å­—ç¬¦ä¸²æ–¹æ³•replaceä¸­æœ‰å…¶ä»–å«ä¹‰ã€‚ \b:åŒ¹é…ä¸€ä¸ªå•è¯è¾¹ç•Œ(boundary)ï¼ŒåŒ¹é…çš„æ˜¯ä¸€ä¸ªä½ç½®ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ã€‚å•è¯å’Œç©ºæ ¼ä¹‹é—´çš„ä½ç½®ï¼Œå°±æ˜¯æ‰€è°“å•è¯è¾¹ç•Œï¼Œå¹¶ä¸”å¯¹æ±‰å­—åŠå…¶ä»–è¯­è¨€æ˜¯æ— æ•ˆçš„ã€‚å…·ä½“æ¥è®²å°±æ˜¯åŒ¹é…\wå’Œ\Wä¹‹é—´çš„ä½ç½®ï¼Œä¹ŸåŒ…æ‹¬\wå’Œ^ä¹‹é—´çš„ä½ç½®ï¼Œä¹ŸåŒ…æ‹¬\wå’Œ$ä¹‹é—´çš„ä½ç½®ã€‚ 123'hello regex'.match(/\bregex$/); // ['regex']'hello regex'.match(/\b/g); // ["", "", "", ""] æœ‰4ä¸ªå•è¯è¾¹ç•Œï¼Œåˆ†åˆ«ä¸ºhelloå‰åŽä½ç½®ï¼Œregexå‰åŽä½ç½®'çªçªå¤´ ä¸€å—é’± 4ä¸ª'.match(/\bçªçªå¤´\b/); // null \B:åŒ¹é…ä¸€ä¸ªéžå•è¯è¾¹ç•Œï¼ŒåŒ¹é…çš„ä¸€ä¸ªä¸æ˜¯å•è¯è¾¹ç•Œçš„ä½ç½®ã€‚å…·ä½“è¯´æ¥å°±æ˜¯åŒ¹é…\wä¸Ž\wã€\Wä¸Ž\Wã€^ä¸Ž\Wï¼Œ\Wä¸Ž$ä¹‹é—´çš„ä½ç½®ã€‚ 123'1234'.match(/1\B2/); // ['12']'1234'.match(/\B/g); // ["", "", ""] æœ‰3ä¸ªéžå•è¯è¾¹ç•Œï¼Œåˆ†åˆ«ä¸º12ï¼Œ23ï¼Œ34ä¸­é—´çš„ä½ç½®'#'.match(/\B/g); // ["", ""] ä¸å¸¸ç”¨ \cx:åŒ¹é…ç”±xæŒ‡æ˜Žçš„æŽ§åˆ¶å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ\cMåŒ¹é…ä¸€ä¸ªControl-Mæˆ–å›žè½¦ç¬¦ã€‚xçš„å€¼å¿…é¡»ä¸ºA-Zæˆ–a-zä¹‹ä¸€ã€‚å¦åˆ™ï¼Œå°†cè§†ä¸ºä¸€ä¸ªåŽŸä¹‰çš„â€œcâ€å­—ç¬¦ã€‚ \f:åŒ¹é…ä¸€ä¸ªæ¢é¡µç¬¦ã€‚ç­‰ä»·äºŽ\x0cå’Œ\cLã€‚ \n:åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚ç­‰ä»·äºŽ\x0aå’Œ\cJã€‚ \r:åŒ¹é…ä¸€ä¸ªå›žè½¦ç¬¦ã€‚ç­‰ä»·äºŽ\x0då’Œ\cMã€‚ \t:åŒ¹é…ä¸€ä¸ªåˆ¶è¡¨ç¬¦ã€‚ç­‰ä»·äºŽ\x09å’Œ\cIã€‚ \v:åŒ¹é…ä¸€ä¸ªåž‚ç›´åˆ¶è¡¨ç¬¦ã€‚ç­‰ä»·äºŽ\x0bå’Œ\cKã€‚ é‡è¯ï¼šåœ¨æ­£åˆ™çš„ä¸–ç•Œé‡Œï¼Œä¸€ä¸ªå­—ç¬¦æˆ–è€…å…ƒå­—ç¬¦ä¹Ÿåªèƒ½åŒ¹é…å¯¹åº”çš„ä¸€ä¸ªå­—ç¬¦ï¼Œä½†æ˜¯å¦‚æžœéœ€è¦åŒ¹é…é‡å¤çš„å­—ç¬¦ï¼Œæ­£åˆ™ä¸–ç•Œé‡Œé‡è¯å°±èƒ½å¸®åŠ©æˆ‘ä»¬ï¼Œé‡è¯åŠ ä¸Šå…ƒå­—ç¬¦çš„ä½¿ç”¨ï¼Œå°±åƒæ˜¯åŠ ç‰¹æž—æœºæžªåŠ ä¸Šäº†è“å…‰ç‰¹æ•ˆï¼Œå¼ºå¤§å¹¶ä¸”ç‚«é…·ã€‚ ?ï¼šé‡å¤é›¶æ¬¡æˆ–è€…ä¸€æ¬¡ã€‚å¾ˆå¥½è®°å¿†ï¼Œå°±åƒæˆ‘ä»¬ç†è§£çš„é—®å·ä¸€æ ·ï¼Œä¸ç¡®å®šæœ‰æ²¡æœ‰ã€‚ +ï¼šé‡å¤ä¸€æ¬¡æˆ–è€…å¤šæ¬¡ï¼Œä¹Ÿå°±æ˜¯è‡³å°‘ä¸€æ¬¡ã€‚æ‡‚çš„è‡ªç„¶æ‡‚ï¼Œä¸ºä¸œæ–¹é•¿è€…+1sã€‚ *ï¼šé‡å¤é›¶æ¬¡æˆ–è€…å¤šæ¬¡ï¼Œä¹Ÿå°±æ˜¯ä»»æ„æ¬¡æ•°ã€‚å¯ä»¥æŠŠè¿™ä¸ªæƒ³è±¡æˆå¤©ä¸Šçš„æ˜Ÿæ˜Ÿï¼Œæœ‰æ—¶å€™ä½ çœ‹ä¸åˆ°æ˜Ÿæ˜Ÿ ï¼Œæœ‰æ—¶å€™ä½ å¯ä»¥çœ‹åˆ°æ•°ä¸å®Œçš„æ˜Ÿæ˜Ÿã€‚ {n}ï¼šé‡å¤næ¬¡ï¼Œåœ¨æ­£åˆ™ä¸­{}ç¬¦å·ä¸­é—´è¦æ˜¯æœ‰ä¸ªæ•°å­—æˆ–è€…æ˜¯æ•°å­—åŠ ,æ˜¯æœ‰ç‰¹æ®Šå«ä¹‰çš„ï¼Œä½†æ˜¯å¦‚æžœä¸­é—´æ˜¯å…¶ä»–ä¸œè¥¿æ˜¯ä¸éœ€è¦è½¬ä¹‰çš„ã€‚ {n,}ï¼šé‡å¤næ¬¡æˆ–è€…æ›´å¤šæ¬¡ï¼Œ{1,}ç›¸å½“äºŽ+ï¼Œ{0,}ç›¸å½“äºŽ*ã€‚ {n,m}ï¼šé‡å¤næ¬¡åˆ°mæ¬¡ä¹‹é—´çš„æ¬¡æ•°ï¼ŒåŒ…å«næ¬¡å’Œmæ¬¡ï¼Œ{0,1}ç›¸å½“äºŽ?ã€‚ é‡è¯è™½å¥½ï¼Œä½†è¿˜æ˜¯éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š {n,m}ä¸­é—´ä¸èƒ½æœ‰ç©ºæ ¼ï¼Œç©ºæ ¼åœ¨æ­£åˆ™ä¸­æ˜¯æœ‰å«ä¹‰çš„ï¼Œ{,m}æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œç”šè‡³ä¸ç”¨å¯¹ä»–è¿›è¡Œè½¬ä¹‰ï¼Œå®ƒå°±æ˜¯æ™®é€šçš„å­—ç¬¦ä¸²ã€‚ é‡è¯åŽé¢è·Ÿç€é‡è¯ä¼šæŠ¥é”™(æœ‰ç‰¹æ®Šæƒ…å†µï¼Œä¸‹é¢è¯´çš„éžè´ªå©ªæ¨¡å¼)ã€‚ /.*/åŠŸèƒ½å¼ºå¤§ï¼Œå¸¸ç”¨äºŽåŒ¹é…å¯¹æˆ‘ä»¬æ²¡æœ‰ä»·å€¼çš„å­—ç¬¦ï¼Œèƒ½åŒ¹é…è‹¥å¹²é™¤æ¢è¡Œç¬¦ä¹‹å¤–çš„å­—ç¬¦ï¼Œä½†æ˜¯æ€§èƒ½ä¸å¤ªå¥½ã€‚ æ­£åˆ™ä¸­ä¸æ˜¯æ‰€æœ‰åœ°æ–¹çš„?éƒ½æ˜¯åšé‡è¯ç”¨çš„ï¼Œ?è¿˜æœ‰å…¶ä»–å«ä¹‰ï¼Œåœ¨ä¸‹é¢çš„å†…å®¹æˆ‘ä¼šéƒ½åˆ—å‡ºæ¥ã€‚ è´ªå©ªæ¨¡å¼ä¸Žéžè´ªå©ªæ¨¡å¼ï¼šä¸Šé¢è¯´åˆ°äº†é‡è¯åŽé¢ä¸èƒ½è·Ÿé‡è¯ï¼Œä½†æ˜¯ä¼šæœ‰ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œé‚£å°±æ˜¯é€šè¿‡?åˆ‡æ¢è´ªå©ªæ¨¡å¼ä¸Žéžè´ªå©ªæ¨¡å¼ æ­£åˆ™ä¸–ç•Œçš„é»˜è®¤æ¨¡å¼æ˜¯è´ªå©ªæ¨¡å¼ï¼Œä»€ä¹ˆæ„æ€å‘¢ï¼Ÿæ¯”å¦‚&#39;Gooooogle&#39;.match(/o+/g)è¿™ä¸ªæ­£åˆ™é‡Œï¼Œæ— è®ºä½ æœ‰å¤šå°‘ä¸ªoæˆ‘éƒ½ç»™ä½ åŒ¹é…å‡ºæ¥ã€‚ å½“?ç´§è·Ÿåœ¨ä»»ä½•ä¸€ä¸ªå…¶ä»–é™åˆ¶ç¬¦ï¼ˆ*,+,?ï¼Œ{n}ï¼Œ{n,}ï¼Œ{n,m}ï¼‰åŽé¢æ—¶ï¼ŒåŒ¹é…æ¨¡å¼åˆ‡æ¢æˆéžè´ªå©ªæ¨¡å¼ã€‚éžè´ªå©ªæ¨¡å¼ä¼šå°½å¯èƒ½å°‘çš„åŒ¹é…æ‰€æœç´¢çš„å­—ç¬¦ä¸²ï¼Œè€Œé»˜è®¤çš„è´ªå©ªæ¨¡å¼åˆ™å°½å¯èƒ½å¤šçš„åŒ¹é…æ‰€æœç´¢çš„å­—ç¬¦ä¸²ã€‚ 12'gridsum good'.match(/g\w&#123;1,3&#125;/g) // ["grid", "good"] æ—¢ç„¶ä½ èƒ½ç»™æˆ‘3ä¸ªï¼Œæˆ‘å°±è¦3ä¸ª'gridsum good'.match(/g\w&#123;1,3&#125;?/g) // ["gr", "go"] æˆ‘åªè¦ä¸€ä¸ªå°±å¥½å•¦ï¼Œä¸è´ª æ­£ç¡®çš„ä½¿ç”¨éžè´ªå©ªæ¨¡å¼å¯ä»¥æ— å½¢çš„ä¼˜åŒ–ä½ çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œå› ä¸ºæ­£åˆ™å¼•æ“Žåœ¨è§£æžä½ å†™çš„æ­£åˆ™çš„æ—¶å€™èƒ½æ›´æ˜Žç¡®ä½ æ‰€è¦çš„ä¸œè¥¿ã€‚ å°ç»ƒä¹ ï¼š&#39;123 1234 12345 123456&#39;.match(/\d{2,5}/g)çš„åŒ¹é…ç»“æžœï¼Œ&#39;123 1234 12345 123456&#39;.match(/\d{2,5}?/g)çš„åŒ¹é…ç»“æžœ å­—ç¬¦ç»„ï¼šåœ¨æ­£åˆ™çš„ä¸–ç•Œé‡Œï¼Œä¸€ä¸ªå­—ç¬¦åªèƒ½åŒ¹é…åˆ°å®ƒè‡ªå·±ï¼Œä½†æ˜¯å¦‚æžœä½ åªçŸ¥é“è¿™ä¸ªå­—ç¬¦æ˜¯â€™abcâ€™ä¸­çš„ä¸€ç§ï¼Œè¿™æ—¶å€™å­—ç¬¦ç»„å°±èƒ½å¸®åŠ©åˆ°æˆ‘ä»¬ã€‚æ³¨æ„ï¼šå­—ç¬¦ç»„è™½ç„¶é‡Œé¢å¸¦ç»„ï¼Œä½†æ˜¯å®ƒæ˜¯åŒ¹é…ä¸€ä¸ªå­—ç¬¦çš„ã€‚ []:æ–¹æ‹¬å·åœ¨æ­£åˆ™ä¸­è¡¨ç¤ºä¸€ä¸ªåŒºé—´,æˆ‘ä»¬ç§°å®ƒä¸ºå­—ç¬¦ç»„,å­—ç¬¦ç»„ä¸­çš„å­—ç¬¦é›†åˆåªæ˜¯æ‰€æœ‰çš„å¯é€‰é¡¹ï¼Œæœ€ç»ˆå®ƒåªèƒ½åŒ¹é…ä¸€ä¸ªå­—ç¬¦,é™¤äº†-å’Œ^åœ¨å­—ç¬¦ç»„ä¸­æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œå…¶ä»–å­—ç¬¦ä¸€å¾‹ä½œä¸ºæ™®é€šå­—ç¬¦å¤„ç†ã€‚ä½†æ˜¯å‘¢ ï¼Œå¸¦\çš„å…ƒå­—ç¬¦è¿˜æ˜¯å¯ä»¥æ­£å¸¸ä½¿ç”¨çš„ã€‚ ^å¦‚æžœåœ¨å­—ç¬¦ç»„çš„æœ€å‰é¢ä¸­è¡¨ç¤ºå–åï¼Œä¸å†æ˜¯æ–‡æœ¬å¼€å§‹çš„ä½ç½®äº†ã€‚å¦‚æžœåœ¨å­—ç¬¦ç»„çš„å…¶ä»–ä½ç½®å°±æ˜¯ä¸ªæ™®é€šå­—ç¬¦ã€‚ -æœ¬æ¥æ˜¯ä¸€ä¸ªæ™®é€šå­—ç¬¦ï¼Œåœ¨å­—ç¬¦ç»„ä¸­æ‘‡èº«ä¸€å˜æˆä¸ºè¿žå­—ç¬¦ã€‚ä½†æ˜¯æ³¨æ„ï¼Œåªèƒ½è¿žæŽ¥å¤§å°å†™è‹±æ–‡å­—æ¯å’Œæ•°å­—ï¼Œæ¯”å¦‚æ•°å­—-æ•°å­—ï¼Œæ•°å­—-å­—æ¯ï¼Œå­—æ¯-å­—æ¯ã€‚å¦‚æžœ-å‰åŽæœ‰ä¸€ä¸ªåœ°æ–¹æ˜¯æ•°å­—æˆ–è€…å­—æ¯ï¼Œä½†æ˜¯å¦ä¸€è¾¹æ˜¯å…¶ä»–ç¬¦å·ï¼Œæ­£åˆ™ä¼šæŠ¥é”™å“¦ï¼Œå…¶ä¸­å°å†™å­—æ¯-å¤§å†™å­—æ¯è¿™ç§æ–¹å¼ä¹Ÿä¼šæŠ¥é”™ï¼Œä¸ºä»€ä¹ˆä¼šæŠ¥é”™å‘¢ï¼Œæˆ‘ä»¬æƒ³ä¸€ä¸‹ASCIIç ï¼Œå¤§å†™å­—æ¯æ˜¯åœ¨å°å†™å­—æ¯å‰é¢çš„ã€‚ä½†æ˜¯æ•°å­—-å°å†™å­—æ¯æˆ–è€…æ•°å­—-å¤§å†™å­—æ¯æˆ–è€…å¤§å†™å­—æ¯-å°å†™å­—æ¯è¿™äº›æ–¹å¼ä¸èƒ½ä¹±ç”¨å“¦ï¼Œå› ä¸ºè¿™é‡Œé¢åŒ…å«çš„ä¸åªæ˜¯æ•°å­—ä¸Žå­—æ¯äº†ï¼Œè¿˜ä¼šæœ‰å…¶ä»–ç¬¦å·ã€‚æ‰€ä»¥å¯ä»¥çœ‹å‡ºå­—ç¬¦ç»„é‡Œçš„è¿žæŽ¥ç¬¦æ˜¯æ ¹æ®ASCIIç æ¥çš„ã€‚ 1234var str = '123abcABC~!@#$%^&amp;*()_+=-&#123;&#125;[]\|:;,.?/&lt;&gt;`';str.match(/[A-z]/g) // ["a", "b", "c", "A", "B", "C", "^", "_", "[", "]", "`"]str.match(/[0-z]/g) // ["1", "2", "3", "a", "b", "c", "A", "B", "C", "@", "^", "_", "=", "[", "]", ":", ";", "?", "&lt;", "&gt;", "`"]str.match(/[0-Z]/g) // ["1", "2", "3", "A", "B", "C", "@", "=", ":", ";", "?", "&lt;", "&gt;"] å¦‚æžœä½ åªéœ€è¦-å’Œ^ä½œä¸ºæ™®é€šå­—ç¬¦ï¼Œå‰é¢åŠ \è½¬ä¹‰å³å¯ã€‚ 123'grey or gray'.match(/gr[ae]y/g); // ['grey','gray']'$'.match(/[$&amp;@]/); // ['$']'xyz-3'.match(/[0-c]/); // ['3'] å°ç»ƒä¹ ï¼šåŒ¹é…24å°æ—¶æ—¶é—´åˆ¶ï¼š/^([01][0-9]|[2][0-3]):[0-5][0-9]$/ æ•èŽ·ç»„ä¸Žéžæ•èŽ·ç»„ï¼šå‰é¢æˆ‘ä»¬çŸ¥é“äº†æ™®é€šå­—ç¬¦åŠ é‡è¯çš„ç»„åˆï¼Œèƒ½å¤ŸåŒ¹é…å‡ºå•ä¸ªå­—ç¬¦é‡å¤å¾ˆå¤šæ¬¡çš„å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆæˆ‘è¦åŒ¹é…ä¸€ä¸ªé‡å¤çš„å­—ç¬¦ä¸²å‘¢ï¼Ÿæ­¤æ—¶æ•èŽ·ç»„æ¥äº†ï¼Œå®ƒè·¨ç€å¤§é©¬æ­¥å‘æˆ‘ä»¬èµ°æ¥ã€‚ åœ¨æ­£åˆ™ä¸­()ä¿©ä¸ªåœ†æ‹¬å·ä»£è¡¨ç€å°†å®ƒå…¶ä¸­çš„å­—ç¬¦é›†åˆæ‰“åŒ…æˆä¸€ä¸ªæ•´ä½“ï¼Œç„¶åŽé‡è¯å°±å¯ä»¥æ“ä½œè¿™ä¸ªæ•´ä½“äº†ã€‚å¹¶ä¸”()çš„åŒ¹é…ç»“æžœé»˜è®¤æ˜¯å¯ä»¥æ•èŽ·çš„ã€‚å¦‚æžœä½ ä¸æƒ³å°†æ‹¬å·å†…çš„å­—ç¬¦æ•èŽ·å‡ºæ¥ï¼Œåªè¦åœ¨åœ†æ‹¬å·å†…æœ€å‰é¢åŠ ä¸Š?:æ ‡è¯†ï¼Œåƒè¿™æ ·(?:)ã€‚ 12'çªçªå¤´ ä¸€å—é’± ä¸€å—é’± ä¸€å—é’± 4ä¸ª'.match(/çªçªå¤´ (ä¸€å—é’± )+4ä¸ª/); // ['çªçªå¤´ ä¸€å—é’± ä¸€å—é’± ä¸€å—é’± 4ä¸ª', 'ä¸€å—é’±'] é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‹¬å·å†…çš„å†…å®¹ä¹Ÿä¼šåŒ¹é…å‡ºæ¥'çªçªå¤´ ä¸€å—é’± ä¸€å—é’± ä¸€å—é’± 4ä¸ª'.match(/çªçªå¤´ (?:ä¸€å—é’± )+4ä¸ª/); // ['çªçªå¤´ ä¸€å—é’± ä¸€å—é’± ä¸€å—é’± 4ä¸ª'] â€˜ä¸€å—é’±â€™æ²¡æœ‰äº† æ•èŽ·åˆ†ä¸ºæ­£åˆ™å†…æ•èŽ·å’Œæ­£åˆ™å¤–æ•èŽ· æ­£åˆ™å†…æ•èŽ·ï¼Œæ­£åˆ™å†…æ•èŽ·ä½¿ç”¨\æ•°å­—çš„å½¢å¼ï¼Œåˆ†åˆ«å¯¹åº”å‰é¢çš„åœ†æ‹¬å·æ•èŽ·çš„å†…å®¹ã€‚è¿™ç§æ•èŽ·çš„å¼•ç”¨ä¹Ÿå«åå‘å¼•ç”¨ã€‚æ¯”å¦‚æˆ‘ä»¬æŠŠhtmlæ‰€æœ‰éžè‡ªé—­åˆæ ‡ç­¾éƒ½åŒ¹é…å‡ºæ¥ï¼Œéžè‡ªé—­åˆæ ‡ç­¾çš„ç‰¹æ€§å°±æ˜¯å‰åŽæœ‰å¯¹åº”çš„æ ‡ç­¾åï¼Œåƒ&lt;div&gt;&lt;/div&gt;ã€‚å¦‚æžœåœ¨æ‹¬å·å†…ä½¿ç”¨äº†?:æ ‡ç¤ºï¼Œ\æ•°å­—çš„åå‘å¼•ç”¨æ–¹å¼å°±ä¼šå¤±æ•ˆã€‚ 12'&lt;App&gt;hello regex&lt;/App&gt;'.match(/&lt;([a-zA-Z]+)&gt;.*&lt;\/\1&gt;/); // ['&lt;App&gt;hello regex&lt;/App&gt;'] è¿™é‡Œçš„\1å°±æ˜¯å‰é¢()æ•èŽ·åˆ°çš„å†…å®¹'&lt;App&gt;hello regex&lt;/App&gt;'.match(/&lt;(?:[a-zA-Z]+)&gt;.*&lt;\/\1&gt;/); // null åŒæ—¶ï¼Œæ‹¬å·å†…æ˜¯å¯ä»¥ç»§ç»­åŠ æ‹¬å·çš„ï¼Œé‚£ä¹ˆ\æ•°å­—æ˜¯å¦‚ä½•ä¸€ä¸€å¯¹åº”å‰é¢çš„æ‹¬å·çš„ï¼Œè®°ä½ä¸€ç‚¹æ·±åº¦ä¼˜å…ˆçš„åŽŸåˆ™ï¼ŒåŒçº§æ•èŽ·æŒ‰å‰åŽé¡ºåºï¼ŒåŒä¸€ä¸ªæ•èŽ·å†…æœ€å¤–é¢ä¸€å±‚ä¼˜å…ˆ(å°±åƒå‰¥æ´‹è‘±),æ¯”å¦‚ä¸‹é¢çš„æ —å­ï¼š 12345'&lt;App&gt;hello regex&lt;/App&gt;&lt;p&gt;A&lt;/p&gt;&lt;p&gt;hello regex&lt;/p&gt;'.match(/&lt;((A|a)pp)&gt;(hello regex)+&lt;\/\1&gt;&lt;p&gt;\2&lt;\/p&gt;&lt;p&gt;\3&lt;\/p&gt;/);// ["&lt;App&gt;hello regex&lt;/App&gt;&lt;p&gt;A&lt;/p&gt;&lt;p&gt;hello regex&lt;/p&gt;", "App", "A", "hello regex"]// \1å¯¹åº”çš„æ˜¯((A|a)pp)è¿™ä¸ªæ•èŽ·ï¼Œ// \2å¯¹åº”çš„æ˜¯(A|a)è¿™ä¸ªæ•èŽ·ï¼Œ// \3å¯¹åº”çš„æ˜¯(hello regex)è¿™ä¸ªæ•èŽ· (ps:å°æ€è€ƒâ€”â€”æ—¢ç„¶åå‘åº”ç”¨æ˜¯æŒ‰ç…§æ•°å­—é¡ºåºæ¥çš„ï¼Œé‚£ä¹ˆ\10è¡¨ç¤ºçš„æ˜¯ç¬¬åä¸ªæ‹¬å·ï¼Œè¿˜æ˜¯\1å’Œ0çš„æ„æ€å‘¢ï¼Ÿ) è¿™ä¸ªç¡®å®žæœ‰ç‚¹ç»•ï¼Œå¦‚æžœä½ è¿˜æ²¡æ•´æ˜Žç™½ï¼Œä½ å¯ä»¥å°è¯•ä½¿ç”¨ES2018çš„æ–°ç‰¹æ€§â€”â€”æ•èŽ·å‘½åã€‚åœ¨æ•èŽ·ç»„å†…éƒ¨æœ€å‰é¢åŠ ä¸Š?&lt;key&gt;ï¼Œå®ƒå°±è¢«å‘½åäº†ã€‚ä½¿ç”¨\k&lt;key&gt;è¯­æ³•å°±å¯ä»¥å¼•ç”¨å·²ç»å‘½åçš„æ•èŽ·ç»„ã€‚æ•èŽ·å‘½ååªåœ¨æ­£åˆ™å†…æ•èŽ·ç”Ÿæ•ˆå“¦ï¼Œå¯¹ä¸Šé¢çš„ä»£ç è¯¥æ”¹é€ å¦‚ä¸‹ã€‚ 12345'&lt;App&gt;hello regex&lt;/App&gt;&lt;p&gt;A&lt;/p&gt;&lt;p&gt;hello regex&lt;/p&gt;'.match(/&lt;(?&lt;bar&gt;(?&lt;foo&gt;A|a)pp)&gt;(?&lt;tob&gt;hello regex)+&lt;\/\k&lt;bar&gt;&gt;&lt;p&gt;\k&lt;foo&gt;&lt;\/p&gt;&lt;p&gt;\k&lt;tob&gt;&lt;\/p&gt;/);// ["&lt;App&gt;hello regex&lt;/App&gt;&lt;p&gt;A&lt;/p&gt;&lt;p&gt;hello regex&lt;/p&gt;", "App", "A", "hello regex"]// \k&lt;bar&gt;å¯¹åº”çš„æ˜¯((A|a)pp)è¿™ä¸ªæ•èŽ·ï¼Œ// \k&lt;foo&gt;å¯¹åº”çš„æ˜¯(A|a)è¿™ä¸ªæ•èŽ·ï¼Œ// \k&lt;tob&gt;å¯¹åº”çš„æ˜¯(hello regex)è¿™ä¸ªæ•èŽ· æ­£åˆ™å¤–æ•èŽ·ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸‹é¢è¿™ä¸ªæ —å­ã€‚ 1234'@abc'.match(/@(abc)/);// ["@abc", "abc", index: 0, input: "@abc", groups: undefined]RegExp.$1;// "abc" æ²¡é”™ï¼ŒRegExpå°±æ˜¯æž„é€ æ­£åˆ™çš„æž„é€ å‡½æ•°ã€‚å¦‚æžœæœ‰æ•èŽ·ç»„ï¼Œå®ƒçš„å®žä¾‹å±žæ€§$æ•°å­—ä¼šæ˜¾ç¤ºå¯¹åº”çš„å¼•ç”¨ã€‚å¦‚æžœæœ‰å¤šä¸ªæ­£åˆ™ï¼ŒRegExpæž„é€ å‡½æ•°çš„å¼•ç”¨åªæ˜¾ç¤ºæœ€åŽä¸€ä¸ªæ­£åˆ™çš„æ•èŽ·ã€‚ å…¶å®žæ­£åˆ™å¤–çš„æ•èŽ·æ›´åŠ å¸¸ç”¨çš„æ˜¯å­—ç¬¦ä¸²çš„æ–¹æ³•replaceï¼Œreplaceæ˜¯æˆ‘ä»¬æ—¥å¸¸å¼€å‘ä¸­æ¯”è¾ƒå¸¸ç”¨çš„ã€‚åœ¨ä¸‹é¢çš„çŽ¯èŠ‚ä¸­ä¼šè¯¦ç»†ä»‹ç»å®ƒã€‚ 12'hello **regex**'.replace(/\*&#123;2&#125;(.*)\*&#123;2&#125;/, '&lt;strong&gt;$1&lt;/strong&gt;');// "hello &lt;strong&gt;regex&lt;/strong&gt;" ä¿®é¥°ç¬¦ï¼šå’ŒvueæŒ‡ä»¤åŽé¢è·Ÿç€çš„ä¿®é¥°ç¬¦ä¸€æ ·ï¼Œæ­£åˆ™è¡¨è¾¾å¼æœ‰ä¿®é¥°ç¬¦ï¼Œå®ƒåƒå°å°¾å·´ä¸€æ ·è·Ÿåœ¨æ­£åˆ™ä¸»ä½“åŽé¢ã€‚ gä¿®é¥°ç¬¦(å¸¸ç”¨):gæ˜¯globalçš„ç¼©å†™ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ­£åˆ™ä»Žå·¦å‘å³åŒ¹é…ï¼Œåªè¦åŒ¹é…åˆ°äº†ç»“æžœå°±ä¼šæ”¶å·¥ã€‚gä¿®é¥°ç¬¦ä¼šå¼€å¯å…¨å±€åŒ¹é…æ¨¡å¼ï¼Œæ‰¾åˆ°æ‰€æœ‰åŒ¹é…çš„ç»“æžœã€‚ iä¿®é¥°ç¬¦(å¸¸ç”¨):iæ˜¯ignoreCaseçš„ç¼©å†™ã€‚åœ¨æ­£åˆ™ä¸–ç•Œé‡Œï¼Œå¤§å°å†™å­—æ¯æ˜¯æœ‰åŒºåˆ«çš„,/z/å°å†™çš„æ˜¯æ— æ³•åŒ¹é…åˆ°å¤§å†™çš„Z,iä¿®é¥°ç¬¦å¯ä»¥å…¨å±€å¿½ç•¥å¤§å°å†™ã€‚ mä¿®é¥°ç¬¦(å¸¸ç”¨):mæ˜¯multilineçš„ç¼©å†™ã€‚è¿™ä¸ªä¿®é¥°ç¬¦æœ‰ç‰¹å®šèµ·ä½œç”¨çš„åœºæ™¯ï¼šå®ƒè¦å’Œ^å’Œ$æ­é…èµ·æ¥ä½¿ç”¨ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ^å’Œ$åŒ¹é…çš„æ˜¯æ–‡æœ¬çš„å¼€å§‹å’Œç»“æŸï¼ŒåŠ ä¸Šmä¿®é¥°ç¬¦ï¼Œå®ƒä»¬çš„å«ä¹‰å°±å˜æˆäº†è¡Œçš„å¼€å§‹å’Œç»“æŸã€‚åœ¨åŒ¹é…æ¢è¡Œæ–‡æœ¬çš„æ—¶å€™å¾ˆæœ‰ç”¨ 12345678910`abcxyz`.match(/^xyz$/);// åŒ¹é…ç»“æžœä¸ºnullã€‚å¦‚æžœä¸åŠ mï¼Œè¿™é‡Œ^å’Œ$è¿˜æ˜¯ä»£è¡¨æ–‡æœ¬çš„å¼€å§‹ä¸Žç»“æŸï¼Œè¿™é‡Œæ–‡æœ¬çš„å¼€å§‹å’Œç»“æŸç›¸é‚»çš„å­—ç¬¦éƒ½æ˜¯æ¢è¡Œç¬¦ï¼Œæ‰€ä»¥åŒ¹é…ä¸åˆ°ä¸œè¥¿`abcxyz`.match(/^xyz$/m); // åŒ¹é…ç»“æžœä¸º['xyz']ã€‚åŠ äº†mï¼Œè¿™é‡Œ^å’Œ$è¿˜æ˜¯ä»£è¡¨è¡Œçš„å¼€å§‹ä¸Žç»“æŸï¼Œå…¶ä¸­xyzå°±ä¸ºä¸€è¡Œã€‚ yä¿®é¥°ç¬¦(ES2015æ–°ç‰¹æ€§ï¼Œä¸å¸¸ç”¨):yæ˜¯stickyçš„ç¼©å†™ã€‚yä¿®é¥°ç¬¦æœ‰å’Œgä¿®é¥°ç¬¦é‡åˆçš„åŠŸèƒ½ï¼Œå®ƒä»¬éƒ½æ˜¯å…¨å±€åŒ¹é…ã€‚æ‰€ä»¥é‡ç‚¹åœ¨stickyä¸Šï¼Œæ€Žä¹ˆç†è§£è¿™ä¸ªç²˜è¿žå‘¢ï¼Ÿgä¿®é¥°ç¬¦ä¸æŒ‘é£Ÿï¼ŒåŒ¹é…å®Œä¸€ä¸ªæŽ¥ç€åŒ¹é…ä¸‹ä¸€ä¸ªï¼Œå¯¹äºŽæ–‡æœ¬çš„ä½ç½®æ²¡æœ‰è¦æ±‚ã€‚ä½†æ˜¯yä¿®é¥°ç¬¦è¦æ±‚å¿…é¡»ä»Žæ–‡æœ¬çš„å¼€å§‹å®žæ–½åŒ¹é…ï¼Œå› ä¸ºå®ƒä¼šå¼€å¯å…¨å±€åŒ¹é…ï¼ŒåŒ¹é…åˆ°çš„æ–‡æœ¬çš„ä¸‹ä¸€ä¸ªå­—ç¬¦å°±æ˜¯ä¸‹ä¸€æ¬¡æ–‡æœ¬çš„å¼€å§‹ã€‚è¿™å°±æ˜¯æ‰€è°“çš„ç²˜è¿žã€‚ sä¿®é¥°ç¬¦(ES2018æ–°ç‰¹æ€§ï¼Œä¸å¸¸ç”¨):sæ˜¯singlelineçš„ç¼©å†™ã€‚sä¿®é¥°ç¬¦è¦å’Œ.æ­é…ä½¿ç”¨ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œ.åŒ¹é…é™¤äº†æ¢è¡Œç¬¦ä¹‹å¤–çš„ä»»æ„å•ä¸ªå­—ç¬¦ï¼Œç„¶è€Œå®ƒè¿˜æ²¡æœ‰å¼ºå¤§åˆ°æ— æ‰€ä¸èƒ½çš„åœ°æ­¥ï¼Œæ‰€ä»¥æ­£åˆ™ç´¢æ€§ç»™å®ƒå¼€ä¸ªæŒ‚ã€‚sä¿®é¥°ç¬¦çš„ä½œç”¨å°±æ˜¯è®©.å¯ä»¥åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦ã€‚ uä¿®é¥°ç¬¦(ES2015æ–°ç‰¹æ€§ï¼Œä¸å¸¸ç”¨):uæ˜¯unicodeçš„ç¼©å†™ã€‚æœ‰ä¸€äº›Unicodeå­—ç¬¦è¶…è¿‡ä¸€ä¸ªå­—èŠ‚ï¼Œæ­£åˆ™å°±æ— æ³•æ­£ç¡®çš„è¯†åˆ«å®ƒä»¬ã€‚uä¿®é¥°ç¬¦å°±æ˜¯ç”¨æ¥å¤„ç†è¿™äº›ä¸å¸¸è§çš„æƒ…å†µçš„ã€‚ æ­£åˆ™ä¸–ç•Œçš„æ­¦å™¨ï¼šJSä¸­ä¸Žæ­£åˆ™ç›¸å…³çš„æ–¹æ³•ç»è¿‡å‰é¢ä¸€ç•ªå°æ€ªçš„åŽ†ç»ƒï¼Œæˆ‘ä»¬ç»éªŒå€¼é€æ¸æ¶¨äº†èµ·æ¥ï¼Œä½†æ˜¯å…‰æœ‰ç­‰çº§ï¼Œæ²¡æœ‰å¥½ä½¿çš„æ­¦å™¨å¯ä¸è¡Œå•Šï¼Œæ‰€ä»¥æˆ‘ä»¬æŽ¥ä¸‹æ¥åŽ»æ­£åˆ™ä¸–ç•Œé‡Œçš„â€æ­¦å™¨åº“â€ï¼Œçœ‹çœ‹æœ‰å“ªäº›å¥½ä½¿çš„æ­¦å™¨ã€‚ ä½†æ˜¯åœ¨è¿›å…¥æ­¦å™¨åº“å‰ï¼Œæˆ‘ä»¬å…ˆè§£å†³ä¸€ä¸‹çœ‹å®ˆæ­¦å™¨åº“çš„å°æ€ªç‰©ã€‚ çœ‹é—¨å°æ€ªç‰©â€”â€”é›¶å®½æ–­è¨€åœ¨å‰é¢çš„å…ƒå­—ç¬¦çŽ¯èŠ‚ï¼Œæˆ‘ä»¬äº†è§£åˆ°ï¼Œæ­£åˆ™é‡Œæœ‰ä¸€äº›å…ƒå­—ç¬¦åªåŒ¹é…ä½ç½®ï¼Œä¸åŒ¹é…å­—ç¬¦ã€‚æ¯”å¦‚^,$,\b,\Bç­‰ã€‚å½“ç„¶æ­£åˆ™è¿˜æœ‰ä¸€äº›æ¯”è¾ƒé«˜çº§çš„åŒ¹é…ä½ç½®çš„è¯­æ³•ï¼Œå®ƒåŒ¹é…çš„æ˜¯ï¼šåœ¨è¿™ä¸ªä½ç½®ä¹‹å‰æˆ–ä¹‹åŽåº”è¯¥æœ‰ä»€ä¹ˆå†…å®¹ã€‚ æ‰€è°“é›¶å®½æŒ‡çš„å°±æ˜¯å®ƒåŒ¹é…ä¸€ä¸ªä½ç½®ï¼Œä½ç½®æ˜¯æ²¡æœ‰å®½åº¦çš„(è¿™å¥è¯å¾ˆå…³é”®çš„ï¼Œæ‰€ä»¥ä½ç½®åŒ¹é…å¯ä»¥æ— é™é‡å¤çš„ï¼Œæ‰€ä»¥ä¸Šé¢è¯´çš„ä½ç½®ç›¸å…³å…ƒå­—ç¬¦ä¹Ÿæ˜¯å¯ä»¥å’Œæ–­è¨€æ­é…ä½¿ç”¨çš„)ã€‚æ‰€è°“æ–­è¨€æŒ‡çš„æ˜¯ä¸€ç§åˆ¤æ–­ï¼Œæ–­è¨€ä¹‹å‰æˆ–ä¹‹åŽåº”è¯¥æœ‰ä»€ä¹ˆæˆ–åº”è¯¥æ²¡æœ‰ä»€ä¹ˆã€‚ é›¶å®½è‚¯å®šå…ˆè¡Œæ–­è¨€:æ‰€è°“çš„è‚¯å®šå°±æ˜¯åˆ¤æ–­æœ‰ä»€ä¹ˆï¼Œè€Œä¸æ˜¯åˆ¤æ–­æ²¡æœ‰ä»€ä¹ˆã€‚è€Œå…ˆè¡ŒæŒ‡çš„æ˜¯å‘å‰çœ‹(lookahead)ï¼Œæ–­è¨€çš„è¿™ä¸ªä½ç½®æ˜¯ä¸ºå‰é¢çš„æ­£åˆ™è§„åˆ™æœåŠ¡çš„(äººè¯ï¼šæ•´ä¸ªåœ†æ‹¬å·åŒ¹é…çš„æ˜¯ä¸ªä½ç½®ï¼Œé‚£ä¹ˆåŒ¹é…åˆ°è¿™ä¸ªä½ç½®çš„è§„åˆ™å†™åœ¨åœ†æ‹¬å·å†…ï¼Œåœ†æ‹¬å·é‡Œçš„å†…å®¹ä¸ºæ‹¬å·å‰é¢çš„æ­£åˆ™æ¯æ¯ç›¸å…³)ã€‚è¯­æ³•å¾ˆç®€å•ï¼šåœ†æ‹¬å·å†…æœ€å·¦è¾¹åŠ ä¸Š?=æ ‡è¯†ã€‚çœ‹ä¸‹é¢è¿™ä¸ªæ —å­ï¼š 1`CoffeeScript JavaScript Typescript`.match(/\b\w&#123;4&#125;(?=Script\b)/); // ["Java"] è¿™å¥æ­£åˆ™ä»€ä¹ˆæ„æ€å‘¢ï¼ŸåŒ¹é…4ä¸ªå­—æ¯ï¼Œè¿™4ä¸ªå­—æ¯æœ€å‰é¢æ˜¯ä¸€ä¸ªå•è¯è¾¹ç•Œï¼Œå¹¶ä¸”åŽé¢æœ‰ä¸€ä¸ªç¬¦åˆä¸€ä¸ªè§„åˆ™çš„ä½ç½®ï¼Œè¿™ä¸ªè§„åˆ™ä¸ºä¸€ä¸ªç»“å°¾ä¸ºå•è¯è¾¹ç•Œä½ç½®çš„Scriptå­—ç¬¦ä¸²ã€‚åœ¨CoffeeScript JavaScript Typescripté‡Œï¼Œæ»¡è¶³è¿™ä¸ªè§„åˆ™çš„åªæœ‰å‰é¢ä¿©ä¸ªCoffeeScript JavaScriptï¼Œå…¶ä¸­CoffeeScriptçš„Scriptå‰é¢ä¸º\b\w{6}ï¼Œæ‰€ä»¥ä¸ç¬¦åˆæ­£åˆ™è¦æ±‚ï¼Œåªæœ‰JavaScriptç¬¦åˆï¼Œå¹¶ä¸”ç‰¢è®°æ–­è¨€æ˜¯æ²¡æœ‰å®½åº¦çš„è¿™ä¸ªç‰¹æ€§ï¼Œæ‰€ä»¥åªåŒ¹é…å‡ºé‡ŒJavaå‡ºæ¥ã€‚ ä¸ºäº†è¯´æ˜Žæ²¡æœ‰å®½åº¦è¿™ä¸ªç‰¹æ€§ï¼Œæˆ‘ä»¬æŽ¥ç€çœ‹è¿™ä¸ªæ —å­ï¼š 1'CoffeeScript JavaScript javascript'.match(/\b\w&#123;4&#125;(?=Script\b)\w+/); // ['JavaScript'] æˆ‘ä»¬åœ¨(?=Script\b)åŽé¢æ–°æ·»é‡Œæ­£åˆ™\w+ï¼Œæ ¹æ®å‰é¢çš„è§£é‡Šï¼Œ\b\w{4}(?=Script\b)ä¾æ—§åŒ¹é…çš„æ˜¯Javaï¼Œç„¶åŽ\w+åŒ¹é…åˆ°é‡ŒScriptï¼Œæ‰€ä»¥åŒ¹é…ç»“æžœä¸ºJavaScriptã€‚ é›¶å®½å¦å®šå…ˆè¡Œæ–­è¨€:è‚¯å®šæ˜¯åˆ¤æ–­æœ‰ä»€ä¹ˆï¼Œé‚£ä¹ˆå¦å®šå°±æ˜¯åˆ¤æ–­æ²¡æœ‰ä»€ä¹ˆï¼Œè¯­æ³•æ˜¯åœ†æ‹¬å·å†…æœ€å·¦è¾¹åŠ ä¸Š?!æ ‡è¯†ã€‚ 1'TypeScript Perl JavaScript'.match(/\b\w&#123;4&#125;(?!Script\b)/); // ['Perl'] é›¶å®½è‚¯å®šåŽè¡Œæ–­è¨€:å‰é¢è¯´çš„å…ˆè¡Œæ˜¯å‘å‰çœ‹ï¼Œé‚£ä¹ˆåŽè¡Œå°±æ˜¯å‘åŽçœ‹(lookbehind)ï¼Œæ–­è¨€çš„è¿™ä¸ªä½ç½®æ˜¯ä¸ºåŽé¢çš„è§„åˆ™æœåŠ¡çš„ã€‚è¯­æ³•å¾ˆç®€å•ï¼šåœ†æ‹¬å·å†…æœ€å·¦è¾¹åŠ ä¸Š?&lt;=æ ‡è¯†ã€‚æœ‰ä¸€ç‚¹è¦æ³¨æ„ï¼ŒåŽè¡Œæ–­è¨€æ˜¯ES2018çš„æ–°ç‰¹æ€§ï¼Œç›®å‰æ¡Œé¢æµè§ˆå™¨åªæœ‰Chrome62å’ŒOpera49ä»¥ä¸Šçš„ç‰ˆæœ¬æ‰æ”¯æŒï¼Œå…¶ä»–æµè§ˆå™¨éƒ½ä¸æ”¯æŒï¼Œä¼šæŠ¥é”™ 12'æ¼”å‘˜é«˜åœ†åœ† å°†å†›éœåŽ»ç—… æ¼”å‘˜éœæ€ç‡•'.match(/(?&lt;=æ¼”å‘˜)éœ\S+/);// åŒ¹é…ç»“æžœä¸º['éœæ€ç‡•']ã€‚æˆ‘ä»¬å…ˆçœ‹`éœ\S+`è¿™ä¸ªæ­£åˆ™çš„æ„æ€ï¼Œéœå¼€å¤´å¹¶ä¸”åŽé¢æœ‰ä¸€ä¸ªæˆ–è€…æ— æ•°ä¸ªä¸ºéžç©ºå­—ç¬¦çš„å­—ç¬¦ç»„ï¼Œæ»¡è¶³è¿™ä¸ªæ­£åˆ™æ¡ä»¶çš„æ˜¯`éœåŽ»ç—…`å’Œ`éœæ€ç‡•`ï¼Œè€ŒåŽè¡Œæ–­è¨€æ˜¯ä¸ºåŽé¢çš„è§„åˆ™æœåŠ¡çš„ï¼Œ`(?&lt;=æ¼”å‘˜)`çš„æ„æ€å°±æ˜¯è°å‰é¢çš„å­—ç¬¦ä¸²ä¸ºæ¼”å‘˜ï¼Œå¾ˆæ˜Žæ˜¾`éœæ€ç‡•`æ˜¯æ»¡è¶³è¿™ä¸ªæ¡ä»¶çš„ã€‚ é›¶å®½å¦å®šå…ˆè¡Œæ–­è¨€:åŒç†ï¼Œè‚¯å®šæ˜¯åˆ¤æ–­æœ‰ä»€ä¹ˆï¼Œé‚£ä¹ˆå¦å®šå°±æ˜¯åˆ¤æ–­æ²¡æœ‰ä»€ä¹ˆï¼Œè¯­æ³•æ˜¯åœ†æ‹¬å·å†…æœ€å·¦è¾¹åŠ ä¸Š?&lt;!æ ‡è¯†ã€‚ 12'æ¼”å‘˜é«˜åœ†åœ† å°†å†›éœåŽ»ç—… æ¼”å‘˜éœæ€ç‡•'.match(/(?&lt;!æ¼”å‘˜)éœ\S+/);// åŒ¹é…ç»“æžœä¸º['éœåŽ»ç—…'] è®²åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å·²ç»æ‰‹æ’•äº†é›¶å®½æ–­è¨€ï¼ŒæŽ¨å¼€äº†æ­¦å™¨åº“çš„å¤§é—¨ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹éƒ½æœ‰å“ªäº›è¶æ‰‹çš„æ­¦å™¨å§ã€‚ å› ä¸ºæ­£åˆ™è¡¨è¾¾å¼æ˜¯ç”¨æ¥å¤„ç†å­—ç¬¦ä¸²çš„ï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†çš„æ–¹æ³•ä¸ŽStringç±»åž‹æœ‰å…³ã€‚åœ¨ä¸Šé¢çš„æ —å­ä¸­ï¼Œä½¿ç”¨çš„matchï¼Œå°±æ˜¯å…¶ä¸­ä¸€ç§ï¼Œä¸‹é¢æˆ‘æŠŠæ‰€æœ‰å’Œæ­£åˆ™æœ‰å…³çš„çš„æ–¹æ³•é›†ç»“å¦‚ä¸‹(æœ‰äº›MDNä¸Šæ ‡æ˜Žå·²åºŸå¼ƒçš„å°±ä¸åˆ—å‡º)ï¼Œæˆ‘ä»¬ç®€å•çš„è¿‡ä¸€ä¸‹ã€‚ Stringç›¸å…³: match: æ£€ç´¢è¿”å›žä¸€ä¸ªå­—ç¬¦ä¸²åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„çš„ç»“æžœã€‚ è¯­æ³•: str.match(regexp) å®ƒæŽ¥å—ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ä½œä¸ºå”¯ä¸€å‚æ•°ï¼Œä½†æ˜¯ä½ ä¼ ä¸€ä¸ªå­—ç¬¦ä¸²è¿›åŽ»ï¼Œä¼šéšå¼çš„å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ªæ­£åˆ™å®žä¾‹ã€‚ matchçš„è¿”å›žå€¼å¯ä»¥åˆ†ä¸ºä¸‰ç§æƒ…å†µ åŒ¹é…å¤±è´¥çš„æ—¶å€™è¿”å›žnullã€‚ éžå…¨å±€åŒ¹é…ï¼šè¿”å›žä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„çš„ç¬¬ä¸€é¡¹ä¸ºåŒ¹é…ç»“æžœï¼Œå¦‚æžœä½ æ²¡æœ‰ä¼ ä»»ä½•å‚æ•°ç»™match,åŒ¹é…ç»“æžœä¸ºç©ºå­—ç¬¦ä¸²ï¼Œå¦‚æžœæ­£åˆ™é‡Œæœ‰æ•èŽ·ç»„å¹¶ä¸”æ²¡æœ‰è®¾ç½®?:ï¼Œé‚£ä¹ˆä»Žç¬¬äºŒé¡¹å¼€å§‹ä¾æ¬¡æŽ’åˆ—æ•èŽ·çš„ç»“æžœã€‚å¹¶ä¸”æ•°ç»„é‡Œæœ‰ä¸‰ä¸ªå±žæ€§:index,input,groupsã€‚ 12345'i love gridsum'.match(/\blo(v)(?&lt;key&gt;e)/)// ["love", "v", "e", index: 2, input: "i love gridsum", groups: &#123;key: "e"&#125;]// indexå±žæ€§ï¼Œæ ‡æ˜ŽåŒ¹é…ç»“æžœåœ¨æ–‡æœ¬ä¸­çš„èµ·å§‹ä½ç½®ã€‚// inputå±žæ€§ï¼Œæ˜¾ç¤ºæºæ–‡æœ¬ã€‚// groupså±žæ€§ï¼Œå®ƒå­˜å‚¨çš„ä¸æ˜¯æ•èŽ·ç»„çš„ä¿¡æ¯ï¼Œè€Œæ˜¯æ•èŽ·å‘½åçš„ä¿¡æ¯ã€‚ å…¨å±€åŒ¹é…ï¼šè¿”å›žä¸€ä¸ªæ•°ç»„ï¼ŒåŒ¹é…çš„ç»“æžœä¼šä¾æ¬¡åœ¨æ•°ç»„åˆ—å‡ºï¼Œä½†æ˜¯å…¶ä»–ä¿¡æ¯éƒ½ä¸ä¼šåˆ—å‡ºæ¥ã€‚ matchAll: æ–¹æ³•è¿”å›žä¸€ä¸ªåŒ…å«æ‰€æœ‰åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„ç»“æžœåŠåˆ†ç»„æ•èŽ·ç»„çš„è¿­ä»£å™¨ã€‚è¿­ä»£å™¨ç›¸å…³çš„çŸ¥è¯†å¯ä»¥å‚è€ƒé˜®ä¸€å³°ECMAScriptå…¥é—¨; è¯­æ³•ï¼šstr.matchAll(regexp) 12345const bar = '@gridsum1-good-$gridsum3'.matchAll(/([^-]+)gridsum(\d+)/g);bar.next(); // &#123;value:['@gridsum1', '@', '1'], done: false&#125;bar.next(); // &#123;value:['@gridsum3', '$', '3'], done: false&#125;bar.next(); // &#123;value:undefined, done: true&#125; ç»“æŸ// valueé‡Œçš„è¿™ä¸ªæ•°ç»„é‡Œï¼Œç¬¬ä¸€ä¸ªæ•°ä»£è¡¨çš„æ˜¯åŒ¹é…çš„ç»“æžœï¼ŒåŽé¢ä¾æ¬¡ä¸ºæ•èŽ·ç»„çš„å†…å®¹ å¦‚æžœæ²¡æœ‰ g æ ‡å¿—åˆ™matchAll åªä¼šè¿”å›žé¦–ä¸ªåŒ¹é…ã€‚å½“è¿­ä»£å™¨æ¶ˆè€—å°½äº†ï¼Œæ— æ³•å†æ¬¡å¤ç”¨ï¼Œéœ€è¦é‡æ–°èŽ·å–ä¸€ä¸ªæ–°çš„è¿­ä»£å™¨ã€‚ ä¹Ÿå¯ä»¥é€šè¿‡æ‰©å±•è¿ç®—ç¬¦æˆ–è€…Array.form()æˆ–è€…for...ofæ¥è¿›è¡Œå¾ªçŽ¯ã€‚ 12345678var bar = '@gridsum1-good-$gridsum3'.matchAll(/([^-]+)gridsum(\d+)/g);var [bar1,bar2,bar3] = Array(3).fill(bar, 0 , 3);var arr1 = [...bar];// [["@gridsum1", "@", "1", index: 0, input: "@gridsum1-good-$gridsum3", groups: undefined],["$gridsum3", "$", "3", index: 15, input: "@gridsum1-good-$gridsum3", groups: undefined]];var arr2 = Array.from(bar2);for (i of bar3) &#123; i.next();&#125; replace: æ ¹æ®ç»™å®šçš„å­—ç¬¦ä¸²æˆ–è€…æ­£åˆ™æ›¿æ¢åŒ¹é…ç»“æžœï¼Œå¹¶è¿”å›žæ–°çš„æ›¿æ¢åŽçš„æ–‡æœ¬ã€‚æºæ–‡æœ¬ä¸ä¼šæ”¹å˜ã€‚å®ƒæœ‰ä¿©ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸º å­—ç¬¦ä¸²æˆ–è€…æ­£åˆ™è¡¨è¾¾å¼ï¼Œä½œç”¨ä¸ºåŒ¹é…ï¼ˆå­—ç¬¦ä¸²åªèƒ½æ›¿æ¢ä¸€æ¬¡ï¼Œä¸å¦‚æ­£åˆ™çš„è¡¨è¾¾èƒ½åŠ›å¼ºï¼‰ã€‚ç¬¬äºŒä¸ªå‚æ•°ä¸ºå­—ç¬¦ä¸²æˆ–è€…ä¸€ä¸ªå‡½æ•°ï¼Œä½œç”¨ä¸ºæ›¿æ¢ã€‚ è¯­æ³•: str.replace(regexp|substr, newSubStr|function) æˆ‘ä»¬åœ¨æ­£åˆ™å°æ€ªä¸­çš„æ•èŽ·ä¸­åŸ‹äº†ä¸€ä¸ªå‘ï¼Œè¯´æ­£åˆ™å¤–æ•èŽ·å¤§éƒ¨åˆ†ä¸Žreplaceæœ‰å…³ï¼ŒçŽ°åœ¨æˆ‘ä»¬å°±è®²è®²ä¸ºå•¥ä¸Žreplaceæœ‰å…³ã€‚ åœ¨æ›¿æ¢å­—ç¬¦ä¸²ä¸­ï¼Œreplaceæä¾›äº†ä¸€äº›ç‰¹æ®Šçš„å˜é‡åã€‚ å˜é‡å ä»£è¡¨çš„å€¼ ç¤ºä¾‹ ç¤ºä¾‹ç»“æžœ $$ æ’å…¥ä¸€ä¸ª $ã€‚ &#39;-abcd-&#39;.replace(/-/g, &#39;$$&#39;) â€˜$abcd$â€™ $&amp; æ’å…¥åŒ¹é…çš„å­ä¸²ã€‚ &#39;-abcd-&#39;.replace(/-abcd-/g, &#39;{$&amp;}&#39;) â€˜{-abcd-}â€™ $` æ’å…¥å½“å‰åŒ¹é…çš„å­ä¸²å·¦è¾¹çš„å†…å®¹ã€‚ &#39;-abcd-&#39;.replace(/-/g, &#39;{$}â€™)` â€˜{abcd-}abcd{}â€™ $&#39; æ’å…¥å½“å‰åŒ¹é…çš„å­ä¸²å³è¾¹çš„å†…å®¹ã€‚ &#39;-abcd-&#39;.replace(/-/g, &quot;{$&#39;}&quot;) â€˜{abcd-}abcd{}â€™ $n å‡å¦‚è´Ÿè´£åŒ¹é…çš„å‚æ•°æ˜¯ä¸€ä¸ªæ­£åˆ™ï¼Œ$nä»£è¡¨çš„æ˜¯ç¬¬nä¸ªæ‹¬å·åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²(åŒæ ·ä¸ºå†…éƒ¨æ²¡æœ‰?:çš„æ‹¬å·)ï¼Œnæ˜¯ä»Ž1å¼€å§‹å¹¶ä¸”å°äºŽ100çš„éžè´Ÿæ•´æ•°ã€‚ &#39;-abcd-&#39;.replace(/(-)(a)bcd-/g, &#39;$1$2&#39;) â€˜-aâ€™ å…¶ä¸­ç”¨çš„æœ€å¤šçš„è¿˜æ˜¯$nè¿™ç§æ–¹å¼ã€‚æ‰€ä»¥æ­£åˆ™å¤–æ•èŽ·æ˜¯ä¸Žreplaceæ¯æ¯ç›¸å…³çš„ã€‚ å½“replaceçš„ç¬¬äºŒä¸ªå‚æ•°ä¸ºä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå½“åŒ¹é…æ‰§è¡Œæ—¶ï¼Œè¯¥å‡½æ•°å°±ä¼šæ‰§è¡Œï¼Œå‡½æ•°çš„è¿”å›žå€¼ä½œä¸ºæ›¿æ¢å­—ç¬¦ä¸²ï¼Œå¦‚æžœä½ æ²¡è®¾ç½®è¿”å›žå€¼ï¼Œé»˜è®¤è¿”å›žundefinedå­—ç¬¦ä¸²ï¼Œå¦‚æžœç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¹¶ä¸”å…¶ä¸ºå…¨å±€åŒ¹é…æ¨¡å¼ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–¹æ³•å°†è¢«å¤šæ¬¡è°ƒç”¨ï¼Œæ¯æ¬¡åŒ¹é…éƒ½ä¼šè¢«è°ƒç”¨ã€‚ è¯¥å‡½æ•°å…±æœ‰4ä¸ªå‚æ•°ã€‚ å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œæ˜¯åŒ¹é…ç»“æžœã€‚å¯¹åº”äºŽä¸Šè¿°çš„$&amp;ã€‚ 1234'hello gridsum'.replace(/gridsum/g, (match) =&gt; `&#123;$&#123;match&#125;&#125;`);// "hello &#123;gridsum&#125;"'hello gridsum'.replace(/gridsum/g, (match) =&gt; &#123;&#125;);// "hello undefined" å¦‚æžœreplaceæ–¹æ³•ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼Œå‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°å¼€å§‹ä¸Žæ­£åˆ™ä¸­çš„æ•èŽ·ç»„ä¸€ä¸€å¯¹åº”ï¼Œå¯¹åº”ä¸Žä¸Šè¯‰çš„$nã€‚ 12'@gridsum1-good-$gridsum3'.replace(/([^-]+)gridsum(\d+)/g, (match, $1, $2) =&gt; `&#123;$&#123;$1&#125;$&#123;match&#125;$&#123;$2&#125;&#125;`);// "&#123;@@gridsum11&#125;-good-&#123;$$gridsum33&#125;"" å‡½æ•°çš„å€’æ•°ç¬¬äºŒä¸ªå‚æ•°æ˜¯åŒ¹é…ç»“æžœåœ¨æ–‡æœ¬ä¸­çš„ä½ç½®ã€‚ 12'@gridsum-good-$gridsum'.replace(/([^-]+)gridsum/g, (match, $1, index) =&gt; `&#123;$&#123;match&#125;æ˜¯ä½ç½®æ˜¯$&#123;index&#125;&#125;`);// "&#123;@gridsumæ˜¯ä½ç½®æ˜¯0&#125;-good-&#123;$gridsumæ˜¯ä½ç½®æ˜¯14&#125;" å‡½æ•°çš„æœ€åŽä¸€ä¸ªå‚æ•°æ˜¯è¢«åŒ¹é…çš„åŽŸå­—ç¬¦ä¸²ã€‚ replaceçš„ç”¨é€”å¾ˆå¹¿æ³›ï¼Œå®ƒèƒ½å¾ˆå¥½çš„è¾¾åˆ°æˆ‘ä»¬æƒ³è¦æ›¿æ¢å­—ç¬¦ä¸²çš„æ“ä½œã€‚å‡ ä¸ªæ —å­ã€‚ è½¬ä¹‰HTMLæ ‡ç­¾ï¼š&#39;&lt;p&gt;hello regex&lt;/p&gt;&#39;.replace(/&lt;/g, &#39;&amp;lt;&#39;).replace(/&gt;/g, &#39;&amp;gt;&#39;); å°†åŽæ°æ¸©åº¦è½¬æ¢ä¸ºå¯¹ç­‰çš„æ‘„æ°æ¸©åº¦: &#39;70Â°F&#39;.replace(/(\d+)Â°F\b/g, (match, p1)=&gt; (p1-32)*5/9+&quot;Â°C&quot;); èŽ·å–æŒ‡å®šæ ‡ç­¾å†…çš„å€¼ï¼š&#39;&lt;span&gt;hello&lt;/span&gt;&#39;.replace(/&lt;span[^&gt;]*&gt;(.*?)&lt;\/span&gt;/g, &#39;$1&#39;); æ¨¡æ‹Ÿå®žçŽ°trimæ–¹æ³•ï¼šstr.replace(/^\s*(.*?)\s*$/g, &quot;$1&quot;); å•è¯å¤§é©¼å³°åŒ–ï¼šstr.replace(/(^|[-_\s])+(.)?/g, (match, p1,p2)=&gt;p2?p2.toUpperCase():&#39;&#39;) search: æ‰¾å‡ºé¦–æ¬¡åŒ¹é…é¡¹çš„ç´¢å¼•ã€‚å®ƒçš„åŠŸèƒ½è¾ƒå•ä¸€ï¼Œæ€§èƒ½ä¹Ÿæ›´å¥½ã€‚å®ƒæŽ¥å—ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ä½œä¸ºå”¯ä¸€å‚æ•°ã€‚ä¸Žmatchä¸€æ ·ï¼Œå¦‚æžœä¼ å…¥ä¸€ä¸ªéžæ­£åˆ™è¡¨è¾¾å¼ï¼Œå®ƒä¼šè°ƒç”¨new RegExp()å°†å…¶è½¬æ¢æˆä¸€ä¸ªæ­£åˆ™å®žä¾‹ã€‚ è¯­æ³•: str.search(regexp) 12'gridsum-good-gridsum'.search(/good/);// 8 å› ä¸ºåªèƒ½è¿”å›žé¦–æ¬¡åŒ¹é…çš„ä½ç½®ï¼Œæ‰€ä»¥å…¨å±€åŒ¹é…å¯¹å®ƒæ— æ•ˆã€‚å¦‚æžœåŒ¹é…å¤±è´¥ï¼Œè¿”å›ž-1ã€‚ split: å®ƒçš„ä½œç”¨æ˜¯æ ¹æ®ä¼ å…¥çš„åˆ†éš”ç¬¦åˆ‡å‰²æºæ–‡æœ¬ã€‚å®ƒè¿”å›žä¸€ä¸ªç”±è¢«åˆ‡å‰²å•å…ƒç»„æˆçš„æ•°ç»„ã€‚å®ƒæŽ¥å—ä¸¤ä¸ªå‚æ•°ã€‚ç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–è€…æ­£åˆ™è¡¨è¾¾å¼ï¼Œå®ƒæ˜¯åˆ†éš”ç¬¦ï¼›ç¬¬äºŒä¸ªå‚æ•°å¯é€‰ï¼Œé™åˆ¶è¿”å›žæ•°ç»„çš„æœ€å¤§é•¿åº¦ã€‚ è¯­æ³•ï¼šstr.split([separator[, limit]]) 12'abc-def_mno+xyz'.split(/[-_+]/g);// ["abc", "def", "mno", "xyz"] å› ä¸ºsplitæ–¹æ³•ä¸­çš„æ­£åˆ™æ˜¯ç”¨æ¥åŒ¹é…åˆ†éš”ç¬¦ï¼Œæ‰€ä»¥å…¨å±€åŒ¹é…æ²¡æœ‰æ„ä¹‰ã€‚ RegExpç›¸å…³ï¼š exec:å®ƒçš„ä½œç”¨æ˜¯æ ¹æ®å‚æ•°è¿”å›žåŒ¹é…ç»“æžœï¼Œä¸Žå­—ç¬¦ä¸²æ–¹æ³•matchç›¸ä¼¼ã€‚ è¯­æ³•ï¼šregexObj.exec(str) 12/xyz/.exec('abc-xyz-abc');// ["xyz", index: 4, input: "abc-xyz-abc", groups: undefined] execä¸Žmatchå°å°çš„åŒºåˆ«åœ¨äºŽå‚æ•°ä¸ºç©ºçš„æƒ…å†µï¼šexecç›´æŽ¥è¿”å›žnullï¼›matchè¿”å›žä¸€ä¸ªç©ºå­—ç¬¦ä¸²æ•°ç»„ã€‚ æ›´å¤§çš„åŒºåˆ«åœ¨äºŽå…¨å±€åŒ¹é…çš„æ—¶å€™ï¼Œexecç”±äºŽæ¯æ¬¡éƒ½åªèƒ½åŒ¹é…ä¸€ä¸ªç»“æžœå‡ºæ¥ï¼Œæ‰€ä»¥å…¨å±€åŒ¹é…æ¯æ¬¡æˆåŠŸåŽï¼Œéƒ½éœ€è¦æ›´æ–°æ­£åˆ™å®žä¾‹çš„lastIndexå±žæ€§ï¼Œç”¨äºŽè®°å½•ä¸Šæ¬¡åŒ¹é…æˆåŠŸåŽçš„ä¸‹æ ‡ï¼Œå½“æœ€ç»ˆåŒ¹é…ç»“æžœä¸ºnullçš„æ—¶å€™ï¼ŒlastIndexä¼šé‡å½’äºŽ0ï¼Œæ‰€ä»¥è¿™ä¸ªåŒ¹é…è¿‡ç¨‹æ˜¯å¯ä»¥æ— é™é‡å¤çš„ã€‚lastIndexå±žæ€§æ˜¯å±žäºŽæ­£åˆ™å®žä¾‹çš„ã€‚æ‰€ä»¥ä½¿ç”¨execä¸€èˆ¬é…åˆæ­£åˆ™å®žä¾‹ä½¿ç”¨ã€‚ å¦‚æžœç›´æŽ¥ä½¿ç”¨å­—é¢é‡çš„æ­£åˆ™æ­é…execä½¿ç”¨ï¼Œå°±ä¼šä¸€ç›´åœ¨åŽŸåœ°æ‰“è½¬ï¼Œå› ä¸ºæ¯æ¬¡éƒ½æ˜¯ä¸€ä¸ªæ–°çš„æ­£åˆ™å®žä¾‹ï¼Œæ¯æ¬¡lastIndexéƒ½è¦ä»Ž0å¼€å§‹ã€‚ execè¿˜æœ‰ä¸Žreplaceæ­é…ä½¿ç”¨çš„æ–¹æ³•ï¼Œçœ‹ä¸‹é¢è¿™ä¸ªæ —å­ï¼š 12345var regex = /(\d&#123;4&#125;)-(\d&#123;2&#125;)-(\d&#123;2&#125;)/;var string = "2017-06-12";var result = string.replace(regex, function() &#123; return RegExp.$2 + "/" + RegExp.$3 + "/" + RegExp.$1;&#125;); æ³¨æ„ï¼šRegExpæ˜¯ä¼šè¢«æ–°çš„æ­£åˆ™è¡¨è¾¾è¦†ç›–çš„ã€‚ test:æ–¹æ³•æ‰§è¡Œä¸€ä¸ªæ£€ç´¢ï¼Œç”¨æ¥æŸ¥çœ‹æ­£åˆ™è¡¨è¾¾å¼ä¸ŽæŒ‡å®šçš„å­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…ã€‚è¿”å›ž true æˆ– falseã€‚ä¸Žå­—ç¬¦ä¸²æ–¹æ³•searchç›¸ä¼¼ã€‚å¤šç”¨äºŽè¡¨å•éªŒè¯ä¸­ã€‚ è¯­æ³•ï¼šregexObj.test(str) testæ–¹æ³•ä¸Žsearchæ–¹æ³•çš„åŒºåˆ«ä¸»è¦ä½“çŽ°åœ¨ä¸¤ç‚¹ï¼š searchæ–¹æ³•è¿”å›žçš„æ˜¯ç´¢å¼•ï¼Œtestæ–¹æ³•åªè¿”å›žå¸ƒå°”å€¼ã€‚ å› ä¸ºæ˜¯æ­£åˆ™å®žä¾‹æ–¹æ³•ï¼Œå…¨å±€åŒ¹é…æ—¶ä¹Ÿä¼šæ›´æ–°æ­£åˆ™å®žä¾‹çš„lastIndexå±žæ€§ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥å¤šæ¬¡æ‰§è¡Œã€‚ bossï¼šèƒ½çœ‹æ‡‚å¤æ‚çš„æ­£åˆ™&amp;ç†è§£æ­£åˆ™çš„è¿è¡Œæ¨¡å¼ ä»Žæ­¦å™¨åº“é‡Œè®¤è¯†äº†ä¼—å¤šæ­¦å™¨åŽï¼Œæˆ‘ä»¬å¼€å§‹æ¥æŒ‘æˆ˜ä¸€äº›å°bossã€‚ åŒ¹é…èº«ä»½è¯ 1/^(\d&#123;18&#125;|\d&#123;17&#125;[\dxX])$/.test(str) è¿™ä¸ªæ­£åˆ™æ¯”è¾ƒç®€å•ï¼Œé¦–å…ˆæƒ³åˆ°èº«ä»½è¯ä¸€å®šæ˜¯18ä½çš„ï¼Œä½†æ˜¯æœ€åŽä¸€ä½å¯èƒ½æ˜¯xæˆ–è€…Xï¼Œå…¶ä»–çš„éƒ½æ˜¯æ•°å­—ï¼Œé‚£ä¹ˆæ­£åˆ™åªè¦å†™ä¸ªåˆ†æ”¯å‡ºæ¥å°±å¥½äº†ã€‚ åŒ¹é…16è¿›åˆ¶é¢œè‰²å€¼ 1/^#([0-9a-fA-F]&#123;6&#125;|[0-9a-fA-F]&#123;3&#125;)$/.test(str) é¦–å…ˆ16è¿›åˆ¶çš„é¢œè‰²éƒ½æ˜¯#å·å¼€å¤´ï¼ŒåŽé¢æ˜¯3ä½æ•°æˆ–è€…æ˜¯6ä½æ•°çš„ï¼Œå¹¶ä¸”æ¯ä¸ªæ•°éƒ½åªèƒ½æ˜¯â€˜0-9â€™æˆ–è€…â€˜a-fâ€™æˆ–è€…â€˜A-Fâ€™ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±å¯ä»¥å†™å‡ºä¸ªåˆ†æ”¯å‡ºæ¥äº†ã€‚ é‡‘é’±å­—ç¬¦ä¸²åƒä½ç¬¦åˆ†å‰² 12'1234567'.replace(/\B(?=(\d&#123;3&#125;)+(?!\d))/g,',');// 1,234,567 è¿™ä¸ªæ­£åˆ™éš¾ç‚¹åœ¨äºŽæ–­è¨€é‡Œå¥—äº†ä¸€ä¸ªæ–­è¨€ï¼Œæœ¬æ¥æ­£åˆ™é‡Œçš„æ–­è¨€å°±ä¸å¥½ç†è§£ï¼Œè¿˜æ˜¯ä¿„ç½—æ–¯å¥—å¨ƒç‰ˆçš„æ–­è¨€ï¼Œæ›´åŠ æœ‰éš¾åº¦ã€‚ä½†æ˜¯ä»”ç»†æŠŠè¿™ä¸ªæ­£åˆ™è¿›è¡Œæ‹†åˆ†ï¼Œåˆ†æ­¥éª¤è§£è¯»æˆ‘ä»¬è¿˜æ˜¯å¯ä»¥ç†è§£è¿™ä¸ªæ­£åˆ™çš„ã€‚ é¦–å…ˆæˆ‘ä»¬å…ˆç†è§£\BåŒ¹é…å‡ºæ¥çš„ç»“æžœæ˜¯[&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;]ï¼Œè¿™äº›çŽ©æ„æ˜¯1å’Œ2ä¹‹é—´ï¼Œ2å’Œ3ä¹‹é—´ç­‰ç­‰çš„ä½ç½®ï¼Œç„¶åŽ(?=(\d{3})+(?!\d))è¿™ä¸ªå…ˆè¡Œè‚¯å®šæ–­è¨€è¯­å¥èƒ½åŒ¹é…å‡ºæ¥ä¸€ä¸ªè·Ÿåœ¨\BåŽé¢çš„ä½ç½®ï¼Œè¿™ä¸ªä½ç½®å‘¢ç¬¦åˆ\B(\d{3})+(?!\d))è¿™ä¸ªè§„åˆ™ï¼Œ\d{3}+(?!\d)çš„æ„æ€å‘¢æ˜¯åŒ¹é…æŸç§é•¿åº¦è‡³å°‘ä¸º3çš„å€æ•°çš„æ•°å­—ä¸²ï¼Œ(?!\d)å…ˆè¡Œå¦å®šæ–­è¨€ï¼Œå°±æ˜¯è¯´è¿™ä¸ªæ•°å­—ä¸²åŽé¢çš„ä½ç½®ä¸èƒ½æœ‰æ•°å­—å•¦ã€‚ åˆ†è§£ä»¥åŽæˆ‘ä»¬å°±å¥½ç†è§£è¯¥æ­£åˆ™çš„å«ä¹‰äº†ï¼Œæ¯”å¦‚ï¼Œå…ˆæ‰¾åˆ°1å’Œ2ä¸­é—´è¿™ä¸ªä½ç½®ï¼Œè¿™ä¸ªä½ç½®åŽé¢è·Ÿç€çš„æ•°å­—ä¸²ä¸ºâ€™234567â€™ï¼Œé•¿åº¦ä¸º6ç¬¦åˆ3çš„å€æ•°ï¼Œå°†è¯¥ä½ç½®æ›¿æ¢æˆâ€™,â€™,æŽ¥ç€æ£€æŸ¥2å’Œ3ä¸­é—´è¿™ä¸ªä½ç½®ï¼Œè¿™ä¸ªä½ç½®åŽé¢çš„æ•°å­—ä¸²ä¸ºâ€™34567â€™ï¼Œé•¿åº¦ä¸º5ï¼Œä¸ç¬¦åˆ3çš„å€æ•°ï¼Œè·³è¿‡è¯¥ä½ç½®ï¼Œä¾æ¬¡ç±»æŽ¨ã€‚æ‰€ä»¥è¿™ä¸ªæ­£åˆ™æ­£å¥½ç¬¦åˆé‡‘é’±çš„è®¡æ•°æ³•ï¼Œä»Žæœ€å³è¾¹å¼€å§‹ç®—èµ·ï¼Œæ¯éš”3ä½æ•°æ’å…¥ä¸€ä¸ªâ€™,â€™ã€‚ å½“ç„¶å¤„ç†é‡‘é’±å­—ç¬¦ä¸²è‚¯å®šä¸æ­¢è¿™ä¸€ç§æ–¹æ³•ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ä¸ªï¼š&#39;1234567&#39;.replace(/(?!^)(?=(\d{3})+$)/g,&#39;,&#39;)ï¼Œä½†æ˜¯å‘¢è¿™ç§æˆ‘è§‰å¾—ä¸å¥½ç†è§£ï¼Œå½“å…ˆè¡Œæ–­è¨€å‰é¢æ²¡æœ‰ä»»ä½•è§„åˆ™çš„æ—¶å€™ï¼Œæ­£åˆ™ä¼šå¯¹æ¯ä¸€ä¸ªä½ç½®å‘èµ·åŒ¹é…ï¼Œæ¯ä¸€ä¸ªä½ç½®å°±æ˜¯æŒ‡\Bä¸Ž\bï¼Œæˆ‘ä»¬çœ‹è¿™ä¸ªæ —å­ï¼š 1'1234'.match(/(?=\d)/g) // ["", "", "", ""] å› ä¸ºæœ€åŽä¸€ä¸ªä½ç½®åŽæ²¡æœ‰æ•°å­—äº†ï¼Œæ‰€ä»¥ä¸ä¼šè¢«åŒ¹é…å‡ºæ¥ æ‰€ä»¥æˆ‘ä»¬å°±å¯ä»¥ç†è§£è¿™ä¸ªæ­£åˆ™äº†ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¿©ä¸ªæ‹¬å·æ‰€æœåŠ¡çš„ä½ç½®å…¶å®žæ˜¯åŒä¸€ä½ç½®ï¼Œè¿™ä¸ªä½ç½®åŽé¢ä¸æ˜¯å¼€å¤´ï¼Œå¹¶ä¸”åŽé¢è·Ÿç€é•¿åº¦ä¸º3çš„å€æ•°çš„å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²ç»“å°¾ä¸€å®šæ˜¯ç»“å°¾ï¼Œ&#39;1234567&#39;.match(/(?!^)(?=(\d{3})+$)/g)åŒ¹é…å‡ºæ¥çš„ä¸œè¥¿æ˜¯[&quot;&quot;,&quot;&quot;]ï¼Œè¯´æ˜Žæœ‰ä¿©ä¸ªä½ç½®ç¬¦åˆè¿™ä¸ªè§„åˆ™ï¼Œå“ªä¿©ä¸ªå‘¢ï¼Ÿ1åŽé¢çš„ä½ç½®å’Œ4åŽé¢çš„ä½ç½®ï¼Œ1åŽé¢ä½ç½®è·Ÿç€ç›´åˆ°æœ«å°¾çš„å­—ç¬¦ä¸²æ˜¯â€™234567â€™ï¼Œé•¿åº¦ä¸º6ï¼Œç¬¦åˆè§„åˆ™ï¼Œ4åŽé¢ä½ç½®è·Ÿç€ç›´åˆ°æœ«å°¾çš„å­—ç¬¦ä¸²æ˜¯â€™567â€™ï¼Œé•¿åº¦ä¸º3ï¼Œç¬¦åˆè§„åˆ™ã€‚ æ‰€ä»¥è§£å†³åŒä¸€ä¸ªé—®é¢˜çš„æ—¶å€™ï¼Œå¾€å¾€æœ‰å¤šä¸ªç‰ˆæœ¬çš„æ­£åˆ™å¯ä»¥ä½¿ç”¨ï¼Œå¹¶ä¸”å¯¹æ­£åˆ™çš„ç†è§£å¯èƒ½ä¹Ÿä¼šæœ‰ä¸åŒï¼Œæ‰€ä»¥å…·ä½“ä½¿ç”¨å“ªç§æ–¹æ³•å¤§å®¶è§ä»è§æ™ºäº†ã€‚ å¯†ç é•¿åº¦6-12ä½ï¼Œç”±æ•°å­—ã€å°å†™å­—ç¬¦å’Œå¤§å†™å­—æ¯ç»„æˆï¼Œä½†å¿…é¡»è‡³å°‘åŒ…æ‹¬2ç§å­—ç¬¦ 12var reg = /^((?=.*[0-9])(?=.*[a-z])|(?=.*[0-9])(?=.*[A-Z])|(?=.*[a-z])(?=.*[A-Z]))[0-9A-Za-z]&#123;6,12&#125;$/;console.log( reg.test("abcdEF234") ); è¿™ä¸ªæ­£åˆ™å®Œæ•´çš„ä¸€çœ‹è¿˜æŒºé•¿çš„ï¼Œæˆ‘ä»¬å…ˆåˆ†æžéœ€æ±‚ï¼Œå…ˆçœ‹æœ€ç®€å•çš„ç”±æ•°å­—ã€å°å†™å­—ç¬¦å’Œå¤§å†™å­—æ¯ç»„æˆ,å¹¶ä¸”é•¿åº¦ä¸º6-12ä½ï¼Œå¯ä»¥å¾—å‡ºæ­£åˆ™[0-9A-Za-z]{6,12}ï¼Œè‡³å°‘åŒ…æ‹¬2ç§å­—ç¬¦ï¼Œé‚£ä¹ˆæœ‰3ç§ç»„åˆï¼šæ•°å­—+å°å†™å­—æ¯ï¼Œæ•°å­—+å¤§å†™å­—æ¯ï¼Œå°å†™å­—æ¯+å¤§å†™å­—æ¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å¯¹å¼€å¤´è¿™ä¸ªä½ç½®å¤„ç†ï¼Œåˆ©ç”¨å¤šä¸ªæ–­è¨€å †åŠ ä¸€èµ·ï¼Œéƒ½æ˜¯ä¸ºå‰é¢çš„æ­£åˆ™è§„åˆ™æœåŠ¡è¿™ä¸ªæ¦‚å¿µï¼Œæˆ‘ä»¬å¯ä»¥å†™å‡º3ä¸ªåˆ†æ”¯(?=.*[0-9])(?=.*[a-z]),(?=.*[0-9])(?=.*[A-Z]),(?=.*[a-z])(?=.*[A-Z])ã€‚ç»“åˆä¸€ä¸‹ï¼Œå°±å¯ä»¥å†™å‡ºæ­£åˆ™äº†ã€‚ è¾“å…¥æ¡†æ ¡éªŒï¼Œé¿å…ç‰¹æ®Šç¬¦å·è¾“å…¥ï¼Œå…è®¸-/${}ç¬¦å·è¾“å…¥ï¼Œå…¶ä»–ç¬¦å·è¾“å…¥åŠç©ºæ ¼è¾“å…¥è§†ä¸ºéžæ³•ï¼Œå¹¶ä¸”å¼€å¤´ä¸å…è®¸æ•°å­—æˆ–è€…ç¬¦å·ï¼Œæœ€é•¿ä¸º32ä¸ªå­—ç¬¦ã€‚ 12345var reg = /^(?!(\d|[\W]|_))[0-9a-zA-Z\-/$&#123;&#125;]&#123;1,32&#125;$/;console.log( reg.test("s-/$&#123;&#125;") ); // trueconsole.log( reg.test("-dsadsa") ); //falseconsole.log(reg.test("s32 13")); // falseconsole.log(reg.test("s1234567s1234567s1234567s1234567y")); // false è¿™æ˜¯ä¸ªä¸Žæˆ‘ä»¬æ—¥å¸¸ç ”å‘ä¸­æ¯”è¾ƒç›¸å…³çš„æ —å­ï¼Œåªå…è®¸-/${}ç¬¦å·è¾“å…¥ï¼Œå…¶ä»–ç¬¦å·åŠç©ºæ ¼è¾“å…¥è§†ä¸ºéžæ³•ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å†™å‡ºä¸€ä¸ªå­—ç¬¦ç»„[0-9a-zA-Z\-/${}]ï¼Œå¼€å¤´ä¸å…è®¸æ•°å­—æˆ–è€…ç¬¦å·ï¼Œæˆ‘ä»¬çŸ¥é“\wç›¸å½“äºŽ[0-9a-z-A-Z_]ï¼Œä½†æ˜¯é‡Œé¢æœ‰ä¸ª_ç¬¦å·ï¼Œæ‰€ä»¥è¦å¯¹å®ƒå•ç‹¬å¤„ç†ï¼Œæ‰€ä»¥é…åˆå…ˆè¡Œå¦å®šæ–­è¨€å¯ä»¥å†™å‡ºæ­£åˆ™^(?!(\d|[\W]|_))ï¼Œæœ€é•¿ä¸º32ä¸ªå­—ç¬¦é‚£ä¹ˆå°±æ˜¯{1,32}ï¼Œæ‹¼æŽ¥ä¸€èµ·åŽå°±å¯ä»¥å¾—å‡ºæ­£åˆ™äº†ã€‚ æˆ‘ä»¬åœ¨å°è¯•ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŽ»è§£å†³é—®é¢˜çš„æ—¶å€™ï¼Œä¼šæ— å½¢ä¸­é”»ç‚¼æˆ‘ä»¬åˆ†æžé—®é¢˜çš„èƒ½åŠ›ä¸Žæ€ç»´é€»è¾‘ï¼Œæ­£åˆ™ä¸Žæ™®é€šç¨‹åºä¸€æ ·ï¼Œä¹Ÿæœ‰æµç¨‹çš„æ¦‚å¿µã€‚æ¯”å¦‚ä¸Šé¢çš„èº«ä»½è¯åŒ¹é…æ­£åˆ™å¯è§†åŒ–æµç¨‹å›¾å¦‚ä¸‹ï¼š æ‰€ä»¥è¿™é‡ŒæŽ¨èå‡ ä¸ªçš„ä¼˜ç§€çš„æ­£åˆ™ç›¸å…³ç½‘ç«™ï¼š æ­£åˆ™å¯è§†åŒ–æµç¨‹å›¾ æ‹†åˆ†è§£æžæ­£åˆ™ï¼Œåˆ‡æ¢ä¸åŒè¯­è¨€çŽ¯å¢ƒä¸‹æ­£åˆ™ ç®€å•çš„æ­£åˆ™è¡¨è¾¾å¼æ‰‹å†Œ æ­£åˆ™é—¯å…³ å›žæº¯ å›žæº¯è¿™ä¸ªæ¦‚å¿µå‘¢ï¼Œæˆ‘ä»¬ç¨ä½œäº†è§£(å› ä¸ºæˆ‘æ‡‚çš„ä¹Ÿä¸å¤š- -)ï¼Œæ­£åˆ™åœ¨åŒ¹é…çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æžœé‡åˆ°äº†ä¸æ­£ç¡®çš„åŒ¹é…ï¼Œä¼šå›žåˆ°ä¸Šæ¬¡åŒ¹é…æ­£ç¡®çš„æ­¥éª¤ï¼Œé‡æ–°å¼€å§‹å‘èµ·åŒ¹é…ã€‚çœ‹è¿™ä¸ªæ —å­ 1'abbc'.match(/ab&#123;1,3&#125;c/) ä¸€èˆ¬å‘ç”Ÿå›žæº¯çš„åœ°æ–¹æœ‰3ä¸ªï¼šè´ªå©ªé‡è¯ï¼Œæƒ°æ€§é‡è¯ï¼Œåˆ†æ”¯ç»“æž„ã€‚ ä¸Šé¢è¿™ä¸ªæ —å­å°±æ˜¯è´ªå©ªé‡è¯çš„æ —å­ï¼Œé‚£ä¸ºå•¥æƒ°æ€§é‡è¯ä¹Ÿä¼šå‘ç”Ÿå›žæº¯å‘¢ï¼Ÿå› ä¸ºæœ‰æ—¶å€™ä¸ºäº†æ•´ä½“çš„æ­£åˆ™æˆåŠŸï¼Œéžè´ªå©ªæ¨¡å¼ä¸‹ä¹Ÿä¸å¾—ä¸å¤šåŒ¹é…ç‚¹ä¸œè¥¿ã€‚ 1'12345'.match(/\d&#123;1,3&#125;?\d&#123;1,3&#125;/) åˆ†æ”¯ç»“æž„å‘ç”Ÿçš„å›žæº¯æƒ…å†µï¼Œå¯èƒ½å‰é¢çš„å­æ¨¡å¼ä¼šå½¢æˆäº†å±€éƒ¨åŒ¹é…ï¼Œå¦‚æžœæŽ¥ä¸‹æ¥è¡¨è¾¾å¼æ•´ä½“ä¸åŒ¹é…æ—¶ï¼Œä»ä¼šç»§ç»­å°è¯•å‰©ä¸‹çš„åˆ†æ”¯ã€‚è¿™ç§å°è¯•ä¹Ÿå¯ä»¥çœ‹æˆä¸€ç§å›žæº¯ã€‚ 1'candy'.match(/^(?:can|candy)$/) æ­£åˆ™å¦‚æžœå­˜åœ¨è¿‡å¤šçš„å›žæº¯å°±å¯èƒ½æŠŠcpuè¿›ç¨‹å æ»¡ï¼ä¹‹å‰ç½‘ç»œå®‰å…¨å®žè·µåˆ†äº«ä¸­æåˆ°çš„ æ­£åˆ™DOSæ”»å‡»ï¼Œå°±æ˜¯é»‘å®¢å†™çš„æ­£åˆ™å­˜åœ¨è¿‡å¤šçš„æ­£åˆ™å›žæº¯ï¼ŒæŠŠæœåŠ¡å™¨çš„èµ„æºæ¶ˆè€—è¿‡å¤šï¼Œå¯¼è‡´å¡æ­»ï¼Œæ‰€ä»¥å†™å‡ºè¡¨è¾¾æ›´æ­£ç¡®çš„æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¯ä»¥é¿å…å›žæº¯çš„ï¼Œæ¯”å¦‚.*è¿™ç§å†™æ³•å°±ç‰¹åˆ«å®¹æ˜“é€ æˆå›žæº¯ï¼Œæ‰€ä»¥å½“ä½ ç›´åˆ°è¦åŒ¹é…åˆ°å“ªä¸ªå­—ç¬¦ç»“æŸçš„æ—¶å€™ï¼Œæ¯”å¦‚æˆ‘çŸ¥é“è¦åŒ¹é…åˆ°}ç»“æŸï¼Œé‚£ä½ å¯ä»¥è¿™ä¹ˆå†™[^}]*ã€‚ NFAå¼•æ“Žå’ŒDFAå¼•æ“Ž NFAä¸ŽDFAæ˜¯ä¿©ä¸ªåˆå¹¶çš„å•è¯ç¼©å†™ï¼ŒFAæ˜¯æœ‰é™è‡ªåŠ¨æœº(Finite Automate)ï¼Œæˆ‘ä»¬å¯ä»¥æœ‰é™è‡ªåŠ¨æœºç†è§£ä¸ºä¸€ä¸ªæœºå™¨äººï¼Œåœ¨è¿™ä¸ªæœºå™¨äººçœ¼é‡Œï¼Œæ‰€æœ‰çš„äº‹ç‰©éƒ½æ˜¯ç”±æœ‰é™èŠ‚ç‚¹ç»„æˆçš„ã€‚æœºå™¨äººæŒ‰ç…§é¡ºåºè¯»å–æœ‰é™èŠ‚ç‚¹ï¼Œå¹¶è¡¨è¾¾æˆæœ‰é™çŠ¶æ€ï¼Œæœ€ç»ˆæœºå™¨äººè¾“å‡ºæŽ¥å—æˆ–è€…æ‹’ç»ä½œä¸ºç»“æŸã€‚ DFAæ˜¯ç¡®å®šæ€§æœ‰é™è‡ªåŠ¨æœºçš„ç¼©å†™ï¼ŒNFAæ˜¯éžç¡®å®šæœ‰é™è‡ªåŠ¨æœºçš„ç¼©å†™ï¼Œå…·ä½“å•¥åŒºåˆ«æˆ‘æ²¡åŽ»ç ”ç©¶è¿‡ï¼Œæ€»çš„æ¥è¯´ï¼ŒDFAå¯ä»¥ç§°ä¸ºæ–‡æœ¬ä¸»å¯¼çš„æ­£åˆ™å¼•æ“Žï¼ŒNFAå¯ä»¥ç§°ä¸ºè¡¨è¾¾å¼ä¸»å¯¼çš„æ­£åˆ™å¼•æ“Žã€‚æˆ‘ä»¬å¹³æ—¶å†™çš„æ­£åˆ™éƒ½æ˜¯ç”¨æ­£åˆ™åŽ»åŒ¹é…æ–‡æœ¬ï¼Œè¿™å°±æ˜¯NFAçš„æ€è·¯ã€‚ å¼•æ“Žçš„çŸ¥è¯†ä¹Ÿæ˜¯æ¯”è¾ƒæ·±å±‚æ¬¡çš„æ­£åˆ™çŸ¥è¯†ç‚¹äº†(æˆ‘æ‡‚çš„ä¹Ÿä¸æ˜¯å¾ˆå¤š- -)ï¼Œå¤§å®¶åªéœ€è¦çŸ¥é“å¤§éƒ¨åˆ†è®¡ç®—æœºè¯­è¨€çš„æ­£åˆ™å¼•æ“Žæ˜¯NFAçš„ï¼ŒJSçŽ¯å¢ƒä¸‹çš„æ­£åˆ™å¼•æ“Žå°±æ˜¯NFAçš„ï¼Œæ„å‘³ç€æ‰€æœ‰æµè§ˆå™¨çš„æ­£åˆ™å¼•æ“Žéƒ½æ˜¯NFAã€‚ è®²åˆ°è¿™å‘¢ï¼Œæˆ‘ä»¬å¯¹æ­£åˆ™å·²ç»æœ‰äº†ä¸€ä¸ªæ¯”è¾ƒå…¨é¢çš„äº†è§£ï¼Œå¸Œæœ›æœ¬æ¬¡åˆ†äº«èƒ½å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ã€‚å¦‚æžœå¤§å®¶å¯¹è¿™äº›çŸ¥è¯†ç‚¹æ¶ˆåŒ–åŽï¼Œå·¥ä½œä¸­çµæ´»è¿ç”¨æ­£åˆ™æ˜¯æ²¡é—®é¢˜çš„ã€‚ä½†æ˜¯æ­£åˆ™æ˜¯é—¨éžå¸¸â€å¤è€â€çš„æ¦‚å¿µï¼Œå®ƒæºäºŽæ•°å­¦ï¼Œæ¯”ä»»ä½•è®¡ç®—æœºè¯­è¨€å‡ºçŽ°éƒ½è¦æ—©ï¼Œæƒ³è¦æŠŠæ­£åˆ™ä¸–ç•Œè¿™ä¸ªæ¸¸æˆæ‰“é€šå…³ï¼Œæˆ‘ä»¬éœ€è¦èµ°çš„è·¯è¿˜å¾ˆé•¿ï½ž]]></content>
  </entry>
  <entry>
    <title><![CDATA[ç§€ç±³é›†æˆåˆ°UEditorçš„é…ç½®è¿‡ç¨‹]]></title>
    <url>%2F2019%2F10%2F22%2Fxiumi%2F</url>
    <content type="text"><![CDATA[ç§€ç±³é›†æˆåˆ°UEditorçš„é…ç½®è¿‡ç¨‹è™½ç„¶ç§€ç±³å®˜æ–¹æœ‰æä¾›æ–‡æ¡£è¯´æ˜Žå¦‚ä½•å°†ç§€ç±³æ’ä»¶é›†æˆè‡³UEditoré‡Œ(ç§€ç±³å®˜æ–¹æ–‡æ¡£)ï¼Œä½†æ˜¯è¯¥æ–‡æ¡£è¯´æ˜Žæ¨¡ç³Šä¸æ¸…ï¼Œå…³é”®é…ç½®ä¸€å¥è¯å¸¦è¿‡ï¼Œå³ä½¿é…ç½®æˆåŠŸåŽè¿˜æœ‰å‘ç•™åœ¨é‡Œé¢ã€‚æ‰€ä»¥æˆ‘é‡æ–°æ•´ç†äº†è¿™ä¸ªé…ç½®è¿‡ç¨‹ï¼Œå›žé¡¾ä¸€ä¸‹è¿‡ç¨‹çš„åŒæ—¶ä¹Ÿç»™ä»¥åŽéœ€è¦ç”¨åˆ°çš„å°ä¼™ä¼´æä¾›ä¾¿åˆ©ã€‚ ä¸€ã€å°†ç§€ç±³å›¾æ ‡é›†æˆè‡³å·¥å…·æ ï¼Œå¹¶ä¸”æˆåŠŸå¼¹å‡ºç§€ç±³å¼¹æ¡† é¦–å…ˆæˆ‘ä»¬éœ€è¦ä¸€ä¸ªç§€ç±³çš„htmlæ–‡ä»¶ï¼Œè¿™ä¸ªhtmlé‡Œä¸»è¦å°±æ˜¯å¼¹æ¡†é‡Œçš„å†…å®¹ï¼Œé‡Œé¢æœ‰ä¸€ä¸ªiframeæŒ‡å‘ç§€ç±³çš„ç½‘å€ã€‚å–åxiumi-ue-dialog-v5.html,æ”¾å…¥ueditor1_4_3_3æ–‡ä»¶å¤¹(UEçš„èµ„æºæ–‡ä»¶å¤¹)ä¸‹æˆ–è€…ueditor1_4_3_3ä¸‹çš„dialogsæ–‡ä»¶å¤¹é‡Œï¼Œè¿™ä¸ªåªæ˜¯æ¶‰åŠåˆ°åŽé¢å¼•å…¥å®ƒçš„è·¯å¾„ï¼Œä¸æ˜¯å¾ˆé‡è¦ï¼Œæˆ‘æ˜¯æ”¾åœ¨ueditor1_4_3_3æ–‡ä»¶å¤¹ä¸‹çš„ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445&lt;!-- ueditor1\_4\_3\_3/xiumi-ue-dialog-v5.html --&gt;&lt;!DOCTYPE html&gt;&lt;!-- saved from url=(0049)http://hgs.xiumi.us/uedit/xiumi-ue-dialog-v5.html --&gt;&lt;html&gt;&lt;head&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt; &lt;title&gt;XIUMI connect&lt;/title&gt; &lt;style&gt; html, body &#123; padding: 0; margin: 0; &#125; #xiumi &#123; position: absolute; width: 100%; height: 100%; border: none; box-sizing: border-box; &#125; &lt;/style&gt;&lt;/head&gt;&lt;body style=""&gt;&lt;iframe id="xiumi" src="//xiumi.us/studio/v5#/paper"&gt;&lt;/iframe&gt;&lt;script type="text/javascript" src="./dialogs/internal.js"&gt;&lt;/script&gt;&lt;script&gt; var xiumi = document.getElementById('xiumi'); var xiumi_url = window.location.protocol + "//xiumi.us"; xiumi.onload = function () &#123; xiumi.contentWindow.postMessage('ready', xiumi_url); &#125;; document.addEventListener("mousewheel", function (event) &#123; event.preventDefault(); event.stopPropagation(); &#125;); window.addEventListener('message', function (event) &#123; if (event.origin == xiumi_url) &#123; editor.execCommand('insertHtml', event.data); // è¿™ä¸ªæ–¹æ³•ç”¨äºŽè§¦å‘UEçš„å›¾ç‰‡è½¬å­˜æŽ¥å£ editor.fireEvent('afterpaste'); dialog.close(); &#125; &#125;, false);&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; ç§€ç±³çš„æ–‡æ¡£é‡Œä½¿ç”¨çš„æ˜¯UE.registerUI(â€˜dialogâ€™ï¼Œfnï¼‰çš„æ–¹å¼åŠ¨æ€åœ¨UEé‡Œæ·»åŠ ä¸€ä¸ªç§€ç±³æŒ‰é’®å¹¶ä¸”åœ¨æŒ‰é’®é‡Œæ·»åŠ å¼¹å‡ºå¼¹æ¡†äº‹ä»¶ï¼Œä½†æ˜¯è¿™ä¹ˆåšå¯èƒ½ä¼šå½±å“åˆ°ç³»ç»Ÿå…¶ä»–ä½¿ç”¨UEé‡Œçš„åœ°æ–¹åŒæ ·å‡ºçŽ°ç§€ç±³å›¾æ ‡ï¼Œæ— æ³•æŒ‰éœ€åŠ è½½ã€‚æ‰€ä»¥æˆ‘å°†æ­¤æ”¹è¿›æˆåœ¨UEçš„å‰ç«¯é…ç½®ä¸­çš„toolbarsæ•°ç»„é‡Œæ·»åŠ ä¸€ä¸ªâ€xiumiâ€å­—ç¬¦ä¸²å³å¯å±•ç¤ºå‡ºç§€ç±³çš„æ–¹å¼ã€‚æ­¥éª¤å¦‚ä¸‹ï¼š æ·»åŠ ä¸€ä¸ªç§€ç±³çš„å›¾æ ‡å¹¶æ·»åŠ æ ·å¼ã€‚åœ¨ueditor1_4_3_3/themes/default/imagesæ–‡ä»¶å¤¹é‡Œæ”¾å…¥ä¸€ä¸ªç§€ç±³å›¾æ ‡; åœ¨ueditor1_4_3_3/themes/default/css/ueditor.css æ·»åŠ ä¿©å¥æ ·å¼ 1234567891011/* xiumi-dialog */.edui-default .edui-for-xiumi .edui-dialog-content &#123; width: calc(100vw - 60px) !important; height: 90vh !important; overflow: hidden;&#125;.edui-default .edui-for-xiumi .edui-icon &#123; background-image: url("../images/xiumi-connect-icon.png") !important; background-size: contain;&#125; åœ¨ueditor.all.jsä¿®æ”¹ä»£ç ã€‚åœ¨iframeUrlMapå¯¹è±¡é‡Œæ·»åŠ é”®å€¼å¯¹â€™xiumiâ€™: â€˜~/xiumi-ue-dialog-v5.htmlâ€™ï¼Œè¿™ä¸ªå’Œåˆšåˆšé‚£ä¸ªhtmlå­˜æ”¾çš„åœ°æ–¹æœ‰å…³ã€‚åœ¨btnCmdsæ•°ç»„é‡Œæ·»åŠ ä¸€ä¸ªâ€™xiumiâ€™å­—ç¬¦ä¸²ï¼Œåœ¨dialogBtnså¯¹è±¡ä¸­çš„okæ•°ç»„é‡Œæ·»åŠ â€™xiumiâ€™å­—ç¬¦ä¸²ã€‚ æœ€åŽåœ¨UEçš„å‰ç«¯é…ç½®é‡Œtoolbarsæ•°ç»„é‡Œæ·»åŠ â€™xiumiâ€™,å³å¯æˆåŠŸå±•ç¤ºå‡ºç§€ç±³å›¾æ ‡ä¸Žç§€ç±³çš„å¼¹æ¡†ã€‚ æ•ˆæžœå¦‚ä¸‹ åœ¨ueditor.config.jsçš„xssè¿‡æ»¤ç™½åå•whitListé…ç½®é‡Œï¼Œä¿®æ”¹sectionå‚æ•°ã€‚åŒæ—¶å°†è®¾ç½®æ˜¯å¦æŠ“å–è¿œç¨‹å›¾ç‰‡catchRemoteImageEnableè®¾ç½®ä¸ºtrueã€‚ 1section:['class', 'style'], èƒ½æˆåŠŸå¼¹å‡ºç§€ç±³çš„å¼¹æ¡†ï¼Œå¹¶ä¸”èƒ½å°†ç§€ç±³é‡Œçš„æ¨¡ç‰ˆæˆåŠŸå‹¾é€‰åˆ°æœ¬åœ°çš„UEç¼–è¾‘å™¨é‡Œï¼Œè¯´æ˜Žé›†æˆå°±æˆåŠŸäº†ä¸€åŠå•¦ã€‚ äºŒã€ç§€ç±³åŸŸåçš„å›¾ç‰‡è½¬å­˜ã€‚è¦å®Œæˆç§€ç±³å›¾ç‰‡çš„è½¬å­˜ï¼Œé¦–å…ˆæˆ‘ä»¬è¦å…ˆå®ŒæˆUEå¯¹å¤åˆ¶è¿‡æ¥çš„ç½‘ç»œå›¾ç‰‡çš„è½¬å­˜ï¼Œå›¾ç‰‡çš„è½¬å­˜åˆ†ä¸ºimgæ ‡ç­¾ä¸ŽèƒŒæ™¯å›¾ç‰‡çš„æŠ“å–ä¸Žè½¬å­˜ã€‚ è®¾ç½®æŠ“å–ç™½åå•catcherLocalDomainï¼Œåœ¨ç™½åå•é‡Œçš„åœ°å€ï¼ŒUEä¸ä¼šå¯¹å…¶å‘èµ·è½¬å­˜è¯·æ±‚ã€‚å¯ä»¥ä½¿ç”¨ä¸¤ç§æ–¹å¼è®¾ç½®ï¼š ä½¿ç”¨UE.utils.extendæ–¹æ³•å¼ºåˆ¶åœ¨UEå®žä¾‹åŒ–åŽè®¾ç½® 123UE.utils.extend(editor.options, &#123; catcherLocalDomain: ['127.0.0.1', 'localhost', "static-alpha-engage.gridsumdissector.com", "static-beta-engage.gridsumdissector.com", "static-uat-engage.gridsumdissector.com", "static.engage-all.com"], &#125;); ä¿®æ”¹ueditor.all.jsé‡Œçš„åˆå§‹é…ç½®ä»£ç ï¼Œåœ¨è¿™ä¸ªjsæ–‡ä»¶å¤§æ¦‚ç¬¬8100è¡Œçš„åœ°æ–¹ï¼Œæœ‰ä¸€ä¸ªloadServerConfigçš„å‡½æ•°ï¼Œå¯ä»¥ç›´æŽ¥åœ¨è¿™é‡Œå°†catcherLocalDomainçš„åˆå§‹å€¼è®¾ç½®ä¸ºæˆ‘ä»¬æƒ³è¦è¿‡æ»¤çš„ç™½åå•åŸŸåã€‚ ä¿®æ”¹æŠ“å–å›¾ç‰‡çš„åŽç«¯è¯·æ±‚åœ°å€ã€‚UEå‘èµ·æ‰€æœ‰æŽ¥å£è¯·æ±‚éƒ½ä¾èµ–äºŽä¸€ä¸ªåä¸ºserverUrlçš„å‰ç«¯é…ç½®ï¼Œç„¶åŽé€šè¿‡ä½¿ç”¨serverUrlè¿™ä¸ªå”¯ä¸€çš„è¯·æ±‚åœ°å€ï¼Œé€šè¿‡GETå‚æ•°actionæŒ‡å®šä¸åŒè¯·æ±‚ç±»åž‹ï¼Œæ¯”å¦‚uploadimage(æ‰§è¡Œä¸Šä¼ å›¾ç‰‡æˆ–æˆªå›¾çš„actionåç§°), uploadvideo(æ‰§è¡Œä¸Šä¼ è§†é¢‘çš„actionåç§°), catchimage(æ‰§è¡ŒæŠ“å–è¿œç¨‹å›¾ç‰‡çš„actionåç§°)ç­‰ç­‰ï¼Œä½†æ˜¯åŽç«¯ä¸ºäº†æ–¹ä¾¿æŽ¥å£çš„ç®¡ç†ï¼Œä¸€èˆ¬ä¼šå°†æŽ¥å£æ‹†åˆ†å‡ºæ¥ï¼Œå½“ç„¶UEä¹Ÿæ”¯æŒè‡ªå®šä¹‰è¯·æ±‚åœ°å€ã€‚UEæŽ¨èçš„æ–¹æ³•å¦‚ä¸‹ï¼š 12345678910UE.Editor.prototype._bkGetActionUrl = UE.Editor.prototype.getActionUrl;UE.Editor.prototype.getActionUrl = function(action) &#123; if (action == 'uploadimage' || action == 'uploadscrawl' || action == 'uploadimage') &#123; return 'http://a.b.com/upload.php'; &#125; else if (action == 'uploadvideo') &#123; return 'http://a.b.com/video.php'; &#125; else &#123; return this._bkGetActionUrl.call(this, action); &#125;&#125; åŽŸç†å°±æ˜¯ä½¿ç”¨ä¸€ä¸ªåä¸º_bkGetActionUrlçš„ä¸´æ—¶å˜é‡æ‰¿è½½åŽŸæ¥çš„getActionUrlæ–¹æ³•ï¼Œç„¶åŽé‡å†™getActionUrlæ–¹æ³•ï¼Œåˆ¤æ–­actionçš„ç±»åž‹ï¼Œæ¥è¿”å›žä¸åŒçš„æŽ¥å£ï¼ŒåŒæ—¶ä¹Ÿè¿˜å¯ä»¥æ‰§è¡ŒåŽŸæ¥çš„getActionUrlæ–¹æ³•ã€‚ä½†æ˜¯æˆ‘åœ¨ä½¿ç”¨è¿™ç§æ–¹æ³•çš„æ—¶å€™ï¼Œä¼šå¶å°”ç¢°åˆ°å†…å­˜æº¢å‡ºï¼Œå¯¼è‡´ä¸Šä¼ å›¾ç‰‡åŠŸèƒ½ä¸å¯ç”¨çš„åŽŸå› ï¼Œå¯èƒ½æ˜¯getActionUrlåœ¨å…¶ä»–åœ°æ–¹ä¹Ÿè¢«é‡æ–°èµ‹å€¼äº†ï¼Œäº§ç”Ÿå¾ªçŽ¯å¼•ç”¨è¯¥å‡½æ•°çš„é—®é¢˜ã€‚æ‰€ä»¥æˆ‘ä¾æ—§åœ¨ueditor.all.jsé‡Œä¿®æ”¹äº†getActionUrlåŽŸå§‹å‡½æ•°ï¼Œå¤§æ¦‚åœ¨ç¬¬8040è¡Œä»£ç é‡Œï¼Œåˆ¤æ–­getActionUrlå‡½æ•°å†…éƒ¨ä¸€ä¸ªactionNameçš„å‚æ•°ï¼Œæ¥è¿”å›žä½ æƒ³è¦çš„æŽ¥å£åã€‚ åˆ°è¿™é‡Œå·®ä¸å¤šèƒ½å¤ŸæŠ“å–åˆ°imgæ ‡ç­¾çš„srcå¹¶ä¸”å¯ä»¥å°†å…¶æ›¿æ¢äº†ï¼Œä½†éœ€è¦æ³¨æ„ä¿©ç‚¹åœ°æ–¹ï¼š æ³¨æ„æŠ“å–åŽï¼ŒåŽç«¯è¿”å›žçš„æ•°æ®æ ¼å¼æ—¶å€™å’ŒUEé‡Œæºç è®¾ç½®çš„ä¸€æ ·ï¼Œåœ¨ueditor.all.jsæ‰¾åˆ°UE.plugins[â€˜catchremoteimageâ€™]è¿™ä¸ªå‡½æ•°ï¼Œåœ¨å…¶å†…éƒ¨æ‰§è¡Œcatchremoteimageçš„successå›žæŽ‰å‡½æ•°çš„åœ°æ–¹æ³¨æ„èŽ·å–æºè·¯å¾„å’Œæ–°è·¯å¾„çš„æ•°æ®è·¯å¾„çš„åœ°æ–¹ã€‚ UEå†…éƒ¨æœ‰ä¸€ä¸ªåˆ¤æ–­æ˜¯å¦è·¨åŸŸçš„æ–¹æ³•ï¼Œå¦‚æžœè·¨åŸŸä¼šä½¿ç”¨jsonpçš„æ–¹å¼è¯·æ±‚æŽ¥å£ï¼Œå¦‚æžœä½ æ˜¯æœ¬åœ°è°ƒè¯•ï¼Œå¹¶ä¸”åŽç«¯å·²ç»å¯¹è·¨åŸŸcroseå¤„ç†ï¼Œä¸éœ€è¦ä½¿ç”¨jsonpçš„æ–¹å¼è¯·æ±‚ï¼Œä½ å¯ä»¥æŠŠå®ƒå…³äº†ã€‚åŒæ ·åœ¨UE.plugins[â€˜catchremoteimageâ€™]è¿™ä¸ªå‡½æ•°é‡Œï¼Œæ‰¾åˆ°å®šä¹‰catchremoteimageå‡½æ•°çš„åœ°æ–¹ï¼Œå°†å…¶å†…éƒ¨ajaxè¯·æ±‚çš„optioné‡Œï¼Œå°†dataTypeå›ºå®šè®¾ç½®ä¸ºç©ºå­—ç¬¦ä¸²å³å¯ã€‚ é™¤äº†imgæ ‡ç­¾çš„srcæ›¿æ¢ï¼ŒèƒŒæ™¯å›¾ç‰‡ä¹Ÿæ˜¯éœ€è¦è¿›è¡Œå›¾ç‰‡æŠ“å–å’Œæ›¿æ¢çš„ã€‚å…¶å®žå°±æ˜¯ä¾è‘«èŠ¦ç”»ç“¢ï¼Œçœ‹æ˜Žç™½äº†UEæ˜¯å¦‚ä½•å¯¹imgæ ‡ç­¾è¿›è¡Œsrcæ›¿æ¢çš„ï¼Œä¹Ÿå°±æ˜Žç™½è¯¥å¦‚ä½•å¯¹èƒŒæ™¯å›¾ç‰‡è¿›è¡Œæ›¿æ¢äº†ã€‚ é¦–å…ˆä½ éœ€è¦åœ¨ueditor.all.jsæ–‡ä»¶çš„domUtilså‚æ•°é‡Œæ–°æ·»ä¸€ä¸ªæ–¹æ³•getElementsByTagNameStyleã€‚é€šè¿‡å…ƒç´ çš„styleæ¥èŽ·å–å…ƒç´ èŠ‚ç‚¹æ•°ç»„ã€‚ 1234567891011121314151617181920212223/** * æ–¹æ³•getElementsByTagNameStyleçš„å°è£… * @method getElementsByTagNameStyle * @param &#123; e &#125; node ç›®æ ‡èŠ‚ç‚¹å¯¹è±¡ * @param &#123; t &#125; tagName éœ€è¦æŸ¥æ‰¾çš„èŠ‚ç‚¹çš„tagNameï¼Œ å¤šä¸ªtagNameä»¥ç©ºæ ¼åˆ†å‰² * @param &#123; i &#125; style èŠ‚ç‚¹å¯¹è±¡çš„ç­›é€‰æ¡ä»¶ * @return &#123; Array &#125; ç¬¦åˆæ¡ä»¶çš„èŠ‚ç‚¹é›†åˆ */ getElementsByTagNameStyle: function (e, t, i) &#123; if (i &amp;&amp; utils.isString(i)) &#123; var n = i; i = function (e) &#123; for (var t, i = n.split(","), o = !0, r = e.getAttribute("style"), a = 0; t = i[a++];) if (!r || r.indexOf(t) &lt; 0) &#123; o = !1; break &#125; return o &#125; &#125; t = utils.trim(t).replace(/[ ]&#123;2,&#125;/g, " ").split(" "); for (var o, r = [], a = 0; o = t[a++];) for (var s, l = e.getElementsByTagName(o), d = 0; s = l[d++];) i &amp;&amp; !i(s) || r.push(s); return r &#125;, åœ¨UE.plugins[â€˜catchremoteimageâ€™]ä¸‹çš„catchRemoteImageç›‘å¬å‡½æ•°é‡Œæ·»åŠ ä»£ç ã€‚é¦–å…ˆä½ å¾—çš„åˆ°æœ‰èƒŒæ™¯å›¾ç‰‡çš„çš„å…ƒç´ èŠ‚ç‚¹æ•°ç»„ã€‚ä½¿ç”¨åˆšåˆšæ–°æ·»çš„æ–¹æ³• 1backgroundimagestags = domUtils.getElementsByTagNameStyle(me.document, "section div p", "background,url")//æŠ“å–èƒŒæ™¯å›¾ç‰‡æ‰€åœ¨çš„æ ‡ç­¾ ç„¶åŽå°†è¯¥å…ƒç´ èŠ‚ç‚¹æ•°ç»„é‡Œçš„å›¾ç‰‡åœ°å€éƒ½æŠ½å–å‡ºæ¥ï¼Œæ”¾åœ¨ä¸€ä¸ªå­˜æ”¾å›¾ç‰‡åœ°å€çš„æ•°ç»„é‡Œ 12345678910111213141516var backgroundimages = [];for (var i = 0, backci; backci = backgroundimagestags[i++];) &#123; var bstyle = backci.style; var backgroundimgurltag = bstyle['background-image'] || bstyle['background'] || ""; if (backgroundimgurltag != null &amp;&amp; backgroundimgurltag != "") &#123; var backsrc = backgroundimgurltag.split("(")[1].split(")")[0].replace(/\"/g, "") || backgroundimgurltag.split("(")[1].split(")")[0].replace(/\"/g, "") || ""; if (backsrc != null &amp;&amp; backsrc != "") &#123; if (/^(https?|ftp):/i.test(backsrc) &amp;&amp; !test(backsrc, catcherLocalDomain)) &#123; backgroundimages.push(encodeURI(backsrc)); &#125; &#125; &#125;&#125; æœ€åŽä¾è‘«èŠ¦ç”»ç“¢ï¼Œå¯¹è¯¥å›¾ç‰‡åœ°å€æ•°ç»„å¾ªçŽ¯ï¼Œä¾æ¬¡å‘èµ·è½¬å­˜è¯·æ±‚ï¼Œå¹¶ä¸”å°†å¯¹åº”çš„èŠ‚ç‚¹å†…çš„èƒŒæ™¯å›¾ç‰‡urlè¿›è¡Œæ›¿æ¢ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142if(backgroundimages.length) &#123; catchremoteimage(backgroundimages, &#123; //æˆåŠŸæŠ“å– success: function (r) &#123; try &#123; var info = r.state !== undefined ? r:eval("(" + r.responseText + ")"); &#125; catch (e) &#123; return; &#125; /* èŽ·å–æºè·¯å¾„å’Œæ–°è·¯å¾„ */ var i, j, ci, cj, oldSrc, newSrc, styleText ,list = info.data.list; for (i = 0; ci = backgroundimagestags[i++];) &#123; styleText = ci.getAttribute("style"); oldSrc = styleText; if (oldSrc.indexOf('url("') &gt; 0) &#123; oldSrc = oldSrc.split('url("')[1].split('")')[0]; &#125; else if (oldSrc.indexOf("url('") &gt; 0) &#123; oldSrc = oldSrc.split("url('")[1].split("')")[0]; &#125; else &#123; if (!(oldSrc.indexOf("url(") &gt; 0)) continue; oldSrc = oldSrc.split("url(")[1].split(")")[0]; &#125; if (oldSrc.indexOf("?") &gt;= 0) &#123; oldSrc = oldSrc.split("?")[0]; &#125; for (j = 0; cj = list[j++];) &#123; if (oldSrc == cj.source &amp;&amp; "SUCCESS" == cj.state) &#123; newSrc = catcherUrlPrefix + cj.url, styleText = styleText.replace(oldSrc, newSrc), domUtils.setAttributes(ci, &#123; style: styleText &#125;), domUtils.setAttributes(ci, &#123; is_updata: "true" &#125;); break &#125; &#125; &#125; me.fireEvent('catchremotesuccess') &#125;, //å›žè°ƒå¤±è´¥ï¼Œæœ¬æ¬¡è¯·æ±‚è¶…æ—¶ error: function () &#123; me.fireEvent("catchremoteerror"); &#125; &#125;); &#125; åˆ°è¿™é‡Œï¼ŒUEå¯¹æ™®é€šçš„imgæ ‡ç­¾åŠèƒŒæ™¯å›¾ç‰‡çš„æŠ“å–ä¸Žè½¬å­˜å·²ç»æˆåŠŸäº†ï¼Œå¦‚æžœæƒ³è¦å¯¹ç§€ç±³è¿‡æ¥çš„å›¾ç‰‡è¿›è¡Œè½¬å­˜éœ€è¦æ³¨æ„ä»¥ä¸‹ä¿©ç‚¹ï¼š å¯¹æŸäº›ç§€ç±³å›¾ç‰‡åœ°å€çš„åŽç¼€è¿›è¡Œå¤„ç†ï¼ŒåŽ»æŽ‰?å·ä¹‹åŽç±»ä¼¼?x-oss-process=æ‰€æœ‰çš„éƒ¨åˆ†ã€‚è¿™ä¸ªåœ¨catchremoteimageå‡½æ•°é‡Œå¯¹imgsè¿›è¡Œä¸€æ­¥mapå¾ªçŽ¯ï¼Œå°†ï¼ŸåŽé¢çš„ä¸œè¥¿åŽ»æŽ‰å³å¯ï¼ŒåŒæ—¶æ³¨æ„åœ¨å›¾ç‰‡åœ°å€æ•°ç»„å¾ªçŽ¯çš„è¿‡ç¨‹ä¸­oldSrcï¼ŸåŽé¢çš„å†…å®¹ä¹Ÿè¦åŽ»æŽ‰ï¼Œå¦åˆ™oldSrc == cj.source &amp;&amp; â€œSUCCESSâ€ == cj.stateè¿™ä¸€æ­¥åˆ¤æ–­ä¸ä¼šé€šè¿‡ï¼Œå°±æ— æ³•è¿›è¡Œå›¾ç‰‡åœ°å€çš„æ›¿æ¢äº†ã€‚ ä»Žç§€ç±³å›žåˆ°æœ¬åœ°UEç¼–è¾‘å™¨çš„æ—¶å€™ä¸ä¼šè§¦å‘å›¾ç‰‡è½¬å­˜è¯·æ±‚ï¼Œè¿™ä¹Ÿæ˜¯ç§€ç±³æ–‡æ¡£åŸ‹ä¸‹çš„ä¸€ä¸ªå‘ï¼è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½ éœ€è¦åœ¨xiumi-ue-dialog-v5.htmlæ–‡ä»¶é‡Œï¼Œåœ¨dialog.close();ä»£ç å‰æ·»åŠ ä¸€å¥editor.fireEvent(&#39;afterpaste&#39;);æ¥ä¸»åŠ¨è§¦å‘afterpasteè¿™ä¸ªç›‘å¬å‡½æ•°ã€‚ å¤§åŠŸå‘Šæˆ]]></content>
      <categories>
        <category>åšå®¢</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[åŽŸåž‹é“¾çš„ç†è§£]]></title>
    <url>%2F2019%2F05%2F11%2Fprototype%2F</url>
    <content type="text"><![CDATA[123456[].__proto__ === Array.prototypeArray.__proto__ === Function.prototypeArray.prototype.__proto__ === Object.prototypeFunction.__proto__ === Function.prototype // Function.prototype æ˜¯ä¸ªæ–¹æ³•ï¼Œæ˜¯é€šè¿‡ç»§æ‰¿Object.prototypeè€Œäº§ç”Ÿçš„,Function.__proto__.__proto__ === Object.prototype // Object.prototype åŽŸåž‹é“¾é¡¶ç«¯ï¼Œæ˜¯å¯¹è±¡ï¼Œä½†å®ƒä¸æ˜¯é€šè¿‡Objectå‡½æ•°åˆ›å»ºçš„ã€‚æ˜¯æµè§ˆå™¨å¼•æ“ŽæŒ‰ç…§ECMAScriptè§„èŒƒåˆ›é€ çš„ä¸€ä¸ªå¯¹è±¡Object.prototype.__proto__ === null]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[vueå¦‚ä½•ä¸ŽTypeScriptæ­é…ä½¿ç”¨]]></title>
    <url>%2F2019%2F05%2F07%2Fvue-ts%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘çœŸçš„é™·å…¥äº†TypeScriptæ— æ³•è‡ªæ‹”ï¼Œæˆ‘ç”šè‡³æœ‰ä¸€ç§æ„Ÿè§‰tså¯èƒ½ä¼šæˆä¸ºå‰ç«¯å¿…é¡»è¦æŽŒæ¡çš„ä¸€é¡¹æŠ€æœ¯(å°±åƒçŽ°åœ¨å‰ç«¯ä»Žä¸šè€…å¿…é¡»å¾—æŽŒæ¡ä¸‰å¤§æ¡†æž¶ä¹‹ä¸€ä¸€æ ·)ã€‚ ä½†çŽ°åœ¨ä½¿ç”¨vue+TypeScriptæ¥å¼€å‘é¡¹ç›®çš„å…¶å®žè¿˜æ˜¯æ¯”è¾ƒå°‘çš„ï¼ŒVueçš„ä½œè€…å°¤é›¨æºªåœ¨çŸ¥ä¹Žä¸Šå›žç­”è¿‡è¿™ä¹ˆä¸€ä¸ªé—®é¢˜TypeScript ä¸é€‚åˆåœ¨ vue ä¸šåŠ¡å¼€å‘ä¸­ä½¿ç”¨å—ï¼Ÿ,æ ¹æ®ä»–æœ¬äººçš„å›žç­”ï¼ŒçŽ°åœ¨çš„vue2.xç‰ˆæœ¬å¯¹TSçš„æ”¯æŒæ˜¯è¿œä¸å¦‚Reactå’ŒAngularçš„ï¼Œæ‰€ä»¥åœ¨å³å°†å‘å¸ƒçš„vue3.0è¦åŠ å¼ºè¿™ä¸€å—ã€‚ ä½†æ˜¯å› ä¸ºvue-class-componentä¸Žvue-property-decorator(å‰è€…çš„å‡çº§ç‰ˆæœ¬ï¼ŒåŠ å…¥äº†Vueï¼ŒWatchï¼ŒEmitç­‰åŠŸèƒ½)çš„å­˜åœ¨ï¼ŒçŽ°åœ¨ä½¿ç”¨TS+vueæ¥å†™é¡¹ç›®ä¹Ÿä¸æ˜¯ä»€ä¹ˆé—®é¢˜ï¼Œè™½ç„¶è¿˜æœ‰äº›ç¨è®¸çš„bugï¼Œä¸è¿‡æ— ä¼¤å¤§é›… åœ¨å‰é¢çš„åšå®¢é‡Œæˆ‘ä»‹ç»è¿‡å¦‚ä½•ä½¿ç”¨TypeScriptå¦‚ä½•æ­å»ºstoreæ–‡ä»¶å¤¹ï¼Œæ‰€ä»¥è¿™ç¯‡åšæ–‡ä¸»è¦åšä¸€ä¸ªç”¨JSä¸ŽTSç¼–å†™vueæ–‡ä»¶çš„åŒºåˆ«ã€‚(å¼•å…¥çš„æ˜¯vue-property-decoratorï¼Œå…¨éƒ¨ä»‹ç»å®ŒåŸºæœ¬ä¸Šæ˜¯ä¸å¯èƒ½çš„ï¼Œè¿™é‡Œç»“æŸçš„æ˜¯å¹³æ—¶ç”¨çš„å¤šçš„) #data,computed,methodsJSå†™æ³•123456789101112131415161718192021222324252627export default &#123; name:'HelloWorld', data()&#123; return &#123; bar:'hello', foo:1 &#125; &#125;, computed:&#123; comBar()&#123; return this.bar+'world' &#125; comFoo:&#123; get:function()&#123; return this.foo+1 &#125; set:function(newVal)&#123; console.log(newVal) &#125; &#125; &#125;, methods:&#123; handleFn()&#123; // ...do something &#125; &#125;&#125; TSå†™æ³•12345678910111213141516171819import &#123;Component,Vue&#125; from 'vue-property-decorator';@Component(&#123; name:'HelloWorld'&#125;)export default class HelloWorld extends Vue &#123; bar:string = 'hello'; foo:number = 1; get comBar():string&#123; return this.bar + 'world' &#125; set comBar(val:string)&#123; // æ³¨æ„ï¼Œè¿™é‡Œä¸èƒ½æ ‡è¿”å›žå€¼ç±»åž‹ï¼Œå°±ç®—å†™voidä¹Ÿä¸è¡Œ console.log(val) &#125; handleFn():voids&#123; //...do something &#125;&#125; @Component({options}) ä¸­æŽ¥å—çš„optionså°±æ˜¯ä¼ ç»Ÿçš„é…ç½®ï¼Œmixin,è‡ªå®šä¹‰æŒ‡ä»¤,å­ç»„ä»¶çš„æ³¨å†Œéƒ½è¦åœ¨è¿™é‡Œå£°æ˜Ž #watchJSå†™æ³•1234567891011export default &#123; watch:&#123; 'foo':&#123; handler:function(newVal,oldVal)&#123; console.log(newVal,oldVal) &#125;, deep:true, // å¼€å¯æ·±åº¦ç›‘å¬ immediate:true // è¯¥å›žè°ƒ(handlerå‡½æ•°)å°†ä¼šåœ¨ä¾¦å¬å¼€å§‹ä¹‹åŽè¢«ç«‹å³è°ƒç”¨ &#125; &#125;&#125; TSå†™æ³•12345678import &#123;Vue,Watch,Component&#125; from 'vue-property-decorator'export default class HelloWorld extends Vue &#123; @Watch('foo',&#123;deep:true,immediate:true&#125;) onWatchFoo(newVal:string,oldVal:string)&#123; // ç›‘å¬çš„æ–¹æ³•åæ˜¯å¯ä»¥è‡ªå®šä¹‰çš„ // do something... &#125;&#125; #props #directivesJSå†™æ³•1234567891011121314151617181920212223242526272829303132333435363738394041export default &#123; name:'childComponent', props:&#123; bar:Boolean, foo:&#123; type:String, defalut:'abc' &#125;, obj:&#123; type:Object, default:function()&#123; return &#123; a:1 &#125; &#125;, required:true // å®šä¹‰è¯¥propæ˜¯å¦æ˜¯å¿…å¡«é¡¹ validator:function(value)&#123; // è‡ªå®šä¹‰éªŒè¯å‡½æ•° returnå‡ºæ¥ä¸€ä¸ªbooleanå€¼ return Object.keys(values).includes('a') &#125; &#125; &#125;, directives:&#123; focus:&#123; inserted:function(el,binding,vnode,oldVnode)&#123; // el:æŒ‡ä»¤æ‰€ç»‘å®šçš„å…ƒç´ ï¼Œå¯ä»¥ç”¨æ¥ç›´æŽ¥æ“ä½œDOM el.focus(); // binding:ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…æ‹¬ä»¥ä¸‹å±žæ€§ // name: æŒ‡ä»¤å--focus // valueï¼š æŒ‡ä»¤çš„ç»‘å®šå€¼ï¼Œä¾‹å¦‚v-my-directives="1+1"ä¸­ï¼Œvalueçš„å€¼ä¸º2 // oldValueï¼šæŒ‡ä»¤ç»‘å®šçš„å‰ä¸€ä¸ªå€¼ã€‚ä»…åœ¨updateå’ŒcomponentUpdatedé’©å­ä¸­å¯ç”¨ã€‚æ— è®ºå€¼æ˜¯å¦æ”¹å˜éƒ½å¯ç”¨ // expressionï¼šå­—ç¬¦ä¸²å½¢å¼çš„æŒ‡ä»¤è¡¨è¾¾å¼ã€‚ä¾‹å¦‚v-my-directives="1+1"ä¸­ï¼Œè¡¨è¾¾å¼ä¸ºâ€˜1+1â€™ // argï¼šä¼ ç»™æŒ‡ä»¤çš„å‚æ•°ï¼Œä¾‹å¦‚ v-my-directives:foo='...'ä¸­,å‚æ•°ä¸ºâ€˜fooâ€™ // modifiersï¼šä¸€ä¸ªåŒ…å«ä¿®é¥°ç¬¦çš„å¯¹è±¡ã€‚ä¾‹å¦‚ï¼šv-my-directives.stop.preventä¸­ï¼Œä¿®é¥°ç¬¦å¯¹è±¡ä¸º&#123;stop:true,prevent:true&#125; let &#123;name,value,oldValue,expression,arg,modifiers&#125; = binding; // vnode: Vue ç¼–è¯‘ç”Ÿæˆçš„è™šæ‹ŸèŠ‚ç‚¹ // oldVnodeï¼šä¸Šä¸€ä¸ªè™šæ‹ŸèŠ‚ç‚¹ï¼Œä»…åœ¨updateå’ŒcomponentUpdatedé’©å­ä¸­ä½¿ç”¨ &#125; &#125; &#125;&#125; TSå†™æ³•123456789101112131415161718192021222324252627282930313233343536373839404142import &#123;Vue,Component,Prop&#125; from 'vue-property-decorator';// ç¬¬ä¸€ç§ä½ å¯ä»¥åœ¨åœ¨@Componenté‡Œ@Component(&#123; props:&#123; bar:&#123; type:Boolean, default:false &#125; &#125;, directives:&#123; focus:&#123; inserted:function(el,binding,vnode,oldvnode)&#123; el.focus() &#125; &#125; &#125;&#125;)// ç¬¬äºŒç§ä½¿ç”¨@Propçš„æ–¹å¼interface ObjProp &#123; a:number&#125;@Component()export default class HelloWorld extends Vue &#123; @Prop(&#123;default:false&#125;) bar!:boolean //!: è¡¨ç¤ºå¼ºåˆ¶è§£æžï¼Œå‘Šè¯‰tsæˆ‘è¿™é‡Œä¸€å®šæœ‰å€¼ å¦‚æžœæ²¡æœ‰å†™ï¼ï¼Œè™½ç„¶ä¸ä¼šæŠ¥é”™ä½†æ˜¯ä»£ç ä¼šæœ‰çº¢çº¿æç¤º @Prop( &#123; default:function()&#123; return &#123;msg:'haha3'&#125; &#125;, required:true, validator:function(value)&#123; return Object.keys(value).includes('a') &#125; &#125; ) obj!:ObjProp // å¥½åƒç›´æŽ¥å†™ä¸€ä¸ª&#123;&#125;ä½œä¸ºé»˜è®¤å€¼ä¹Ÿæ²¡é—®é¢˜ obj!:&#123; a:number &#125;&#125; @Model å‰ææ¡ä»¶ï¼Œåœ¨çˆ¶ç»„ä»¶ä¸­ï¼Œå¯¹å­ç»„ä»¶ä½¿ç”¨äº†v-mode=&quot;checked&quot; çˆ¶ç»„ä»¶1&lt;checkbox v-mode="checked" &gt;&lt;/checkbox&gt; å­ç»„ä»¶1&lt;input type="checkbox" :checked="checked" @change="change"/&gt; JSå†™æ³•12345678910111213141516// å­ç»„ä»¶ä¸­export defalut &#123; // model å‚æ•°ä¸º2.2.0æ–°å¢žï¼Œå…è®¸ä¸€ä¸ªè‡ªå®šä¹‰ç»„ä»¶åœ¨ä½¿ç”¨v-modelæ—¶å®šåˆ¶propå’Œevent model:&#123; prop:"checked", event:"change" &#125;, props:&#123; checked:Boolean &#125;, methods:&#123; change:function(e)&#123; this.$emit('change',e.target.checked) &#125; &#125;&#125; TSå†™æ³•12345678import &#123;Vue,Component,Model,Emit&#125; from "vue-property-decorator";@Component()export default class HelloWorld extends Vue &#123; @Model('checked',&#123;type:Boolean&#125;) checked!:boolean, @Emit('change') change(e:MouseEvent)&#125; @Emitçˆ¶ç»„ä»¶1&lt;add-component @on-add="addFunction"&gt;&lt;/add-component&gt; æœ‰ä¸€ä¸ªå¯ä»¥åšåŠ å‡æ³•çš„å­ç»„ä»¶,å¦‚ä¸‹12345&lt;div&gt; &lt;button @click="onSub"&gt;-&lt;/button&gt; &lt;input tepe="test" v-model="count"/&gt; &lt;button @click="onAdd"&gt;+&lt;/button&gt;&lt;/div&gt; JSå†™æ³• 12345678910111213141516export default &#123; data()&#123; return &#123; count:0 &#125; &#125;, name:'addcomponent', methods:&#123; onSub()&#123; this.$emit('on-sub',this.count) &#125;, onAdd()&#123; this.$emit('on-add',this.count) &#125; &#125;&#125; TSå†™æ³•123456789101112131415161718import &#123;Vue,Component,Emit&#125; from 'vue-property-decorator';@Component(&#123; name:'addcomponent'&#125;)export default class AddComponent extends Vue &#123; count:numer = 0; @Emit() // å¦‚æžœçˆ¶ç»„ä»¶ä¼ è¿‡æ¥çš„æ–¹æ³•æ˜¯ on-add é‚£ä¹ˆï¼Œ@Emité‡Œå¯ä»¥çœç•¥æ–¹æ³•å onAdd()&#123; this.count += 1; return this.count // é€šè¿‡returnçš„æ–¹å¼ï¼Œåœ¨çˆ¶ç»„ä»¶çš„æ–¹æ³•ä¸­æ‰èƒ½åœ¨eventä¸­æ‹¿åˆ°å€¼ &#125; @Emit('otherFnName') onSub()&#123; this.count -=1; return this.count &#125;&#125; @Provide @Injecté€šå¸¸provideä¸Žinjectæ˜¯é…åˆä½¿ç”¨çš„ï¼Œä¸€èˆ¬ä½¿ç”¨åœ¨æ’ä»¶ä¸Žç»„ä»¶åº“ä¸­ï¼Œåœ¨çˆ¶ç»„ä»¶ä¸­é€šè¿‡provideæä¾›ä¸€äº›æ•°æ®ï¼Œä»–çš„æ‰€æœ‰å­ç»„ä»¶ï¼Œéƒ½èƒ½éƒ½é€šè¿‡injectæ³¨å…¥åˆ°è‡ªå·±çš„ç»„ä»¶ä¸­ï¼Œå¹¶ä¸”é€šè¿‡thisæ¥è°ƒç”¨ã€‚ provideï¼šObject | () =&gt; Objectinjectï¼šArray&lt;string&gt; | { [key: string]: string | Symbol | Object } JSç”¨æ³•1234567891011121314151617181920212223// çˆ¶ç»„ä»¶export default &#123; name:"father-component", provide:&#123; bar:1, foo:2 &#125;&#125;...// ä»»æ„å­ç»„ä»¶export default &#123; inject:['bar','foo'] // å¦‚æžœéœ€è¦å®šä¹‰é»˜è®¤å€¼ inject:&#123; bar:&#123; default:'heihei' &#125;, foo1:&#123; form:'foo', // å£°æ˜Žä»Žä¸åŒåå­—çš„å±žæ€§æ³¨å…¥ defalut:'haha' // éžåŽŸå§‹å±žæ€§ï¼Œå·²å·¥åŽ‚æ–¹æ³•è¿”å›ž ()=&gt;[1,2,3] &#125; &#125;&#125; TSç”¨æ³•123456789101112131415// çˆ¶ç»„ä»¶import &#123;Vue,Component,Provide&#125; from 'vue-property-decorator';@Componentexport default class Father extends Vue &#123; @Provide() foo = "hello vue"&#125;// å­ç»„ä»¶import &#123;Vue,Component,Inject&#125; from 'vue-property-decorator';@Componentexport default class Child extends Vue &#123; @Inject() foo !:string&#125; ç»¼ä¸Šæ‰€å†™ï¼Œä½¿ç”¨TSä¸Žä½¿ç”¨JSç¼–å†™vueæ–‡ä»¶çš„åŒºåˆ«å°±å…¨éƒ¨ç½—åˆ—å®Œäº† ä½†åº”è¯¥è¿˜æœ‰å¾ˆå¤šé—æ¼çš„ç‚¹ï¼Œå¦‚æžœä½ æœ‰ä»€ä¹ˆè¡¥å……ï¼Œæ¬¢è¿Žåœ¨ç•™è¨€åŒºè¯„è®ºã€‚]]></content>
      <categories>
        <category>Vue</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[è®°ç¬¬ä¸€æ¬¡åŽ»æ·±å¤§]]></title>
    <url>%2F2019%2F05%2F05%2Fdiary1%2F</url>
    <content type="text"><![CDATA[æœŸå¾…å¾ˆä¹…çš„äº”ä¸€å‡æœŸå·²ç»è¿‡å®Œäº†â•¥ï¹â•¥â€¦ä¸å‡ºæ„å¤–çš„,å¤§éƒ¨åˆ†æ—¶é—´è¿˜æ˜¯å®…åœ¨å®¶é‡ŒçŽ©æ¸¸æˆä¸ºä»€ä¹ˆä¸æƒ³å‡ºé—¨å‘¢ï¼Ÿç¬¬ä¸€: æ¯”è¾ƒåæ„ŸåŽ»äººå¤šçš„åœ°æ–¹ç¬¬äºŒ: è¿™ç§å¤©æ°”å®…ç€çœŸçš„å¾ˆèˆ’æœï¼Œå¦‚ä½•å½¢å®¹å‘¢ï¼Œçª—å¤–ä¸‹ç€å¿½å¤§å¿½å°çš„é›¨ï¼Œå®¶é‡Œè“èƒ–å­åˆåœ¨æ²™å‘ä¸Šæ‰“ç›¹ï¼Œæ¸©åº¦é€‚åˆç©¿ç€å•è–„çš„ç¾½ç»‡ï¼Œæ— è®ºæ˜¯çªåœ¨è¢«å­é‡Œï¼Œè¿˜æ˜¯åœ¨æ¸¸æˆä¸–ç•Œé‡Œæ¿€æƒ…åŽ®æ€éƒ½å¾ˆèˆ’æœï¼ŒçŽ©ç´¯äº†å°±æŠ±ç€è“èƒ–å­ä¸€é¡¿ç‹‚æ’¸ï¼Œä¸å¾—ä¸è¯´æƒ¬æ„ååˆ†äº†ã€‚ æ€»æ˜¯åœ¨ç¡è§‰çš„è“èƒ–å­ç„¶é¹…â€¦æ€»æ˜¯åœ¨å®¶é‡Œå®…ç€ï¼Œèº«ä¸Šä¼šé•¿è˜‘è‡å§äºŽæ˜¯ï¼Œé€‰äº†ä¸ªä¸ä¸‹é›¨çš„ä¸‹åˆï¼Œèµ·èº«åŽ»äº†æ·±åœ³å¤§å­¦ã€‚ç¦»å®¶é‡Œä¸è¿œï¼Œ2ç«™åœ°é“å°±åˆ°äº†ï¼Œæ­¥è¡Œ10åˆ†é’Ÿï¼Œå°±èƒ½åˆ°æ·±å¤§çš„åŒ—é—¨ã€‚ä¹Ÿè®¸ç¬¬ä¸€æ¬¡æ¥ï¼Œä¹Ÿè®¸ä¸æ˜¯æ·±å¤§çš„å­¦ç”Ÿï¼Œæˆ‘è¸è¿›å¤§é—¨åŽå±…ç„¶æœ‰ç‚¹ç‚¹ç´§å¼ (æˆ‘ä¹Ÿä¸çŸ¥é“æˆ‘ç´§å¼ ä¸ªé”¤å­)å› ä¸ºæ·±å¤§å°±åœ¨æ·±å—å¤§é“çš„è·¯è¾¹ï¼Œä¸åŒäºŽé©¬è·¯ä¸Šå‘¼å•¸è€Œè¿‡çš„æ±½è½¦ï¼Œæ·±å¤§å°±æ˜¾å¾—å¾ˆå®‰é™ï¼Œè®©äººä¸€ä¸‹å°±æ”¾æ¾ä¸‹æ¥ï¼Œå‡æœŸçš„æ ¡å›­æ²¡æœ‰ä»€ä¹ˆäººï¼Œä½†æœ‰ä¸å°‘å¸¦å°å­©è¿‡æ¥æ•£æ­¥çš„å®¶åº­ã€‚æ²¿ç€å¤§è·¯å¾€ä¸‹èµ°ï¼Œå·¦æ‹è¿›å…¥äº†ä¸€ä¸ªç”°å¾„åœºï¼ŒåŽ»è§‚ä¼—å¸­ä¸Šåç€ï¼Œçœ‹ç€ç”°å¾„åœºä¸Šè·‘æ­¥çš„é™Œç”Ÿäººï¼Œæˆ‘é™·å…¥äº†è‡ªå·±å¤§å­¦ç”Ÿæ´»çš„å›žå¿†ä¸­ï¼Œè®°å¿†ä¸­æˆ‘ç¦»å¼€å¤§å­¦çš„æœ€åŽä¸€ä»¶äº‹ä¹Ÿæ˜¯åƒè¿™æ ·ï¼Œååœ¨è§‚ä¼—å¸­ä¸Šï¼Œçœ‹ç€è·‘æ­¥çš„é™Œç”Ÿäººå‘å‘†ã€‚ä½•æ›¾å‡ æ—¶ï¼Œæˆ‘ä¹Ÿæ˜¯æ ¡å›­é‡Œæ— å¿§æ— è™‘çš„ä¸€åå­¦å­ã€‚çœŸæ€€å¿µé‚£æ®µæ—¶å…‰è®·â€¦æ·±å¤§åŒ—é—¨çš„ç”°å¾„åœºç¦»å¼€äº†ç”°å¾„åœºï¼Œéšä¾¿æŒ‘é€‰ä¸€æ¡è·¯ï¼Œç»§ç»­å¾€ä¸‹èµ°ï¼Œæ·±å¤§çš„ç»¿åŒ–åšçš„çœŸçš„ä¸é”™ï¼Œæœ‰è·¯çš„åœ°æ–¹æ—è¾¹ä¸€å®šæœ‰æ ‘ã€‚ä¸çŸ¥åçš„å°è·¯1åœ¨è¿™é‡Œä¸Šå­¦ä¸€å®šå¾ˆè¾›ç¦å§ï¼Œæ¯æ¡è·¯éƒ½å¾ˆé€‚åˆé—²æš‡æ—¶å…‰çš„é—²é€›ã€‚(å½“å¹´å’‹å°±ä¸åŠ ç‚¹æ²¹ï¼Œè€ƒä¸ªæ·±å¤§å‘¢ï¼)ä¸çŸ¥åçš„å°è·¯2ç„¶åŽï¼Œåœ¨ä¹±èµ°ä¸€é€šåŽï¼Œè·¯è¿‡äº†æ·±å¤§çš„å®¿èˆæ¥¼ï¼Œåœ¨å®¿èˆæ¥¼ä¸‹å‘çŽ°äº†ä¸€åªèŠ±ä¸æºœç§‹çš„å°çŒ«ï¼Œå’Œä»–çš„å°é£Ÿå ‚ã€‚å°çŒ«å½“æ—¶ä¼¼ä¹Žåœ¨è‰ä¸›é‡Œä¸ŠåŽ•æ‰€â€¦çœŸçš„éžå¸¸ä¸å¥½æ„æ€å·æ‹äº†ä½ â€¦å°èŠ±çŒ«å’Œä»–çš„é£Ÿå ‚ç»§ç»­å¾€ä¸‹èµ°è¿˜çœ‹åˆ°äº†ä¸€åªéžå¸¸æ¼‚äº®çš„å°ç™½çŒ«ï¼Œå¿˜è®°æ‹ç…§äº†ï¼ŒçœŸå¯æƒœã€‚ç›¸æ¯”å¤–é¢çš„å°é‡ŽçŒ«ï¼Œæ·±å¤§çš„çŒ«å’ªä¼¼ä¹Žéƒ½ä¸æ€Žä¹ˆæ€•äººï¼ŒçŒ«å’ªä»¬èƒ½åœ¨æ·±å¤§ç”Ÿæ´»ä¹Ÿæ˜¯ä¸€ä»¶å¹¸è¿çš„äº‹å§ï¼Œæ¯•ç«Ÿç…§é¡¾ä»–ä»¬çš„éƒ½æ˜¯ä¸€ç¾¤å¿ƒå–„çš„å¹´è½»äººã€‚æ¼«æ— ç›®çš„çš„ç»§ç»­èµ°ï¼Œå¥½åƒæ¥åˆ°äº†æ·±å¤§çš„å›¾ä¹¦é¦†ï¼Œä»Žå¤–é¢çœ‹å»ºç­‘æ¯”è¾ƒè€å¼çš„äº†ï¼Œæ²¡æœ‰è¿›åŽ»çœ‹ï¼Œå¶å°”æœ‰å­¦ç”Ÿè¿›å‡ºï¼Œæžœç„¶æ¯ä¸ªå­¦æ ¡éƒ½æœ‰å­¦éœ¸å³ä½¿åœ¨å‡æœŸè¿˜ç»§ç»­åœ¨å›¾ä¹¦é¦†é‡Œå¥‹æ–—ã€‚æ±‰äº¬é›†å›¢çš„å¤§æ¥¼å°±çŸ—ç«‹åœ¨ä¸è¿œå¤„ï¼Œé‚£å‡ ä¸ª â€œI love SZâ€å¤§å­—ï¼Œä»Žè¿™ä¸ªè§’åº¦çœ‹å¥½åƒæ˜¾çš„æ›´åŠ å¹´è½»å‘¢ã€‚å›¾ä¹¦é¦†ç¦»å¼€äº†å›¾ä¹¦é¦†åŽï¼Œæ­¥è¡Œæ¥åˆ°äº†ä¸€ä¸ªäººå·¥æ¹–çš„æ—è¾¹ï¼Œè¿™é‡Œç”·å¥³æˆåŒå‡ºçŽ°çš„æ¦‚çŽ‡å¤§äº†è®¸å¤šï¼Œä¸å¾—ä¸è¯´ï¼Œæ¯ä¸ªå­¦æ ¡çš„äººå·¥æ¹–éƒ½æ˜¯å°æƒ…ä¾£ä»¬çš„çº¦ä¼šåœ£åœ°ï¼Œé£Žæ™¯æ¼‚äº®ï¼Œæ•£æ­¥åœ¨æ¹–è¾¹çš„å°è·¯ä¸Šè¯´è¯´ç¬‘ç¬‘ï¼Œéƒ½æ˜¯çˆ±æƒ…çš„æ ·å­ã€‚æ¯”è¾ƒæƒŠè®¶çš„æ˜¯ï¼Œè¿™é‡Œæœ‰å¾ˆå¤šé»‘å¤©é¹…ã€‚ä¸Šå›žè§åˆ°é»‘å¤©é¹…è¿˜æ˜¯å‡ å¹´å‰åŽ»åŽ¦å¤§çš„æ—¶å€™ï¼Œéš¾é“é»‘å¤©é¹…å’Œåæ ¡æ˜¯æ ‡é…å—ï¼Ÿæ·±å¤§çš„æ¹–é»‘å¤©é¹…åœ¨äººå·¥æ¹–æ—çš„å‡‰äº­åäº†ä¸€ä¼šï¼Œå¿ƒé‡Œæƒ³ç€è¿™ä¸ªå­£èŠ‚æ˜¯å¤§å­¦æ¯•ä¸šç”Ÿä»¬æ‹æ‘„æ¯•ä¸šç…§ï¼Œå–æ¯•ä¸šé…’çš„æ—¶å€™å§ã€‚çœŸå¥½å‘¢ã€‚æ·±å¤§çœŸçš„å¾ˆç¾Žï¼Œä¹Ÿå¾ˆå®‰é™ã€‚é€‚åˆæ•£æ­¥æ”¾æ¾å¿ƒæƒ…ã€‚ç„¶åŽå¤©å·®ä¸å¤šè¦é»‘äº†ï¼Œèµ·èº«æ‹äº†æ‹å±è‚¡ä¸Šçš„ç°ï¼Œå°±å¯»è·¯å›žå®¶äº†ã€‚â€”â€”â€”â€”â€”â€”æˆ‘æ˜¯åˆ†å‰²çº¿â€”â€”â€”â€”â€”â€”æ€€å¿µè¿‡å¾€åƒé¦™çƒŸä¸€æ ·ï¼Œä¼šè®©äººæ²‰è¿·ã€‚æ‰€ä»¥ï¼Œä¸è¦åœ¨è¿‡å¾€ä¸­æ— æ³•è‡ªæ‹”ï¼Œä¹Ÿä¸è¦å‰²æ–­è‡ªå·±çš„è¿‡å¾€ã€‚å°†ç¾Žå¥½çš„è¿‡å¾€åƒç¾Žé…’ä¸€æ ·å¯†å°ï¼Œå¸¸å¹´åŸ‹è—åœ¨åœ°ä¸‹ã€‚æˆ–åœ¨å¤œæ·±çš„æ—¶å€™ï¼Œæˆ–åœ¨å­¤èº«ä¸€äººçš„æ—¶å€™ï¼Œæˆ–åœ¨ç–²æƒ«äºŽç”Ÿæ´»çš„æ—¶å€™ï¼Œå°†ç¾Žé…’æ‹¿å‡ºï¼Œå–å…¶ä¸€ç“¢ï¼Œæ…¢æ…¢å“å°ã€‚æ‰€ä»¥ï¼Œå¶å°”æ€€å¿µè¿‡å¾€ï¼Œè®©è‡ªå·±çš„çµé­‚æš‚æ—¶è„±ç¦»è¿™ä¸ªè½¦æ°´é©¬é¾™çš„ä¸–ç•Œï¼Œå›žåˆ°é‚£æ®µæœ€çè´µçš„æ—¶å…‰ï¼Œå›žåˆ°é‚£äº›æœ€éš¾å¿˜çš„äººä»¬çš„èº«æ—ï¼Œä¸€èµ·å¬‰ç¬‘ï¼Œä¸€èµ·æŒ¥éœæ—¶å…‰ã€‚å¦‚æžœæœ‰æ—¶å…‰æœºï¼Œä½ æœ€æƒ³å›žåˆ°å“ªæ®µæ—¶å…‰å‘¢ï¼Ÿ]]></content>
      <categories>
        <category>ç”Ÿæ´»</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[çœ‹æ‡‚vueæºç -ç†è§£æ•°æ®åŒå‘ç»‘å®šçš„å®žçŽ°]]></title>
    <url>%2F2019%2F04%2F29%2Fvue-databind%2F</url>
    <content type="text"><![CDATA[å¦‚æžœä½ æ˜¯ä¸€åå‰ç«¯ä»Žä¸šè€…ï¼Œå¹¶ä¸”åœ¨ç®€åŽ†ä¸Šå†™äº†ä¼šä½¿ç”¨vueæ¡†æž¶ï¼Œé‚£ä¹ˆåœ¨æ‹¿ç€è¿™ä»½ç®€åŽ†åŽ»é¢è¯•çš„æ—¶å€™ï¼Œé¢è¯•å®˜æœ‰å¾ˆå¤§çš„æ¦‚çŽ‡ä¼šé—®ä½ vueçš„æ•°æ®åŒå‘ç»‘å®šæ˜¯å¦‚ä½•å®žçŽ°çš„ã€‚æ‰“å¼€gooleï¼Œè¾“å…¥vueåŒå‘ç»‘å®šï¼Œæœ‰éžå¸¸å¤šä¼˜ç§€çš„åšä¸»å·²ç»å¯¹vueæ•°æ®åŒå‘ç»‘å®šä½œäº†ä¸€ä¸ªå…¨æ–¹ä½çš„åˆ¨æžï¼Œé˜…è¯»ä¹‹åŽï¼Œä½ ä¼šå¤§æ¦‚äº†è§£ï¼ŒåŒå‘ç»‘å®šæ¶‰åŠåˆ°javascriptçš„æ ¸å¿ƒapiæ˜¯Object.defineProperty,é€šè¿‡setä¸Žgetè¿™ä¿©ä¸ªå­˜å–æè¿°ç¬¦æ¥ç›‘å¬æ•°æ®çš„å®žæ—¶æ”¹å˜ï¼Œå¹¶ä¸”åœ¨å¯¹æ¨¡ç‰ˆä½œå‡ºç›¸åº”æ”¹å˜ã€‚é‚£ä¹ˆä¸ºäº†æ›´åŠ äº†è§£vueæ˜¯å¦‚ä½•å®žçŽ°æ•°æ®åŒå‘ç»‘å®šçš„ï¼Œæˆ‘èŠ±äº†ä¸€ä¸‹åˆçš„æ—¶é—´é˜…è¯»vueçš„æºç ï¼Œå¹¶å°†æˆ‘çš„å¯¹vueå®žçŽ°æ•°æ®åŒå‘ç»‘å®šçš„æ–¹å¼ç†è§£è®°å½•äº†ä¸‹æ¥ã€‚ æ‰“å¼€vueæºç ç›®å½•è¿™å‡ ä¸ªæ–‡ä»¶å¤¹éƒ½æ˜¯åˆ†åˆ«è´Ÿè´£ä»€ä¹ˆçš„ï¼Œæˆ‘ä»¬æš‚ä¸”ä¸ç®¡(å…¶å®žæ˜¯æˆ‘ä¸çŸ¥é“),æˆ‘ä»¬æ‰¾åˆ°å…¥å£æ–‡ä»¶src/core/index.jsã€‚çœ‹åˆ°ä¸€å¤§æŽ¨ç¬¬ä¸€æ¬¡è§å¹¶ä¸”ä¸ç†Ÿçš„ä»£ç ï¼Œè°éƒ½ä¼šæ„ŸåŠ¨å¤´ç–¼ã€‚æ‰€ä»¥æˆ‘çœ‹æºç çš„åŸºæœ¬æ–¹é’ˆæ˜¯ ä¸æ¸…æ¥šåº”ç”¨æ–¹æ³•çš„å…·ä½“å®žçŽ°ï¼Œå…ˆé ä»–çš„å‘½åçŒœä¸€ä¸‹(æ‰€ä»¥è‹±æ–‡å¥½å¾ˆå…³é”®ï¼Œå“­)ã€‚ å¦‚æžœæœ‰ä¸€å¤§å †if..else-if..else,å…ˆæ‰¾åˆ°æŒ‰æ­£å¸¸æµç¨‹èµ°çš„ä»£ç ,å…¶ä»–åˆ†æ”¯å…ˆæ”¾ä¸€æ”¾â€¦ ä¸ç”¨é’»ç‰›è§’å°–ï¼Œçœ‹çš„æ‡‚çš„ä»£ç å°±å¥½å¥½ç†è§£ï¼Œçœ‹ä¸æ‡‚çš„äº†è§£ä¸ªå¤§æ¦‚è¶³å·²ï¼çœ‹æºç çš„ç›®çš„æ˜¯æ›´å¥½çš„ç†è§£æ¡†æž¶çš„å®žçŽ°åŽŸç†ï¼Œå¹¶ä¸æ˜¯è¦æŠŠæ•´ä¸ªæ¡†æž¶åƒé€(å…³é”®ä¹Ÿåƒä¸é€å•Šï¼Œvueæºä»£ç é‚£ä¹ˆå¤šï¼Œå’±ä¹Ÿä¸æ˜¯å•¥å¤§ç¥žï¼Œéš¾é“çœ‹ä¸æ‡‚åŽ»é—®å°¤é›¨æºªå—ï¼Œå’±ä¹Ÿä¸æ•¢é—®è®·) 12345678910111213141516171819202122232425262728// src/core/index.jsimport Vue from './instance/index' //ä»ŽVueè¿™ä¸ªå…³é”®è¯æ¥çœ‹ï¼Œè¿™ä¸ªåº”è¯¥æ˜¯vueçš„æ ¸åž‹æ–¹æ³•import &#123; initGlobalAPI &#125; from './global-api/index' // åˆå§‹åŒ–å…¨å±€APIï¼Ÿimport &#123; isServerRendering &#125; from 'core/util/env' // åˆ¤æ–­æ˜¯ä¸æ˜¯ssrï¼Ÿimport &#123; FunctionalRenderContext &#125; from 'core/vdom/create-functional-component'// è°ƒç”¨æ–¹æ³•å’¯ï¼Œåˆå§‹åŒ–å…¨å±€å˜é‡initGlobalAPI(Vue)// ç»™vueåŽŸåž‹æ·»åŠ $isServerå±žæ€§ --å½“å‰ Vue å®žä¾‹æ˜¯å¦è¿è¡ŒäºŽæœåŠ¡å™¨ã€‚Object.defineProperty(Vue.prototype, '$isServer', &#123; get: isServerRendering&#125;)// ç»™vueåŽŸåž‹æ·»åŠ $ssrContext ä¸è®¤è¯†è¿™çŽ©æ„Object.defineProperty(Vue.prototype, '$ssrContext', &#123; get () &#123; /* istanbul ignore next */ return this.$vnode &amp;&amp; this.$vnode.ssrContext &#125;&#125;)// ä¸è®¤è¯†// expose FunctionalRenderContext for ssr runtime helper installationObject.defineProperty(Vue, 'FunctionalRenderContext', &#123; value: FunctionalRenderContext&#125;)Vue.version = '__VERSION__'export default Vue æˆ‘å°±æ˜¯ä»¥ä¸Šé¢è¿™ç§æ–¹å¼æ¥ä¸€ç‚¹ç‚¹çœ‹æºç çš„ã€‚æ ¹æ®ä¸Šé¢å¾—åˆ°çš„æç¤ºï¼Œæˆ‘ä»¬åº”è¯¥åŽ»çœ‹çœ‹./instance/indexé‡Œå†™äº†å•¥ã€‚123456// src/core/instance/indeximport &#123; initMixin &#125; from './init'...initMixin(Vue)...export default Vue å…¶ä»–åˆå§‹åŒ–å‡½æ•°æˆ‘ä»¬å…ˆä¸çœ‹ï¼Œä»ŽinitMixinè¿™ä¸ªåå­—å’Œç¬¬ä¸€ä¸ªå¼•å…¥çš„éª„å‚²ä½ç½®æ¥è¯´ï¼Œä»–åº”è¯¥å’Œæˆ‘ä»¬è¦æ‰¾çš„dataå±žæ€§æœ‰ä¸€è…¿ã€‚æ‰€ä»¥æˆ‘ä»¬æ‰“å¼€./initçœ‹ä¸€ä¸‹ã€‚12345// src/core/instance/initimport &#123; initState &#125; from './state'...initState(vm)... ä»Žå‘½åä¸Šæ¥è®²ï¼Œstateåº”è¯¥æ˜¯ä¸Ždataè”ç³»æ›´å¤šçš„ï¼Œä¹Ÿè®¸æ˜¯å› ä¸ºåœ¨reacté‡Œï¼Œåˆå§‹åŒ–æ•°æ®å°±å«ä½œstateå§ï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰“å¼€./stateæ‰¾åˆ°initStateæ–¹æ³•1234567891011121314151617// src/core/instance/stateexport function initState (vm: Component) &#123; vm._watchers = [] // çœ‹èµ·æ¥åƒæ¸…ç©ºä¸€ä¸ªè§‚å¯Ÿè€…é˜Ÿåˆ— const opts = vm.$options if (opts.props) initProps(vm, opts.props) // åˆå§‹åŒ–propså‚æ•° if (opts.methods) initMethods(vm, opts.methods) // åˆå§‹åŒ–methodså‚æ•° if (opts.data) &#123; initData(vm) // å¦‚æžœæœ‰dataå‚æ•°ï¼Œåˆå§‹åŒ–dataå‚æ•° &#125; else &#123; observe(vm._data = &#123;&#125;, true /* asRootData */) // å¦‚æžœæ²¡æœ‰ï¼Œè§¦å‘observeæ–¹æ³•(è¿™ä¸ªæ–¹æ³•å¾ˆå…³é”®ï¼)ï¼Œç»™ä¸€ä¸ª&#123;&#125;ä½œä¸ºé»˜è®¤å€¼å¹¶ä¸”ä½œä¸ºrootdata &#125; if (opts.computed) initComputed(vm, opts.computed) // åˆå§‹åŒ–computedå‚æ•° if (opts.watch &amp;&amp; opts.watch !== nativeWatch) &#123; // watchå­˜åœ¨å¹¶ä¸” è¿™ä¸ªwatchä¸æ˜¯Firefox(ç«ç‹æµè§ˆå™¨)åœ¨Object.prototypeä¸Šæœ‰ä¸€ä¸ªâ€œç›‘è§†â€åŠŸèƒ½,åˆå§‹åŒ– initWatch(vm, opts.watch) &#125;&#125; ä»Žä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°å¾ˆå¤šè„¸ç†Ÿçš„ä»£ç äº†ï¼Œå¹¶ä¸”ç»ˆäºŽæ‰¾åˆ°æˆ‘ä»¬æƒ³æ‰¾çš„dataå±žæ€§ï¼Œé¡ºæ°´æŽ¨èˆŸç»§ç»­å¾€ä¸‹èµ°å§ï¼Œæ‰¾åˆ°initDataçš„æ–¹æ³•å®šä¹‰ã€‚1234567891011121314151617181920212223242526272829303132333435363738394041424344function initData (vm: Component) &#123; let data = vm.$options.data data = vm._data = typeof data === 'function' ? getData(data, vm) : data || &#123;&#125; // åˆ¤æ–­dataæ˜¯ä¸æ˜¯ä¸ªå‡½æ•°ï¼Œå¦‚æžœæ—¶æ‰§è¡ŒgetDataï¼ˆå¾€ä¸€ä¸ªtargetStack pushè¿›åŽ»ï¼Ÿï¼‰ if (!isPlainObject(data)) &#123; // isPlainObjectåˆ¤æ–­dataæ˜¯ä¸æ˜¯ä¸ªå¯¹è±¡ data = &#123;&#125; process.env.NODE_ENV !== 'production' &amp;&amp; warn( 'data functions should return an object:\n' + 'https://vuejs.org/v2/guide/components.html#data-Must-Be-a-Function', vm ) &#125; // proxy data on instance const keys = Object.keys(data) const props = vm.$options.props const methods = vm.$options.methods let i = keys.length while (i--) &#123; // åˆ¤æ–­dataé‡Œå®šä¹‰çš„keyæ˜¯å¦ä¸Žmethodså’Œpropsçš„å†²çª const key = keys[i] if (process.env.NODE_ENV !== 'production') &#123; if (methods &amp;&amp; hasOwn(methods, key)) &#123; warn( `Method "$&#123;key&#125;" has already been defined as a data property.`, vm ) &#125; &#125; if (props &amp;&amp; hasOwn(props, key)) &#123; process.env.NODE_ENV !== 'production' &amp;&amp; warn( `The data property "$&#123;key&#125;" is already declared as a prop. ` + `Use prop default value instead.`, vm ) &#125; else if (!isReserved(key)) &#123; proxy(vm, `_data`, key) &#125; &#125; // observe data observe(data, true /* asRootData */)&#125; åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å·²ç»å¾ˆæŽ¥è¿‘å®žçŽ°æ•°æ®åŒå‘ç»‘å®šçš„å‡½æ•°äº†ï¼Œé‚£å°±observeï¼ŒæŽ¥ä¸‹æ¥åŽ»../observer/indexé‡Œçœ‹çœ‹ï¼Œobserveå‡½æ•°åˆ°åº•å†™äº†äº›ä»€ä¹ˆä¸œè¥¿ã€‚åœ¨export function observe()çš„å‡½æ•°é‡Œï¼Œreturnå‡ºæ¥çš„æ˜¯ä¸€ä¸ªåä¸ºObserverçš„ç±»1234567891011121314151617181920212223242526272829303132333435363738394041424344// src/core/observer/index.jsexport class Observer &#123; value: any; dep: Dep; vmCount: number; // number of vms that have this object as root $data constructor (value: any) &#123; this.value = value this.dep = new Dep() this.vmCount = 0 def(value, '__ob__', this) if (Array.isArray(value)) &#123; if (hasProto) &#123; protoAugment(value, arrayMethods) &#125; else &#123; copyAugment(value, arrayMethods, arrayKeys) &#125; this.observeArray(value) &#125; else &#123; this.walk(value) &#125; &#125; /** * Walk through all properties and convert them into * getter/setters. This method should only be called when * value type is Object. */ walk (obj: Object) &#123; const keys = Object.keys(obj) for (let i = 0; i &lt; keys.length; i++) &#123; defineReactive(obj, keys[i]) &#125; &#125; /** * Observe a list of Array items. */ observeArray (items: Array&lt;any&gt;) &#123; for (let i = 0, l = items.length; i &lt; l; i++) &#123; observe(items[i]) &#125; &#125;&#125; å½“æˆ‘ä»¬è°ƒç”¨new Oberver(value)çš„æ—¶å€™ï¼Œä¼šæ‰§è¡Œthis.walk(value)è¿™ä¸ªæ–¹æ³•ï¼Œçœ‹æ–¹æ³•é‡Œçš„ä½œç”¨åº”è¯¥æ˜¯ï¼ŒéåŽ†value,æ‰§è¡ŒdefineReactiveæ–¹æ³•ï¼Œè€Œåœ¨defineReactiveæ–¹æ³•é‡Œä¸»è¦å°±æ˜¯é€šè¿‡Object.definePropertyæ–¹æ³•æ¥å®šä¹‰å“åº”å¼æ•°æ®ã€‚123456789101112131415161718192021222324// src/core/observer/index.jsexport function defineReactive ( obj: Object, key: string, val: any, customSetter?: ?Function, shallow?: boolean) &#123; const dep = new Dep() ... Object.defineProperty(obj, key, &#123; ... get: function reactiveGetter () &#123; ... dep.depend() ... return value &#125;, set: function reactiveSetter (newVal) &#123; ... dep.notify() &#125; &#125;)&#125; çœç•¥äº†éƒ¨åˆ†ä»£ç åŽï¼Œæˆ‘ä»¬æ³¨æ„åˆ°åœ¨getå’Œseté‡Œåˆ†åˆ«æ‰§è¡Œäº†dep.depend()å’Œdep.notify(),è€ŒDepå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„è®¢é˜…å‘å¸ƒç®¡ç†ä¸­å¿ƒï¼Œè¿™æ—¶å€™æˆ‘ä»¬æ¥çœ‹ä¸€å¼ ï¼Œvueå®žçŽ°æ•°æ®åŒå‘ç»‘å®šçš„ç¤ºä¾‹å›¾ã€‚å¤§æ¦‚è§£é‡Šä¸€ä¸‹ä¸Šå›¾ï¼Œä¸Šå›¾å®žçŽ°çš„è®¾è®¡æ¨¡å¼ä¸º è®¢é˜…-å‘å¸ƒ æ¨¡å¼ã€‚å¯ä»¥ä»Žä¿©ä¸ªå…¥å£åˆ†åˆ«è¯´èµ· 1.ä»Žinit Dataè¯´èµ·ï¼Œæ¯”å¦‚æˆ‘ä»¬åœ¨vueå®žä¾‹ä¸­å®šä¹‰äº†åˆå§‹åŒ–çš„dataå±žæ€§ï¼ŒæŽ¥ç€ä¼šè§¦å‘new Observer(),dataé‡Œæ‰€æœ‰çš„æ•°æ®éƒ½ä¼šé€šè¿‡ä¸Šé¢ä»‹ç»çš„é‚£æ ·ï¼Œé€šè¿‡defineReactiveè¿™ä¸ªæ–¹æ³•ä¸ºæ¯ä¸€ä¸ªå±žæ€§æŒ‚è½½Object.defineProperty(ä¹Ÿå¯ä»¥è¯´åœ¨geté‡Œä¸ºæ¯ä¸€ä¸ªå±žæ€§éƒ½æ·»åŠ äº†ä¸€ä¸ªè®¢é˜…ï¼Œåœ¨seté‡Œåšä¸€ä¸ªé€šçŸ¥è®¢é˜…è€…çš„æ“ä½œ),å¦‚æžœè§¦å‘äº†setterï¼Œä¹Ÿå°±æ˜¯åœ¨ä¸šåŠ¡ä»£ç é‡Œæ”¹å˜äº†dataé‡Œçš„å€¼ï¼Œä¼šé€šçŸ¥Watcherï¼ŒWathceræ›´æ–°æŒ‡ä»¤ç³»ç»Ÿå¯¹åº”ç»‘å®šçš„dataå€¼2.ä»Žç¼–è¯‘ä¾§è¯´èµ·ï¼ŒDom ä¸Šé€šè¿‡æŒ‡ä»¤æˆ–è€…åŒå¤§æ‹¬å·ç»‘å®šçš„æ•°æ®ï¼Œç»è¿‡ç¼–è¯‘ä»¥åŽï¼Œä¼šä¸ºæ•°æ®è¿›è¡Œæ·»åŠ è§‚å¯Ÿè€…Watcherï¼Œå½“å®žä¾‹åŒ–Watcherçš„æ—¶å€™ ä¼šè§¦å‘å±žæ€§çš„getteræ–¹æ³•ï¼Œæ­¤æ—¶ä¼šè°ƒç”¨dep.depend()ï¼Œå¹¶ä¸”ä¼šå°†Watcherçš„ä¾èµ–æ”¶é›†èµ·æ¥ã€‚ é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹dep.depend()å’Œdep.depend()1234567891011121314151617181920// src/core/observer/dep.js depend () &#123; if (Dep.target) &#123; Dep.target.addDep(this) &#125; &#125; notify () &#123; // stabilize the subscriber list first const subs = this.subs.slice() if (process.env.NODE_ENV !== 'production' &amp;&amp; !config.async) &#123; // subs aren't sorted in scheduler if not running async // we need to sort them now to make sure they fire in correct // order subs.sort((a, b) =&gt; a.id - b.id) &#125; for (let i = 0, l = subs.length; i &lt; l; i++) &#123; subs[i].update() &#125; &#125; é¦–å…ˆæˆ‘ä»¬å¾—å…ˆçŸ¥é“æ³¨å…¥åˆ°Depé‡Œçš„ä¸€èˆ¬éƒ½æ˜¯Watcherç±»ï¼ŒåƒDep.target.addDep(this)å’Œsubs[i].update()è¿™ä¿©ä¸ªæ–¹æ³•æ˜¯å¯ä»¥åœ¨å®šä¹‰Watcherçš„æ–‡ä»¶ä¸‹æ‰¾åˆ°çš„ã€‚12345678910111213141516171819202122// src/core/observer/watcher.js addDep (dep: Dep) &#123; const id = dep.id if (!this.newDepIds.has(id)) &#123; this.newDepIds.add(id) this.newDeps.push(dep) if (!this.depIds.has(id)) &#123; dep.addSub(this) &#125; &#125; &#125; ... update () &#123; /* istanbul ignore else */ if (this.lazy) &#123; this.dirty = true &#125; else if (this.sync) &#123; this.run() &#125; else &#123; queueWatcher(this) &#125; &#125; ä¸€ç³»åˆ—æ“ä½œçš„ä¸»è¦ä½œç”¨å°±æ˜¯è®©Depä¸ŽWathcerå»ºç«‹åŒå‘çš„è”ç³»ã€‚ ä»£ç çœŸæ˜¯å¤ªå¤šäº†ï¼Œè§£é‡Šä¸å®Œï¼Œæ„Ÿè§‰è¦çƒ‚å°¾äº† æœ€åŽvueæœ‰ä¸€ä¸ªå¾ˆå…³é”®çš„æŒ‡ä»¤è§£æžç³»ç»Ÿï¼Œåœ¨src/compiler/directivesæ–‡ä»¶ä¸­å¯ä»¥æ‰¾åˆ°v-bind,v-on,v-modelç›¸åº”çš„æºç ã€‚èƒ½åŠ›æœ‰é™ï¼Œçœ‹ä¸ä¸‹åŽ»äº†ã€‚è¶ŠæŒ–è¶Šæ·±ã€‚ è¯´çš„æˆ‘è‡ªå·±éƒ½ä¹±äº† è¨€ç®€æ„èµ…çš„æ€»ç»“ä¸€ä¸‹ï¼ŒObserverå°±æ˜¯å¯¹dataé‡Œåˆ°æ‰€æœ‰å€¼è¿›è¡Œä¸€ä¸ªæ•°æ®åŠ«æŒï¼Œå¼ºè¡Œç»™æ¯ä¸ªæ•°æ®æ³¨å…¥set(èƒ½ç›‘å¬åˆ°æ•°æ®æ”¹å˜ï¼Œæ²¡æœ‰return)ä¸Žget(è¯¥æ•°æ®å…·ä½“å‘ˆçŽ°å‡ºæ¥çš„å€¼ï¼Œèƒ½returnå‡ºæ•°æ®)æ–¹æ³•ï¼ŒObserveræ“ä½œå®Œä»¥åŽï¼Œdataå¯ä»¥ç†è§£æˆæˆ¿å­èµ„æºã€‚ç„¶åŽDepæ˜¯ä¸ªè®¢é˜…å™¨ï¼ˆè®¢é˜…ç®¡ç†ä¸­å¿ƒï¼Œå¯ä»¥ç†è§£æˆæˆ¿åœ°äº§ä¸­ä»‹ï¼‰ï¼ŒWatcheræ˜¯è®¢é˜…è€…(æœ‰é’±ä¹°æˆ¿çš„äºº)ï¼ŒWatcheræŠŠéœ€æ±‚å’Œè”ç³»æ–¹å¼é€šè¿‡dep.depend()å‘Šè¯‰ä¸­ä»‹depï¼Œdepä¸­ä»‹æ‰¾åˆ°äº†åˆé€‚çš„æˆ¿å­é€šè¿‡dep.notify()æ‰“ç”µè¯é€šçŸ¥æˆ‘ä»¬å¿½æ‚ ä¹°æˆ¿ã€‚é‚£Wathceræ²¡æœ‰é’±ä¹‹å‰å°±æ˜¯è¢«ç»‘å®šåœ¨domä¸Šçš„ä¸€äº›æ•°æ®ï¼Œé€šè¿‡äº†v-model,v-test,åŒå¤§æ‹¬å·ç­‰é€”å¾„èµšåˆ°äº†é’±ï¼ˆä¹Ÿå°±æ˜¯vueçš„compileç¼–è¯‘ç³»ç»Ÿï¼‰ï¼Œå‡çº§æˆäº†ä¸€ä¸ªWathcerï¼Œèµšé’±å’Œä¹°æˆ¿æ€»æ˜¯æ— ç©·æ— å°½çš„ï¼Œdomå‘ç”Ÿäº†æ›´æ–°ï¼ˆæ¯”å¦‚inputäº‹ä»¶ï¼‰ï¼Œèµšåˆ°é’±äº†å°±åŽ»é—®ä¸­ä»‹depæœ‰æ²¡æœ‰æˆ¿ï¼ŒåŒæ—¶å¦‚æžœæˆ¿æºå‘ç”Ÿäº†å˜åŒ–ï¼ˆdataå‘ç”Ÿäº†æ›´æ–°ï¼‰ï¼Œä¸­ä»‹depä¼šé€šçŸ¥Wathcerä¹°æˆ¿ä¸? æœ€åŽç¥å¤§å®¶æ—©æ—¥èƒ½ä¹°åˆ°æˆ¿ã€‚]]></content>
      <categories>
        <category>Vue</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[åŠ æ·±äº†è§£vuexåŠä½¿ç”¨typescriptå¦‚ä½•æ­å»ºstoreæ–‡ä»¶å¤¹]]></title>
    <url>%2F2019%2F04%2F24%2Fvuex%2F</url>
    <content type="text"><![CDATA[è‡ªä»Žä½¿ç”¨vueä½œä¸ºé¡¹ç›®å¼€å‘æ¡†æž¶åŽï¼Œvueçš„å…¨å®¶æ¡¶æ¯å¤©éƒ½ä¼šä¸Žæˆ‘è§é¢ï¼Œå…¶ä¸­vuexæ›´æ˜¯å¸¸å®¢ã€‚å¯¹äºŽä¸“é—¨ä½œä¸ºvueçš„çŠ¶æ€ç®¡ç†æ¨¡å¼ï¼Œæˆ‘è®¤ä¸ºè¿™åº”è¯¥æ˜¯æ¯ä¸€ä½å‰ç«¯ä»Žä¸šè€…éƒ½å¿…é¡»æ·±å…¥æŽŒæ¡çš„ä¸€é¡¹æŠ€èƒ½ï¼Œå¯æ˜¯åœ¨è¿™æ®µæ—¶é—´çš„é¢è¯•ä¸­ï¼Œæˆ‘é—®äº†ä¸€äº›vuexç›¸å…³çš„çŸ¥è¯†ï¼Œå´å¾ˆå°‘æœ‰äººå›žç­”å…¨é¢ï¼Œå³ä½¿ä»–ä»¬çš„ç®€åŽ†ä¸Šå†™äº†3-4å¹´çš„ä»Žä¸šç»éªŒã€‚æ¯”å¦‚ä»¥ä¸‹è¿™äº›vuexæœ€åŸºç¡€çš„é—®é¢˜ã€‚ å¦‚ä½•è°ƒç”¨store.jsé‡Œçš„Mutationä¸ŽActionsé‡Œå®šä¹‰çš„æ–¹æ³•ï¼Ÿ å¤§éƒ¨åˆ†äººå›žç­”çš„éƒ½æ˜¯ä»¥é€šè¿‡this.$store.commitæˆ–è€…this.$store.dispatchè¿™ç§é€šè¿‡è°ƒç”¨vueå®žä¾‹ä¸­çš„$storeçš„æ–¹å¼ï¼Œè€Œä¸”åªçŸ¥é“è¿™ä¸€ç§è°ƒç”¨æ–¹æ³•ã€‚å…¶å®žè¿˜æœ‰ä¸¤ç§æ–¹å¼:1.é€šè¿‡import store from &#39;store.js&#39;çš„æ–¹å¼å¼•å…¥æ–‡ä»¶ï¼Œé€šè¿‡store.commitå’Œstore.dispatchçš„æ–¹å¼è°ƒç”¨ã€‚2.ä½¿ç”¨mapActions,mapMutationç­‰è¾…åŠ©å‡½æ•°å°†ç»„ä»¶çš„methodsæ˜ å°„ä¸ºstoreå¯¹åº”çš„æ–¹æ³•åã€‚ ä½¿ç”¨è¿‡vuexçš„moduleæ¦‚å¿µå—ï¼Ÿåœ¨.vueæ–‡ä»¶ä¸­å¦‚ä½•ä½¿ç”¨moduleé‡Œçš„Mutationä¸ŽActionsé‡Œå®šä¹‰çš„æ–¹æ³•ï¼Ÿ è¿™ä¸ªåŸºæœ¬ä¸Šå°±å…¨å†›è¦†æ²¡äº†ï¼Œä»…çŸ¥é“vuexæœ‰è¿™ä¹ˆä¸€ä¸ªæ¦‚å¿µï¼Œä½†é¡¹ç›®ä¸­æ²¡æœ‰ç”¨è¿‡ï¼Œæ‰€ä»¥å¯¹äºŽæ¨¡å—åŒ–çš„storeä¸äº†è§£ã€‚å¯¹äºŽvuexçš„moduleæ¦‚å¿µï¼Œå…¶å®žçœŸçš„ä¸éš¾ï¼Œä¸ªäººè§‰å¾—ï¼Œå³ä½¿é¡¹ç›®ä¸­æ²¡æœ‰ç”¨è¿‡ï¼Œä½†vuexä½œä¸ºæˆ‘ä»¬æ—¥å¸¸å¼€å‘ä¸­çš„è€æœ‹å‹ï¼Œè®¤çœŸäº†è§£ä¸€ä¸‹ä»–5ä¸ªå­©å­State,Getter,Mutation,Action,Moduleï¼Œä»Žæ—¶é—´æˆæœ¬ä¸Šæ¥è¯´ï¼Œä¹Ÿè®¸ä¸€ä¸ªæ™šä¸Šå°±å¯ä»¥æžå®šï¼Œå³ä½¿çŽ°åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ä¸åˆ°ï¼Œé‚£æœªæ¥çš„é¡¹ç›®å†ç¢°åˆ°è‡³å°‘ä¸ä¼šæŽªæ‰‹ä¸åŠå§ã€‚ ä»Žä»¥ä¸Šä¿©ä¸ªåŸºç¡€é—®é¢˜å¯ä»¥çœ‹å‡ºï¼Œå¾ˆå¤šå‰ç«¯å¯¹vuexçš„å­¦ä¹ å¹¶ä¸æ·±å…¥ï¼Œè§‰å¾—èƒ½åœ¨é¡¹ç›®ä¸­ä½¿ç”¨å°±å¯ä»¥äº†ï¼Œæ¯•ç«Ÿä»£ç ä¸æ˜¯æµ®çŽ°åœ¨é¡µé¢ä¸Šçš„ä¸œè¥¿ï¼Œåªè¦åŠŸèƒ½èƒ½æ­£ç¡®å®žçŽ°ï¼Œå¾ˆå°‘æœ‰äººå¯¹ä½ çš„ä»£ç ä¼šæœ‰å…´è¶£ã€‚è¿™æ€Žä¹ˆè¯´å‘¢ï¼Œå¤šå°‘æ˜¯æœ‰ç‚¹é“ç†çš„ï¼Œä½†æ˜¯å¯¹çŸ¥è¯†çš„è¿½æ±‚ä¸è¯¥æ­¢æ­¥äºŽå®žçŽ°åŠŸèƒ½è¿™ä¸€æ­¥ï¼Œæ—¢ç„¶å°¤é›¨æºªå¼€æºäº†vueè¿™ä¹ˆå¥½çš„å‰ç«¯æ¡†æž¶ï¼Œå¦‚æžœæˆ‘ä»¬ä¸æ›´åŠ æ·±å…¥äº†è§£vuexï¼Œæ˜¯ä¸æ˜¯å¯¹åˆ«äººçš„çŸ¥è¯†æˆæžœä¸å°Šé‡å‘¢ï¼Ÿ Vuexåˆ°åº•æ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Ÿåœ¨è¯´vuexä¹‹å‰ï¼Œå¯ä»¥å…ˆäº†è§£ä¸€ä¸‹Fluxä¸ŽReduxã€‚æ¯ä¸€ä½å‰ç«¯å¯¹MVCæ¡†æž¶ä¸ŽMVVMæ¡†æž¶éƒ½ä¸é™Œç”Ÿï¼Œå¦‚æžœç•¥æ˜¾é—å¿˜ï¼Œå¯ä»¥å‚è€ƒé˜®ä¸€å³°è€å¸ˆçš„å¯¹è¿™å‡ ä¸ªæ¡†æž¶çš„è§£é‡Š,ç®€å•æ¥è¯´Fluxæ˜¯ä¸€ç§æž¶æž„æ€æƒ³ï¼Œä¸“é—¨è§£å†³è½¯ä»¶çš„ç»“æž„é—®é¢˜ï¼Œè€ŒReduxåˆ™æ˜¯å°†Fluxä¸Žå‡½æ•°å¼ç¼–ç¨‹ç»“åˆåœ¨ä¸€èµ·,ä½¿æ”¶Fluxå¯å‘çš„ç®€ä»‹ç‰ˆFluxã€‚å…¶å®žè¿™äº›æ¦‚å¿µéƒ½ä¸é‡è¦ï¼Œéšä¾¿ç™¾åº¦ä¸€ä¸‹å°±å¥½å•¦ï¸¿(ï¿£ï¸¶ï¿£)ï¸¿æŒ‰ç…§å®˜æ–¹çš„è¯´æ³•Vuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚å®ƒé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯çŠ¶æ€ä»¥ä¸€ç§å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–ã€‚æŒ‰ç…§æƒ¯ä¾‹æ”¾ä¸€å¼ å®˜æ–¹çš„å›¾vuexçš„äº”ä¸ªæ ¸å¿ƒæ¦‚å¿µState,Getter,Mutation,Action,Module,åŸºæœ¬ç”¨æ³•æˆ‘å°±ä¸å†ä¸€ä¸€åˆ—ä¸¾äº†ï¼Œå‚è€ƒvueå®˜ç½‘ä¸€å®šæ¯”æˆ‘ä»‹ç»çš„è¯¦ç»†ã€‚ ä»¥ä¸‹åªä»‹ç»ä¸€äº›æˆ‘ä¸ªäººå¯¹è¿™å‡ ä¸ªæ¦‚å¿µä¸­æ¯”è¾ƒå°‘ç”¨çš„çŸ¥è¯†ç‚¹çš„ç½—åˆ—ã€‚ State å¦‚ä½•èŽ·å–æ¨¡å—å†…çš„state12345678910import &#123;mapState&#125; from 'vuex';export default &#123; computed:&#123; ...mapState([&#123; count:state=&gt;state.moduleName.count &#125;]) &#125;&#125;orthis.$store.state.moduleName.count Module å¦‚ä½•ä½¿ç”¨mapState, mapGetters, mapActions å’Œ mapMutations è¿™äº›å‡½æ•°æ¥ç»‘å®šå¸¦å‘½åç©ºé—´çš„æ¨¡å—ã€‚ åœ¨è¾…åŠ©å‡½æ•°ç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥å¡«æ¨¡å—å 12...mapGetters('moduleName',['foo','bar'])...mapActions('moduleName',['fn1','fn2']) ä½¿ç”¨ createNamespacedHelpers åˆ›å»ºåŸºäºŽæŸä¸ªå‘½åç©ºé—´è¾…åŠ©å‡½æ•° 123const &#123; mapState, mapActions &#125; = createNamespacedHelpers('moduleName')...mapGetters('moduleName',['foo','bar'])...mapActions('moduleName',['fn1','fn2']) é€šè¿‡this.$storeè°ƒç”¨,æ¯”å¦‚çŽ°åœ¨æ¨¡å—åå«child 123this.$store.getters['child/foo']this.$store.commit('child/addCount',1)this.$store.dispatch('child/fn',data) åœ¨å¸¦å‘½åç©ºé—´çš„æ¨¡å—å†…è®¿é—®å…¨å±€å†…å®¹ gettersæœ‰å››ä¸ªå‚æ•°state,getters,rootState,rootGetters,åŽé¢ä¸¤ä¸ªæ˜¯å…¨å±€å†…å®¹ã€‚actionsç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸ªobjectï¼Œä»–é‡Œé¢åŒ…å«{ dispatch, commit, getters, rootGetters }ï¼Œæœ€åŽä¸€ä¸ªæ˜¯å…¨å±€å†…å®¹ã€‚åœ¨actionsé‡Œå¦‚æžœè¦åˆ†å‘ action æˆ–æäº¤ mutationï¼Œå°† { root: true } ä½œä¸ºç¬¬ä¸‰å‚æ•°ä¼ ç»™ dispatch æˆ– commit å³å¯ã€‚ 12dispatch('someOtherAction', null, &#123; root: true &#125;) // -&gt; 'someOtherAction'commit('someMutation', null, &#123; root: true &#125;) // -&gt; 'someMutation' åœ¨å¸¦å‘½åç©ºé—´çš„æ¨¡å—æ³¨å†Œå…¨å±€ actionè‹¥éœ€è¦åœ¨å¸¦å‘½åç©ºé—´çš„æ¨¡å—æ³¨å†Œå…¨å±€ actionï¼Œä½ å¯æ·»åŠ  root: trueï¼Œå¹¶å°†è¿™ä¸ª action çš„å®šä¹‰æ”¾åœ¨å‡½æ•° handler ä¸­ã€‚ 1234567// module/child.js actions: &#123; someAction: &#123; root: true, handler (&#123; dispatch, commit, getters, rootGetters &#125;, payload) &#123; ... &#125; // -&gt; 'someAction' &#125; &#125; ä½¿ç”¨Typescriptå¼€å‘çš„é¡¹ç›®å¦‚ä½•å†™vuexçš„storeæ–‡ä»¶å¤¹è¿™ä¸ªå°±æœ‰æ„æ€å•¦ï¼Œæ—¢ç„¶é€‰æ‹©äº†tsä»£æ›¿äº†jsï¼Œé‚£ä¹ˆtsçš„ä¸€äº›ç‰¹æ€§å°±è¦ä½¿ç”¨èµ·æ¥ï¼ŒäºŽæ˜¯æˆ‘å†™äº†ä¸€ä¸ªdemoã€‚ä¸‹å›¾æ˜¯æˆ‘demoçš„æ–‡ä»¶ç»“æž„ï¼Œæœ‰æœ¨æœ‰è§‰å¾—åˆ†çš„å¾ˆæ¸…æ™°ï¼Œå¾ˆè¯¦ç»†ï¼Œå“ˆå“ˆã€‚å…¶ä¸­listæ˜¯ä¸€ä¸ªæ¨¡å—ã€‚æŽ¥ä¸‹æ¥å°±ä¸€ä¸ªä¸€ä¸ªæ–‡ä»¶çœ‹è¿‡åŽ»å§ã€‚ index.ts storeçš„å¯¹å¤–æš´éœ²æ–‡ä»¶123456789101112131415161718 import Vue from 'vue' import Vuex ,&#123;StoreOptions&#125;from 'vuex' import &#123;RootState&#125; from './type'; import &#123;todolist&#125; from './module/list/index'; Vue.use(Vuex) const store: StoreOptions&lt;RootState&gt; = &#123; state: &#123; version:'1.0.0' &#125;, //æ³¨å†Œå…¨å±€state getters:&#123;&#125;, //æ³¨å†Œå…¨å±€getters mutations: &#123;&#125;, //æ³¨å†Œå…¨å±€mutations actions: &#123;&#125;, //æ³¨å†Œå…¨å±€actions modules:&#123; todolist &#125; &#125;export default new Vuex.Store&lt;RootState&gt;(store); å¦‚æžœä½ å¯¹StoreOptions&lt;RootState&gt;è¿™ç§å†™æ³•æœ‰ç–‘é—®ï¼Œä½ å¯ä»¥å‚è€ƒvuexçš„æºä»£ç ï¼Œåœ¨vuex/types/index.d.tsæ–‡ä»¶ä¸­æœ‰ç›¸å…³ä»‹ç»ã€‚å¹¶ä¸”ä½ éœ€è¦äº†è§£tsçš„æ³›åž‹ä¸Žç±»åž‹å˜é‡ã€‚ type.ts æš´éœ²å…¨å±€stateçš„æŽ¥å£ï¼Œå¦‚æžœè¦æ–°æ·»stateï¼Œè¦æå‰åœ¨è¿™é‡Œå®šä¹‰ç±»åž‹ï¼Œå› ä¸ºç±»åž‹æ£€æŸ¥å™¨ä¼šæ£€æŸ¥æŽ¥å£é‡Œçš„å±žæ€§ 123export interface RootState &#123; version: string&#125; module/list/index.ts storeæ¨¡å—listçš„å¯¹å¤–æš´éœ²æ–‡ä»¶ 123456789101112131415161718import &#123;Module&#125; from 'vuex';import &#123;ListState&#125; from './type';import &#123;getters&#125; from './getters';import &#123;mutations&#125; from './mutations';import &#123;actions&#125; from './actions';import &#123;RootState&#125; from '../../type'const namespaced:boolean = true; //å¼€å¯å‘½åç©ºé—´export const state:ListState = &#123; listArr:[], foo:'hello'&#125;export const todolist:Module&lt;ListState,RootState&gt; = &#123; namespaced, state, getters, mutations, actions&#125; å¦‚æžœä½ å¯¹namespacedæœ‰ç–‘é—®ï¼Œå¯ä»¥å‚çœ‹vueçš„å®˜ç½‘å¯¹å‘½åç©ºé—´çš„è§£é‡Šï¼Œç‚¹æˆ‘ module/list/type.ts æš´éœ²æ¨¡å—listçš„stateçš„æŽ¥å£ã€‚ 1234export interface ListState &#123; listArr ?: any[], foo ?: string&#125; module/list/getters.ts æš´éœ²æ¨¡å—listçš„getterså‚æ•°ã€‚ 123456789import &#123;GetterTree&#125; from 'vuex';import &#123;ListState&#125; from './type';import &#123;RootState&#125; from '../../type';export const getters:GetterTree&lt;ListState,RootState&gt; = &#123; bar(state,getters,rootState,rootGetters): string &#123; return state.foo+' world' &#125;&#125; module/list/mutations.ts æš´éœ²æ¨¡å—listçš„mutationå‚æ•°ã€‚ 12345678import &#123;MutationTree&#125; from 'vuex';import &#123;ListState&#125; from './type';export const mutations:MutationTree&lt;ListState&gt;=&#123; addFuHao(state,payload:string)&#123; state.foo += payload &#125;&#125; module/list/actions.ts æš´éœ²æ¨¡å—listçš„actionså‚æ•°ã€‚ 123456789101112131415161718import &#123;ActionTree&#125; from 'vuex';import &#123;ListState&#125; from './type';import &#123;RootState&#125; from '../../type';export const actions:ActionTree&lt;ListState,RootState&gt;=&#123; fetchData(&#123;commit,dispatch,getters,rootGetters&#125;,payload):any&#123; setTimeout(()=&gt;&#123; commit('addFuHao','!!!!') &#125;,3000) &#125;, rootActionTestFn:&#123; //æ³¨å†Œå…¨å±€action root:true, handler(...a):any&#123; console.log('è§¦å‘äº†rootActionTestFn') console.log(a) &#125; &#125;&#125; ä¸€èˆ¬æ¥è¯´æ¨¡å—å†…æ˜¯å¾ˆå°‘åµŒå¥—å­æ¨¡å—çš„ï¼Œé™¤éžé¡¹ç›®ç‰¹åˆ«è¦æ±‚ã€‚å¦‚æžœéœ€è¦ï¼Œç…§è‘«èŠ¦ç”»ç“¢å°±å¥½å•¦ã€‚ é‚£ä¹ˆå®šä¹‰å¥½äº†store,å¦‚ä½•ä½¿ç”¨å‘¢ï¼Ÿä¸»è¦ä½¿ç”¨çš„æ˜¯vuex-classã€‚å‚è€ƒä»¥ä¸‹ä»£ç 123456789101112131415161718192021import &#123; Component, Vue &#125; from 'vue-property-decorator';import &#123;State, Getter ,Mutation,Action&#125; from 'vuex-class';import &#123;ListState&#125; from '../store/module/list/type'const namespace:string = 'todolist'; //è¿™é‡Œè¦æ³¨æ„ï¼Œåç§°éœ€è¦å’Œæ¨¡å—æš´éœ²å‡ºæ¥çš„å‚æ•°åä¿æŒä¸€è‡´@Component(&#123; name:'todolist'&#125;)export default class ToDoList extends Vue&#123; @State('list') list:any; @Getter('bar',&#123;namespace&#125;) bar:any; @Mutation('addFuHao',&#123;namespace&#125;) addFuHao:any; @Action('fetchData',&#123;namespace&#125;) fetchData:any; //å¼•å…¥æ¨¡å—listçš„action @Action('rootActionTestFn') rootActionTestFn:any; //å¼•å…¥å…¨å±€action mounted() &#123; console.log(this.bar) this.fetchData(); this.addFuHao(); &#125;&#125;]]></content>
      <categories>
        <category>Vue</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Nginxåˆä½“éªŒ]]></title>
    <url>%2F2019%2F04%2F20%2Fnginx%2F</url>
    <content type="text"><![CDATA[åœ¨æœ‰äº†è‡ªå·±çš„æœåŠ¡å™¨åŽï¼Œä¸å¥½å¥½çŽ©çŽ©Nginxæ€Žä¹ˆè¡Œå‘¢ï¼æ¯•ç«ŸèŠ±äº†é’±çš„æ­£å¥½ä¹‹å‰åœ¨å­¦ä¹ TypeScriptçš„æ—¶å€™ï¼Œè‡ªå·±åœ¨githubä¸Šæœ‰ä¸€ä¸ªé¡¹ç›®ï¼Œæ‰€ä»¥æƒ³æŠŠè¿™ä¸ªé¡¹ç›®ä¸¢åˆ°çº¿ä¸ŠåŽ»çŽ©çŽ©ï½žç›®æ ‡: å°†githubä¸Šçš„é¡¹ç›®ä¸¢è¿›æœåŠ¡å™¨ï¼Œå¹¶ä¸”èƒ½å¤Ÿæ­£ç¡®è®¿é—® www.zijunfe.cn;å‰ç«¯è¦å­¦ä¹ çš„ä¸œè¥¿çœŸçš„å¾ˆå¤šï¼Œä¸è¿‡æˆ‘ä»¬çš„å¾é€”æ˜¯æ˜Ÿè¾°å¤§æµ·ï¼å­¦ä¹ ä½¿æˆ‘ç§ƒå¤´ å¦‚ä½•åœ¨CentOSæœåŠ¡å™¨é‡Œä¸‹è½½Nginx ä¸‹è½½epel-release EPEL (Extra Packages for Enterprise Linux)æ˜¯åŸºäºŽFedoraçš„ä¸€ä¸ªé¡¹ç›®ï¼Œä¸ºâ€œçº¢å¸½ç³»â€çš„æ“ä½œç³»ç»Ÿæä¾›é¢å¤–çš„è½¯ä»¶åŒ…ï¼Œé€‚ç”¨äºŽRHELã€CentOSå’ŒScientific Linux. 1sudo yum install epel-release ä¸‹è½½nginx 1sudo yum install nginx Nginx å¼€æœºå¯åŠ¨ 1sudo systemctl enable nginx Systemctlæ˜¯ä¸€ä¸ªsystemdå·¥å…·ï¼Œä¸»è¦è´Ÿè´£æŽ§åˆ¶systemdç³»ç»Ÿå’ŒæœåŠ¡ç®¡ç†å™¨ã€‚Nginx å…³é—­å¼€æœºå¯åŠ¨ 1å…³é—­å¼€æœºå¯åŠ¨ Nginx å¯åŠ¨ Nginx 1sudo systemctl start nginx æ£€æŸ¥ Nginx çš„è¿è¡ŒçŠ¶æ€ 1sudo systemctl status nginx å¦‚æžœä½ çš„æœåŠ¡å™¨å¼€å¯äº†é˜²ç«å¢™ï¼Œåˆ™éœ€è¦åŒæ—¶æ‰“å¼€ 80ï¼ˆHTTPï¼‰å’Œ 443ï¼ˆHTTPSï¼‰ç«¯å£,é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æ¥æ‰“å¼€è¿™ä¸¤ä¸ªç«¯å£ï¼š 123sudo firewall-cmd --permanent --zone=public --add-service=httpsudo firewall-cmd --permanent --zone=public --add-service=httpssudo firewall-cmd --reload éªŒè¯ Nginx æ˜¯å¦æˆåŠŸå¯åŠ¨ï¼Œå¯ä»¥åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ http://YOUR_IPï¼Œæ‚¨å°†çœ‹åˆ°é»˜è®¤çš„ Nginx æ¬¢è¿Žé¡µé¢ åœæ­¢Nginx 1sudo systemctl stop nginx é‡å¯Nginx 1sudo systemctl restart nginx ä¿®æ”¹ Nginx é…ç½®åŽï¼Œé‡æ–°åŠ è½½ 1sudo systemctl reload nginx å¦‚ä½•å…å¯†ç™»é™†æœåŠ¡å™¨ æŠŠè‡ªå·±ç”µè„‘çš„ç§é’¥å¤åˆ¶å‡ºæ¥ï¼Œä¾‹å¦‚åœ¨macé‡Œç§é’¥åœ¨ï½ž/.ssh/*.pubæ–‡ä»¶é‡Œï¼Œå¦‚æžœæ²¡æœ‰ç§é’¥å’Œå…¬é’¥ï¼Œå¯ä»¥å…ˆç”Ÿæˆï¼Œå¦‚ä½•ç”Ÿæˆï¼Œæ‰§è¡Œssh-keygen,ä¸€è·¯å›žè½¦ã€‚ ç™»é™†æœåŠ¡å™¨ï¼ŒæŠŠåˆšåˆšå¤åˆ¶çš„ç§é’¥æ”¾å…¥ æœåŠ¡å™¨~/.ssh/authorized_keysæ–‡ä»¶ä¸­ æ‰§è¡Œå‘½ä»¤ssh-add k id_rsa,id_rsaå°±æ˜¯é‚£ä¸ªä»¥.pubç»“å°¾çš„æ–‡ä»¶åï¼Œå¦‚æžœæ‰§è¡ŒæŠ¥é”™ï¼Œåˆ™å…ˆæ‰§è¡Œå‘½ä»¤ssh-agent bashen,å†æ‰§è¡Œæ·»åŠ å‘½ä»¤ è¿›å…¥æœåŠ¡å™¨åªéœ€è¦æ‰§è¡Œssh root@ipåœ°å€å°±èƒ½å…å¯†ç™»é™†å•¦ï¼ å¦‚ä½•æ·»åŠ nginxä»£ç†æ–‡ä»¶ åœ¨etc/nginx/conf.dä¸­æ–°å¢žä»¥.confç»“å°¾çš„é…ç½®æ–‡ä»¶ï¼Œæ¯”å¦‚ä½ çš„åŸŸåå«åšzijunfe.cnï¼Œé‚£æœ€å¥½æ–°å¢žçš„æ–‡ä»¶åå°±å«zijunfe-cn.confä½œä¸ºæ–‡ä»¶åã€‚ vim *.confè¿›å…¥æ–‡ä»¶ï¼Œæ·»åŠ é…ç½®ï¼Œå¦‚ä¸‹ï¼š 123456789server &#123; listen 80; server_name www.zijunfe.cn; root /www/typescript-project/dist; index index.html; location ~* ^.+\.(jpg|jpeg|gif|png|ico|css|js|pdf|txt)&#123; root /www/typescript-project/dist; &#125;&#125; ä¿å­˜é€€å‡ºã€‚ æ‰§è¡Œå‘½ä»¤nginx -tçœ‹çœ‹é…ç½®æœ‰æ²¡æœ‰æŠ¥é”™ï¼Œæ‰§è¡Œnginx -s reloadé‡å¯nginxæœåŠ¡ã€‚ å¦‚æžœæ‰§è¡Œå®Œä»¥ä¸Šæ“ä½œåŽå‘çŽ°è®¿é—®ç½‘å€æ²¡æœ‰å˜åŒ–ï¼Œå¯ä»¥åœ¨è®¿é—®etc/nginx/nginx.confæ–‡ä»¶ï¼Œæ‰¾åˆ°include /usr/share/nginx/modules/*.conf;,å°†å®ƒæ”¾åˆ°æ–‡ä»¶æœ€åŽï¼Œç„¶åŽé‡æ–°å¯åŠ¨nginxæœåŠ¡ã€‚ å¦‚ä½•åœ¨æœåŠ¡å™¨ä¸Šä¸‹è½½nodejs åœ¨æœåŠ¡å™¨ä¸Šæ‰¾ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œæ¯”å¦‚åœ¨/æ–°å»ºappæ–‡ä»¶å¤¹ 1mkdir app &amp;&amp; cd app ä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„nodejsç‰ˆæœ¬ï¼Œæˆ‘çš„æœåŠ¡å™¨ç³»ç»Ÿcentosï¼Œä¹Ÿå°±æ˜¯Linux 64ä½çš„ï¼Œnodejså»ºè®®ä¸‹è½½ç¨³å®šç‰ˆæœ¬ï¼Œåœ¨appæ–‡ä»¶å¤¹é‡Œæ‰§è¡Œå‘½ä»¤ã€‚ 1wget -c https://nodejs.org/dist/v10.14.2/node-v10.14.2-linux-x64.tar.xz è§£åŽ‹æ–‡ä»¶å¤¹ 1tar -xvf node-v10.14.2-linux-x64.tar.xz ä¸ºäº†ç¾Žè§‚ï¼Œå¯¹è§£åŽ‹åŽçš„æ–‡ä»¶å¤¹è¿›è¡Œæ”¹å 1mv node-v10.14.2-linux-x64 nodejs å»ºç«‹node,npmè½¯è¿žæŽ¥ 12sudo ln -s /app/nodejs/bin/node /usr/local/bin/nodesudo ln -s /app/nodejs/bin/npm /usr/local/bin/npm æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸï¼Œæ‰§è¡Œnode -vï¼Œå¦‚æžœæœ‰ç‰ˆæœ¬å·ï¼Œåˆ™å®‰è£…æˆåŠŸï¼Œå¦‚æžœæŠ¥é”™ï¼Œçœ‹ä¸€ä¸‹æ˜¯ä¸æ˜¯å»ºç«‹è½¯è¿žæŽ¥çš„æ—¶å€™ï¼Œå¯¹åº”çš„è·¯å¾„æœ‰æ²¡æœ‰å†™æ­£ç¡®ã€‚ æœªå®Œå¾…ç»­]]></content>
      <categories>
        <category>Nginx</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[é¢è¯•]]></title>
    <url>%2F2019%2F04%2F12%2Finterview%2F</url>
    <content type="text"><![CDATA[è¿™ä¸¤å¤©é¢è¯•äº†ä¸€äº›å‰ç«¯åŒè¡Œï¼Œé¢è¯•åˆ«äººåŒæ ·æ˜¯å®è´µçš„ç»éªŒï¼Œå› ä¸ºåœ¨é—®åˆ«äººçš„åŒæ—¶ï¼Œè‡ªå·±ä¹Ÿä¼šæ€è€ƒï¼Œè¿™é¢˜çš„ç­”æ¡ˆæ˜¯ä»€ä¹ˆï¼Œé™¤äº†è¿™ç§è§£æ³•è¿˜æœ‰æ²¡æœ‰å…¶ä»–è§£æ³•å‘¢ï¼Ÿæ‰€ä»¥è¿™ç¯‡åšæ–‡ï¼Œæˆ‘æŠŠè‡ªå·±é—®çš„é—®é¢˜ä½œä¸€ä¸ªå½’çº³ä¸Žæ€»ç»“ï¼Œå¹¶åˆ†ä¸ºä¸‰ä¸ªå±‚æ¬¡ï¼ŒåŸºç¡€ï¼Œæå‡ï¼Œé«˜çº§ï¼Œå¹¶ä¸”å†™ä¸€äº›æ¯”è¾ƒå†·é—¨çš„å‰ç«¯çŸ¥è¯†ã€‚ VueåŸºç¡€ç¯‡vue-roueræœ‰å‡ ç§æ¨¡å¼ï¼ŒåŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ ä¸¤ç§æ¨¡å¼ï¼Œhashæ¨¡å¼ä¸Žhistoryæ¨¡å¼ ï¼Œvue-routeré»˜è®¤ä½¿ç”¨hashæ¨¡å¼ï¼Œhashæ¨¡å¼çš„urlæ ¼å¼ä¸€èˆ¬ä¸ºhttp://.../#/...,historyæ¨¡å¼åˆ™æ²¡æœ‰/#/ï¼Œå¹¶ä¸”historyæ¨¡å¼éœ€è¦åŽç«¯é…åˆï¼Œå› ä¸ºvueä¸€èˆ¬å†™çš„æ˜¯å•é¡µé¢åº”ç”¨ï¼Œå¦‚æžœåŽç«¯æ²¡æœ‰æ­£ç¡®çš„é…ç½®ï¼Œç”¨æˆ·ç›´æŽ¥è®¿é—®http://oursite.com/user/idåˆ™å›žæç¤º404é”™è¯¯ã€‚ vue-routerè·¯ç”±ä¼ å‚æœ‰å‡ ç§æ–¹æ³•ï¼Ÿ é€šè¿‡paramsæˆ–queryä¼ å‚ï¼Œå‰è€…å‚æ•°ä¸åœ¨urlä¸Šæ˜¾ç¤ºï¼Œåˆ·æ–°é¡µé¢ä¼šä¸¢å¤±å‚æ•°ï¼ŒåŽè€…ä¼šåœ¨urlä¸Šæ˜¾ç¤ºï¼Œåˆ·æ–°é¡µé¢ä¸ä¼šä¸¢å¤±å‚æ•°ã€‚è·¯ç”±çš„åŠ¨æ€ä¼ å‚ï¼Œè¿™ç§æ–¹å¼é¦–å…ˆè¦åœ¨router.jsä¸­é…ç½®è·¯ç”±å¯¹åº”çš„pathä¸º{ path: &#39;/user/:id&#39;, component: User }è¿™ç§æ ¼å¼ï¼Œåœ¨å¯¹åº”å¾—é¡µé¢å¯ä»¥é€šè¿‡this.$route.paramsæ¥èŽ·å–å¯¹åº”çš„å‚æ•°ã€‚ vue-routerçš„å¯¼èˆªå®ˆå«æœ‰å“ªäº›ï¼Ÿ å‰ç½®å®ˆå«:router.beforeEach(å¸¸ç”¨)å½“ä¸€ä¸ªå¯¼èˆªè§¦å‘æ—¶ï¼Œå…¨å±€å‰ç½®å®ˆå«æŒ‰ç…§åˆ›å»ºé¡ºåºè°ƒç”¨è§£æžå®ˆå«:router.beforeResolve(ä¸å¸¸ç”¨)ä¸Žå‰ç½®å®ˆå«ç›¸è¯†ï¼ŒåŒºåˆ«åœ¨äºŽå¯¼èˆªè¢«ç¡®è®¤ä¹‹å‰ï¼ŒåŒæ—¶åœ¨æ‰€æœ‰ç»„ä»¶å†…å®ˆå«å’Œå¼‚æ­¥è·¯ç”±ç»„ä»¶è¢«è§£æžä¹‹åŽï¼Œè§£æžå®ˆå«å°±è¢«è°ƒç”¨ã€‚åŽç½®å®ˆå«:router.afterEach(ä¸å¸¸ç”¨)ä¸ä¼šæŽ¥å— next å‡½æ•°ä¹Ÿä¸ä¼šæ”¹å˜å¯¼èˆªæœ¬èº«ï¼šç‹¬äº«å®ˆå«:beforeEnter(ä¸å¸¸ç”¨)åœ¨è·¯ç”±é…ç½®é‡Œå®šä¹‰ï¼Œç”¨æ¥å¯¹å•ç‹¬çš„è·¯ç”±ä½œå¤„ç†å®ˆå«ä¸€èˆ¬æœ‰ä¸‰ä¸ªå‚æ•° to:Route:å³å°†è¦è¿›å…¥çš„ç›®æ ‡ è·¯ç”±å¯¹è±¡ from: Route:å½“å‰å¯¼èˆªæ­£è¦ç¦»å¼€çš„è·¯ç”± next: Function:å¿…é¡»è°ƒç”¨çš„è·³è½¬æ–¹æ³•ï¼Œå¦åˆ™ä¸ä¼šè¿›è¡Œè·¯ç”±è·³è½¬ ç®€å•ä»‹ç»ä¸€ä¸‹vue çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Ÿ beforeCreate: åˆå§‹åŒ–ä¹‹å‰çš„å‡½æ•°ï¼Œvueå®žä¾‹ä¸å¯è®¿é—®ï¼Œdataæœªå®šä¹‰ï¼Œä¸€ä¸ªåŸºæœ¬ä¸æ€Žä¹ˆç”¨çš„å‡½æ•°created: åˆå§‹åŒ–å‡½æ•°ï¼Œdataå·²è¢«å®šä¹‰ï¼Œå¯ä»¥è®¿é—®dataé‡Œçš„æ•°æ®ï¼Œå¯ä»¥è¿›è¡Œç»‘å®šï¼Œåˆ¤æ–­æ˜¯å¦æœ‰elé€‰é¡¹ï¼Œæœ‰åˆ™ç»§ç»­è¿›è¡Œï¼Œæ²¡æœ‰åˆ™åœæ­¢ç¼–è¯‘(ç”Ÿå‘½å‘¨æœŸåœæ­¢)ï¼Œç›´åˆ°åœ¨è¯¥vueå®žä¾‹ä¸Šè°ƒç”¨vm.$mount(el)ã€‚æŽ¥ç€åˆ¤æ–­æ˜¯å¦æœ‰templateé€‰é¡¹ï¼Œå¦‚æžœæœ‰ï¼Œåˆ™ä¼šå°†templateä½œä¸ºæ¨¡æ¿ç¼–è¯‘æˆrenderå‡½æ•°ï¼Œå¦‚æžœæ²¡æœ‰ï¼Œåˆ™å°†å¤–éƒ¨HTMLä½œä¸ºæ¨¡æ¿ç¼–è¯‘ã€‚å¦‚æžœåŒæ—¶å­˜åœ¨ï¼Œtemplateæ¨¡ç‰ˆä¼˜å…ˆçº§æ˜¯é«˜äºŽå¤–éƒ¨HTMLçš„ã€‚åŒæ—¶vueå¯¹è±¡ä¸­è¿˜æœ‰ä¸€ä¸ªrenderå‡½æ•°ï¼Œä»¥createElementä½œä¸ºå‚æ•°ï¼Œç„¶åŽåšæ¸²æŸ“æ“ä½œï¼Œè€Œä¸”æˆ‘ä»¬å¯ä»¥ç›´æŽ¥åµŒå…¥JSXï¼Œè¿™ä¸ªä¼˜å…ˆçº§æ˜¯æœ€é«˜çš„ã€‚ç»¼ä¸Šæ‰€è¿°ï¼Œæ¨¡ç‰ˆä¼˜å…ˆçº§ï¼šrenderå‡½æ•°&gt;templateæ¨¡ç‰ˆ&gt;å¤–éƒ¨HTMLã€‚beforeMount: ç»™vueæ·»åŠ $elæˆå‘˜ï¼Œå¹¶ä¸”æ›¿æ¢æŒ‚è½½çš„DOMå…ƒç´ ã€‚å»ºç«‹è™šæ‹Ÿdomï¼Œdataè¿˜æ˜¯ä»¥å‚æ•°åçš„æ–¹å¼æŒ‚è½½åœ¨èŠ‚ç‚¹ä¸­ï¼Œæ²¡æœ‰æ³¨å…¥æ•°æ®ã€‚mounted: ç¬¬ä¸€æ¬¡å¯¹ç»„ä»¶è¿›è¡Œæ¸²æŸ“ï¼Œå°†dataé‡Œçš„æ•°æ®æ³¨å…¥èŠ‚ç‚¹ä¸­,è¿™æ—¶å·²ç»å½¢æˆäº†çœŸå®ždomã€‚è¿™ä¸ªå‡½æ•°vueçš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æžœè¿˜æœ‰æ•°æ®çš„å˜åŒ–ï¼Œåªä¼šè§¦å‘updatedç›¸å…³å‡½æ•°ã€‚beforeUpdate: æ£€æµ‹åˆ°dataå‘ç”Ÿå˜åŒ–ï¼Œå‡†å¤‡å¯¹ç›¸åº”çš„ç»„ä»¶å†æ¬¡æ¸²æŸ“ã€‚é¦–å…ˆé‡æ–°æ¸²æŸ“è™šæ‹Ÿdomï¼Œå†å¯¹çœŸå®žçš„domæ‰“è¡¥ä¸ã€‚updated: å®Œæˆå¯¹dataå‘ç”Ÿå˜åŒ–çš„å¯¹åº”ç»„ä»¶æ¸²æŸ“beforeDestory: å®žä¾‹é”€æ¯ä¹‹å‰è°ƒç”¨ã€‚åœ¨è¿™ä¸€æ­¥ï¼Œå®žä¾‹ä»ç„¶å®Œå…¨å¯ç”¨ã€‚destoryed: åœ¨Vue å®žä¾‹é”€æ¯åŽè°ƒç”¨ã€‚è°ƒç”¨åŽï¼ŒVue å®žä¾‹æŒ‡ç¤ºçš„æ‰€æœ‰ä¸œè¥¿éƒ½ä¼šè§£ç»‘å®šï¼Œæ‰€æœ‰çš„äº‹ä»¶ç›‘å¬å™¨ä¼šè¢«ç§»é™¤ï¼Œæ‰€æœ‰çš„å­å®žä¾‹ä¹Ÿä¼šè¢«é”€æ¯ã€‚å¸–ä¸€å¼ å®˜æ–¹çš„ç”Ÿå‘½å‘¨æœŸå›¾ vuexçš„æ ¸å¿ƒæ¦‚å¿µåŒ…æ‹¬å“ªäº›å†…å®¹ã€‚å†…å®¹æ¯”è¾ƒå¤šï¼Œè¯¦æƒ…çœ‹vuexå®˜ç½‘ state:å­˜æ”¾çŠ¶æ€æ•°æ®çš„å­—æ®µï¼Œè¾…åŠ©å‡½æ•°mapStategetter:å¯ä»¥è®¤ä¸ºæ˜¯ store çš„è®¡ç®—å±žæ€§,è¾…åŠ©å‡½æ•°mapGettermutation:æ›´æ”¹storeçŠ¶æ€çš„å”¯ä¸€æ–¹æ³•ï¼Œå¿…é¡»æ˜¯åŒæ­¥æ“ä½œï¼Œè¾…åŠ©å‡½æ•°mapMutationaction:actionç±»ä¼¼äºŽmutation,ä¸è¿‡æ— æ³•ç›´æŽ¥å˜æ›´çŠ¶æ€ï¼Œéœ€è¦é€šè¿‡æäº¤mutationæ¥æ›´æ”¹ï¼Œå¯ä»¥åŒ…å«ä»»æ„çš„å¼‚æ­¥æ“ä½œï¼Œè¾…åŠ©å‡½æ•°mapActionmodule:storeçš„æ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—æ‹¥æœ‰è‡ªå·±çš„stateã€mutationã€actionã€getterã€ç”šè‡³æ˜¯åµŒå¥—å­æ¨¡å—ã€‚é€šè¿‡è®¾ç½®namespaced: trueçš„æ–¹å¼ä½¿å…¶æˆä¸ºå¸¦å‘½åç©ºé—´çš„æ¨¡å—ï¼Œå¦‚æžœéœ€è¦åœ¨å¸¦å‘½åç©ºé—´çš„æ¨¡å—è®¿é—®å…¨å±€å†…å®¹ï¼ŒrootState å’Œ rootGetter ä¼šä½œä¸ºç¬¬ä¸‰å’Œç¬¬å››å‚æ•°ä¼ å…¥ getterï¼Œè‹¥éœ€è¦åœ¨å…¨å±€å‘½åç©ºé—´å†…åˆ†å‘ action æˆ–æäº¤ mutationï¼Œå°† { root: true } ä½œä¸ºç¬¬ä¸‰å‚æ•°ä¼ ç»™ dispatch æˆ– commit å³å¯ã€‚ JSåŸºç¡€ç¯‡è¯´ä¸€äº›ä¸ŽArrayç›¸å…³çš„apiï¼Œå¹¶ä¸”æŒ‘å‡ ä¸ªè¯¦ç»†è¯´æ˜Žå®ƒä»¬çš„ä½œç”¨ï¼Ÿ concat: åˆå¹¶ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°ç»„ï¼Œä¸ä¼šæ”¹å˜åŽŸæ•°ç»„ï¼Œè¿”å›žä¸€ä¸ªæ–°æ•°ç»„every: æµ‹è¯•æ•°ç»„æ‰€æœ‰å…ƒç´ æ˜¯å¦é€šè¿‡åˆ¶å®šå‡½æ•°çš„æµ‹è¯•some: æµ‹è¯•æ•°ç»„æ˜¯å¦å­˜åœ¨å…ƒç´ æ˜¯å¦é€šè¿‡åˆ¶å®šå‡½æ•°çš„æµ‹è¯•forEach: å¯¹æ•°ç»„çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€æ¬¡æä¾›çš„å‡½æ•°ã€‚reduce:å¯¹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€ä¸ªç”±æ‚¨æä¾›çš„reducerå‡½æ•°(å‡åºæ‰§è¡Œ)ï¼Œå°†å…¶ç»“æžœæ±‡æ€»ä¸ºå•ä¸ªè¿”å›žå€¼ã€‚ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ‰§è¡Œå‡½æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºæ‰§è¡Œå‡½æ•°ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶å®ƒç¬¬ä¸€ä¸ªå‚æ•°çš„å€¼map: åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œç»“æžœä¸ºè¯¥æ•°ç»„æ¯ä¸ªå…ƒç´ è°ƒç”¨å‡½æ•°çš„ç»“æžœfilter: è¿‡æ»¤ï¼Œåˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„, å…¶åŒ…å«é€šè¿‡æ‰€æä¾›å‡½æ•°å®žçŽ°çš„æµ‹è¯•çš„æ‰€æœ‰å…ƒç´ ã€‚entries: è¿”å›žä¸€ä¸ªæ–°çš„Array Iteratorå¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«æ•°ç»„ä¸­æ¯ä¸ªç´¢å¼•çš„é”®/å€¼å¯¹ã€‚find: è¿”å›žæ•°ç»„ä¸­æ»¡è¶³æä¾›çš„æµ‹è¯•å‡½æ•°ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼findIndex: è¿”å›žæ•°ç»„ä¸­æ»¡è¶³æä¾›çš„æµ‹è¯•å‡½æ•°ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ï¼Œæ²¡æœ‰è¿”å›ž-1flat: æŒ‰ç…§ä¸€ä¸ªå¯æŒ‡å®šçš„æ·±åº¦é€’å½’éåŽ†æ•°ç»„ï¼Œå¹¶å°†æ‰€æœ‰å…ƒç´ ä¸ŽéåŽ†åˆ°çš„å­æ•°ç»„ä¸­çš„å…ƒç´ åˆå¹¶ä¸ºä¸€ä¸ªæ–°æ•°ç»„è¿”å›žã€‚ï¼ˆIEä¸æ”¯æŒè¯¥æ–¹æ³•ï¼‰includes: åˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯å¦åŒ…å«ä¸€ä¸ªæŒ‡å®šçš„å€¼concat: åˆå¹¶ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°ç»„ï¼Œä¸ä¼šæ”¹å˜åŽŸæ•°ç»„ï¼Œè¿”å›žä¸€ä¸ªæ–°æ•°ç»„join: å°†ä¸€ä¸ªæ•°ç»„ï¼ˆæˆ–ä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡ï¼‰çš„æ‰€æœ‰å…ƒç´ è¿žæŽ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²å¹¶è¿”å›žè¿™ä¸ªå­—ç¬¦ä¸²ã€‚å¦‚æžœæ•°ç»„åªæœ‰ä¸€ä¸ªé¡¹ç›®ï¼Œé‚£ä¹ˆå°†è¿”å›žè¯¥é¡¹ç›®è€Œä¸ä½¿ç”¨åˆ†éš”ç¬¦ã€‚splice: é€šè¿‡åˆ é™¤æˆ–æ›¿æ¢çŽ°æœ‰å…ƒç´ æ¥ä¿®æ”¹æ•°ç»„,å¹¶ä»¥æ•°ç»„å½¢å¼è¿”å›žè¢«ä¿®æ”¹çš„å†…å®¹ã€‚æ­¤æ–¹æ³•ä¼šæ”¹å˜åŽŸæ•°ç»„ã€‚ä¸‰ä¸ªå‚æ•°ï¼Œstart(æŒ‡å®šä¸‹æ ‡)ï¼ŒdeleteCount(ç§»é™¤çš„ä¸ªæ•°),[item1,item2,â€¦]ä»Žstartä½ç½®å¼€å§‹æ’å…¥çš„å…ƒç´ ã€‚slice: è¿”å›žä¸€ä¸ªæ–°çš„æ•°ç»„å¯¹è±¡ï¼Œè¿™ä¸€å¯¹è±¡æ˜¯ä¸€ä¸ªç”± beginå’Œ endï¼ˆä¸åŒ…æ‹¬endï¼‰å†³å®šçš„åŽŸæ•°ç»„çš„æµ…æ‹·è´ã€‚åŽŸå§‹æ•°ç»„ä¸ä¼šè¢«æ”¹å˜ã€‚reverse: å€’åºsort: æŽ’åºpush,pop,shift,unshift æ•°ç»„å †æ ˆæ“ä½œ jsçš„åŸºç¡€ç±»åž‹æœ‰å“ªäº›ï¼Ÿ String,Boolean,Number,Object,Undefined,Null,Symbol var,let,constä¸‰ç§å£°æ˜Žå˜é‡çš„æ–¹å¼æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ var å£°æ˜Žå˜é‡æœ‰å˜é‡æå‡çš„åŠŸèƒ½ èƒ½é‡å¤å£°æ˜Žlet å£°æ˜Žä¸€ä¸ªå…·æœ‰å—çº§ä½œç”¨åŸŸçš„å˜é‡ï¼Œä¸å…·å¤‡å˜é‡æå‡åŠŸèƒ½ï¼Œé‡å¤å£°æ˜Žä¼šæŠ¥é”™const å£°æ˜Žä¸€ä¸ªå…·æœ‰å—çº§ä½œç”¨åŸŸçš„å¸¸é‡ï¼Œå¹¶ä¸”å¸¸ç”¨å¤§å†™å­—æ¯ä½œä¸ºå˜é‡åï¼Œä¸å…·å¤‡å˜é‡æå‡åŠŸèƒ½ï¼Œé‡å¤å£°æ˜Žä¼šæŠ¥é”™ï¼Œé‡æ–°èµ‹å€¼ä¹Ÿä¼šæŠ¥é”™ æå‡ç¯‡Object.assign()æ–¹æ³•åªä¼šæ‹·è´æºå¯¹è±¡è‡ªèº«å¹¶ä¸”å¯æžšä¸¾çš„å±žæ€§åˆ°ç›®æ ‡å¯¹è±¡ï¼Œé‚£ä¹ˆå¦‚ä½•æ‹·è´ä¸å¯æžšä¸¾çš„å±žæ€§å’Œç»§æ‰¿å±žæ€§å‘¢ï¼Ÿé¦–å…ˆè¯´ä¸€ä¸‹å¦‚ä½•æ‹·è´ä¸å¯æžšä¸¾çš„å±žæ€§ã€‚ä½•ä¸ºä¸å¯æžšä¸¾å±žæ€§ï¼Œå…¶å®žå¯¹è±¡é‡Œæ¯ä¸€ä¸ªé”®å€¼å¯¹éƒ½æœ‰6ä¸ªé…ç½®é€‰é¡¹ã€‚æ¯”å¦‚obj = {a:1}è¿™æ ·çš„æ•°æ®ç»“æž„ï¼Œä»–æ˜¯ä¸Ž123456789Object.defineProperty(obj,'a',&#123; configurable:true, // è¯¥å±žæ€§çš„æè¿°ç¬¦æ˜¯å¦èƒ½è¢«æ”¹å˜ enumerable:true, // è¯¥å±žæ€§æ˜¯å¦å¯æžšä¸¾ value: 1 // æ•°æ®æè¿°ç¬¦ è¯¥å±žæ€§å¯¹åº”çš„å€¼ writeable: true // æ•°æ®æè¿°ç¬¦ valueæ˜¯å¦èƒ½è¢«èµ‹å€¼è¿ç®—ç¬¦æ”¹å˜ // æ•°æ®æè¿°ç¬¦ä¸Žå­˜å–æè¿°ç¬¦ä¸å¯åŒæ—¶å­˜åœ¨ // get:function()&#123;return aValue&#125;, // ä¸€ä¸ªç»™å±žæ€§æä¾›getterçš„æ–¹æ³•ï¼Œå½“è®¿é—®è¯¥å±žæ€§æ—¶ï¼Œè¯¥æ–¹æ³•ä¼šè¢«æ‰§è¡Œ // set:function(newValue)&#123;aValue = newValue&#125; // ä¸€ä¸ªç»™å±žæ€§æä¾›setterçš„æ–¹æ³•ï¼Œå½“å€¼ä¿®æ”¹æ—¶ï¼Œè§¦å‘æ‰§è¡Œè¯¥æ–¹æ³•&#125;) å½“è®¾ç½®äº†å±žæ€§çš„enumerableä¸ºfalseæ—¶ï¼Œè¿™æ¡å±žæ€§å°±æ˜¯ä¸å¯æžšä¸¾å±žæ€§ï¼Œå³æ— æ³•é€šè¿‡for..in..ä¸ŽObject.keys()èŽ·å–åˆ°é¦–å…ˆä½ å¾—é€šè¿‡Object.getOwnPropertyNames(obj)(èƒ½èŽ·å–åˆ°ä¸å¯æžšä¸¾çš„å±žæ€§çš„é”®åï¼Œä½†æ˜¯èŽ·å–ä¸åˆ°ä»¥Symbolä½œä¸ºé”®åçš„å±žæ€§)æˆ–è€…Reflect.ownKeys(obj)(èŽ·å–åˆ°æ‰€æœ‰å±žæ€§çš„é”®å)çš„æ–¹æ³•èŽ·å–åˆ°åŒ…æ‹¬ä¸å¯æžšä¸¾å±žæ€§çš„ä¸€ä¸ªæ•°ç»„ã€‚ç„¶åŽå¾ªçŽ¯è¿™ä¸ªæ•°ç»„ï¼Œé€šè¿‡Object.getOwnPropertyDescriptor(obj,propkey)çš„æ–¹æ³•å¾—çŸ¥æ¯ä¸€ä¸ªå±žæ€§çš„æè¿°ç¬¦ï¼Œç„¶åŽç­›é€‰å‡ºenumerable:falseçš„å±žæ€§ï¼Œé‡æ–°é€šè¿‡Object.definePropertires(newObj,{&#39;propkey1&#39;:{...},&#39;propkey2&#39;:{...}})çš„æ–¹å¼æ”¾å…¥æ–°çš„objé‡Œï¼Œå…¶ä»–å¯æžšä¸¾çš„å±žæ€§é€šè¿‡Object.assign({},obj1,...,objn)çš„æ–¹å¼æ”¾å…¥å°±å¥½äº†ã€‚è‡³äºŽç»§æ‰¿å±žæ€§çš„é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡Object.getPrototypeOf(obj)çš„æ–¹å¼èŽ·å–æŒ‡å®šå¯¹è±¡çš„åŽŸåž‹ï¼Œç„¶åŽè®¾ç½®æ–°æ•°ç»„çš„__proto__ä¸ºè¿™ä¸ªåŽŸåž‹ã€‚é—®é¢˜å°±è§£å†³äº†ã€‚å½“ç„¶æœ‰ä¸€ç§æ›´å¥½çš„æ–¹æ³•ã€‚é…åˆä½¿ç”¨Object.create()å¯ç”¨è¾¾åˆ°åŒæ ·çš„ç›®çš„12let newObj = Object.create(Object.getPrototypeOf(obj),Object.getOwnPropertyDescriptors(obj))let target = Object.assign(&#123;&#125;,newObj,newObj1,...,newObjN) CSSåŸºç¡€ç¯‡display:noneä¸Žvisibility:hiddenä¸Žopacity:0(å…¼å®¹å†™æ³•filterï¼šalpha(opacity=0))çš„åŒºåˆ«? ä»–ä»¬éƒ½èƒ½è®©å…ƒç´ æ¶ˆå¤±ä¸è§ã€‚display:noneä¼šè®©å…ƒç´ ä»Žæ¸²æŸ“æ ‘ä¸­æ¶ˆå¤±ï¼Œæ¸²æŸ“æ—¶ä¸å ä»»ä½•ç©ºé—´ï¼Œä»Žè€Œè¾¾åˆ°æ¶ˆå¤±çš„ç›®çš„ã€‚visibility:hiddenä¸Žopacity:0åªæ˜¯è®©å…ƒç´ ä¸å¯è§ï¼Œå…ƒç´ ä¸ä¼šä»Žæ¸²æŸ“æ ‘æ¶ˆå¤±ä¸è§ï¼Œç»§ç»­å æ®ç©ºé—´ã€‚display:noneæ˜¯éžç»§æ‰¿å±žæ€§ï¼Œå…ƒç´ ç›´æŽ¥æ¶ˆå¤±äº†ï¼Œä¿®æ”¹å­å­™èŠ‚ç‚¹å±žæ€§æ— æ³•æ˜¾ç¤ºã€‚visibility:hiddenæ˜¯ç»§æ‰¿å±žæ€§ï¼Œé€šè¿‡ä¿®æ”¹å­å­™å±žæ€§visibility:visibleå¯ä»¥è®©å­å­™èŠ‚ç‚¹æ˜¾ç¤ºã€‚opacity:0ï¼Œæ¶ˆå¤±çš„åŽŸç†æ˜¯å°†å…ƒç´ çš„é€æ˜Žåº¦è®¾ç½®ä¸º0ï¼Œæ˜¯ç»§æ‰¿å±žæ€§ï¼Œå­å­™èŠ‚ç‚¹é€šè¿‡è®¾ç½®opacity:1æ— æ³•æ˜¾ç¤ºï¼Œå¯ä»¥ç»§ç»­è§¦å‘å…ƒç´ ä¸Šç»‘å®šçš„äº‹ä»¶ã€‚ä¿®æ”¹å…ƒç´ çš„displayé€šå¸¸ä¼šé€ æˆæ–‡æ¡£çš„å›žæµï¼Œä¿®æ”¹visibilityä¸Žopacityå±žæ€§åªä¼šé€ æˆæœ¬å…ƒç´ çš„é‡ç»˜ã€‚ æŠ€å·§åŸºç¡€ç¯‡å¯¹æ‰‹æœºå·åšåŠ å¯†å¤„ç†ï¼Œå°†ä¸­é—´å››ä½æ•°å­—ç”¨*ä»£æ›¿ replaceæ–¹æ³• 1phone.replace(/(?&lt;=.&#123;3&#125;).(?=.&#123;4&#125;)/g,'*') substringæ–¹æ³•,æˆ–substræ–¹æ³• 123phone.substring(0,3)+'****'+phone.substring(6,4)//orphone.substr(0,3)+'****'+phone.substr(-4) æ•°ç»„spliceæ–¹æ³• 1arr=phone.split();arr.splice(3,4,'****');arr.join('') å¤„ç†é‡‘é’±å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚â€˜1234567â€™=&gt;â€™1,234,567â€™ æ­£åˆ™æ³• 1str.replace(/\B(?=(\d&#123;3&#125;)+(?!\d))/g,',') jsæ³• 12345function formarMoney(str)&#123; return str.split('').reverse().reduce((pre,next,index)=&gt;&#123; return ï¼ˆ(index%3) ? next : (next+',')) + pre &#125;)&#125; toLocaleString æ³•(è¿™ä¸ªæ˜¯çœŸçš„ç‰›çš®) 1(23333333).toLocaleString('en-US') ä»‹ç»ä¸€ä¸‹ESæ¨¡å—è¯­æ³• ä½¿ç”¨exportå…³é”®å­—å¯¼å‡ºä¸€ä¸ªå˜é‡æˆ–è€…ç±»åž‹ 1234567891011export const someVar = 1;export type someType = &#123; foo:string&#125;export interface someInterface = &#123; foo ?:string&#125;// åœ¨æå‰å®šä¹‰å¥½å˜é‡æˆ–è€…ç±»åž‹åŽï¼Œå¯ä»¥è¿™æ ·å¯¼å‡ºexport &#123;someVar,someType&#125;// é‡å‘½åå˜é‡å¯¼å‡ºexport &#123;someVar as aDifferentName&#125; ä½¿ç”¨importå…³é”®å­—å¯¼å…¥ä¸€ä¸ªå˜é‡æˆ–è€…ä¸€ä¸ªç±»åž‹ 1234567891011import &#123;someVar,someType&#125; from './foo'// é‡å‘½åå¯¼å…¥å˜é‡æˆ–è€…ç±»åž‹import &#123; someVar as aDifferentName &#125; from './foo';// ä½¿ç”¨æ•´ä½“åŠ è½½import * as foo from './foo'; // ä½ å¯ä»¥è¿™æ ·ä½¿ç”¨foo.someVaräº†// ä»…å¯¼å…¥æ¨¡å—import 'core-js'; //å·¥å…·åº“// ä»Žå…¶ä»–æ¨¡å—å¯¼å…¥åŽæ•´ä½“å¯¼å‡ºï¼šexport * from './foo';// ä»Žå…¶ä»–æ¨¡å—å¯¼å…¥åŽï¼Œéƒ¨åˆ†å¯¼å‡ºexport &#123; someVar &#125; from './foo'; ä½¿ç”¨é»˜è®¤å¯¼å…¥/å¯¼å‡º export default ä½¿ç”¨export defalutä¸Žexportçš„åŒºåˆ«: å¯¼å…¥ä½¿ç”¨æ—¶å¯ä»¥æ ¹æ®éœ€è¦è‡ªå®šä¹‰å¯¼å…¥å‘½å,æ¯”å¦‚è¿™æ ·çš„è¯­æ³•import someName from &#39;someModule&#39; å¯¼å‡ºå˜é‡ï¼Œå‡½æ•°ï¼Œç±»ä¸éœ€è¦æå‰å®šä¹‰ï¼Œæ¯”å¦‚123export default (someVar = 123);export default function someFunction() &#123;&#125;export default class someClass &#123;&#125; é‡å†™ç±»åž‹çš„åŠ¨æ€æŸ¥æ‰¾ åœ¨é¡¹ç›®é‡Œå¯ä»¥é€šè¿‡declare module &#39;somePath&#39;æ¥å£°æ˜Žä¸€ä¸ªå…¨å±€æ¨¡å—çš„æ–¹å¼ï¼Œç”¨æ¥è§£å†³æŸ¥æ‰¾æ¨¡å—è·¯å¾„çš„é—®é¢˜å…¨å±€ç±»åž‹å£°æ˜Žå†™æ³• 123456789// å…¨å±€ç±»åž‹å£°æ˜Žå†™æ³•// **æš´éœ²**declare module 'foo' &#123;// some variable declarationsexport var bar: number;&#125;// **å¼•å…¥**import * as foo from 'foo'; æ¨¡å—å¯¼å‡ºå£°æ˜Žå†™æ³• 123456789// æ¨¡å—å¯¼å‡ºå£°æ˜Žå†™æ³•declare interface funcAbcSign &#123; (s: string): string&#125;export declare let abc: funcAbcSign;export declare function fn();// å¼•å…¥import &#123;funcAbcSign,abc&#125; from 'foo'; å…¨å±€ç±»åž‹å£°æ˜Žé‡Œçš„åç§°å°†è¢«å¼•å…¥æ•´ä¸ª TypeScript å…¨å±€å‘½åç©ºé—´ä¸­ï¼Œä»Žå¼•ç”¨è¿™ä¸ª å£°æ˜Žæ–‡ä»¶èµ·å°±å¯ä»¥è‡ªç”±ä½¿ç”¨ã€‚æ¨¡å—å¯¼å‡ºå£°æ˜Žé‡Œçš„åç§°å¿…é¡»é€šè¿‡ import/require æ‰èƒ½ä½¿ç”¨ã€‚ æå‡ç¯‡ä»‹ç»ä¸€ä¸‹ä½ äº†è§£çš„æŽ’åºæ–¹å¼å†’æ³¡æŽ’åº å†’æ³¡æŽ’åºæ˜¯ä¸€ç§éžå¸¸ç®€å•çš„æŽ’åºæ–¹å¼ï¼Œè¿™ä¸ªç®—æ³•çš„åå­—ç”±æ¥æ˜¯å› ä¸ºè¶Šå°çš„å…ƒç´ ä¼šç»ç”±äº¤æ¢æ…¢æ…¢â€œæµ®â€åˆ°æ•°åˆ—çš„é¡¶ç«¯ã€‚æŽ’åºåŸºæœ¬æ€æƒ³ä¸ºå¾ªçŽ¯åºåˆ—å†…æ¯ä¸€ä¸ªå…ƒç´ ï¼Œå¾ªçŽ¯åˆ°çš„å…ƒç´ ä¸Žç›¸é‚»çš„å…ƒç´ ä½œå¯¹æ¯”ï¼Œæ¯æ¬¡å¾ªçŽ¯ä¼šå°†æœ€å°æˆ–è€…æœ€å¤§å€¼å†’æ³¡è‡³æœ€åº•éƒ¨ï¼Œç›´åˆ°æ•´ä¸ªå¾ªçŽ¯ç»“æŸã€‚ 123456789for(let i=0,l=arr.length;i&lt;l;i++)&#123; for(let j=0;j&lt;l-1-i;j++)&#123; if(arr[j]&gt;arr[j+1])&#123; let tmp = arr[j+1]; arr[j+1] = arr[j]; arr[j] = tmp; &#125; &#125;&#125; æ”¹è¿›å†’æ³¡æŽ’åº: è®¾ç½®ä¸€æ ‡å¿—æ€§å˜é‡pos,ç”¨äºŽè®°å½•æ¯è¶ŸæŽ’åºä¸­æœ€åŽä¸€æ¬¡è¿›è¡Œäº¤æ¢çš„ä½ç½®ã€‚ç”±äºŽposä½ç½®ä¹‹åŽçš„è®°å½•å‡å·²äº¤æ¢åˆ°ä½,æ•…åœ¨è¿›è¡Œä¸‹ä¸€è¶ŸæŽ’åºæ—¶åªè¦æ‰«æåˆ°posä½ç½®å³å¯ã€‚æ”¹è¿›åŽå¦‚ä¸‹ 12345678910111213let i = arr.length-1;while(i &gt; 0)&#123; var pos = 0; for(let j=0;j&lt;i;j++)&#123; if(arr[j]&gt;arr[j+1])&#123; pos = j; var tmp = arr[j]; arr[j] = arr[j+1]; arr[j+1] = tmp; &#125; &#125; i = pos;&#125; é€‰æ‹©æŽ’åº é€‰æ‹©æŽ’åºæ˜¯ä¸€ç§ç®€å•ç›´è§‚çš„æŽ’åºç®—æ³•ï¼Œå®ƒçš„åŽŸç†æ˜¯:é¦–å…ˆåœ¨æœªæŽ’åºåºåˆ—ä¸­æ‰¾åˆ°æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œå­˜æ”¾åˆ°æŽ’åºåºåˆ—çš„èµ·å§‹ä½ç½®ï¼Œç„¶åŽï¼Œå†ä»Žå‰©ä½™æœªæŽ’åºå…ƒç´ ä¸­ç»§ç»­å¯»æ‰¾æœ€å°ï¼ˆå¤§ï¼‰å…ƒç´ ï¼Œç„¶åŽæ”¾åˆ°å·²æŽ’åºåºåˆ—çš„æœ«å°¾ã€‚ä»¥æ­¤ç±»æŽ¨ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ å‡æŽ’åºå®Œæ¯•ã€‚ 123456789101112let tmp,minIndex; for(let i=0,l=arr.length;i&lt;l-1;i++)&#123; minIndex = i; for(let j=i+1;j&lt;l;j++)&#123; if(arr[j]&lt;arr[minIndex])&#123; minIndex = j; &#125; &#125; tmp = arr[i]; arr[i] = arr[minIndex]; arr[minIndex] = tmp; &#125; æ’å…¥æŽ’åº æ’å…¥æŽ’åºçš„è¿œç¦»åº”è¯¥æ˜¯æœ€å®¹æ˜“ç†è§£çš„äº†ï¼Œå°±åƒæ‰“æ‰‘å…‹ç‰Œï¼Œæ‘¸åˆ°ç‰Œä»¥åŽï¼Œä½ éœ€è¦å¯¹ç‰Œè¿›è¡Œä»Žå°åˆ°å¤§çš„æŽ’åºï¼Œå¦‚æžœä½ æ‰“æ‰‘å…‹ä»Žä¸æŽ’åºï¼Œé‚£å½“æˆ‘æ²¡è¯´â€¦å®ƒçš„å·¥ä½œåŽŸç†æ˜¯ï¼Œæž„é€ ä¸€ä¸ªæœ‰åºåºåˆ—ï¼Œç„¶åŽæ‹¿æœªæŽ’åºçš„æ•°æ®åœ¨å·²æŽ’åºåºåˆ—ä¸­ä»ŽåŽå‘å‰æ‰«æï¼Œæ‰¾åˆ°ç›¸åº”ä½ç½®æ’å…¥ã€‚ 123456789for(let i=1,l=arr.length;i&lt;l;i++)&#123; let key = arr[i]; var j = i-1; while(j&gt;=0 &amp;&amp; arr[j]&gt;key)&#123; arr[j+1] = arr[j]; j--; &#125; arr[j+1]=key;&#125; æœªå®Œå¾…ç»­â€¦]]></content>
      <categories>
        <category>é¢è¯•</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å¦‚ä½•ç»™è‡ªå·±çš„åšå®¢æ·»åŠ è¯„è®ºç³»ç»Ÿ]]></title>
    <url>%2F2019%2F04%2F11%2Fblog-comments%2F</url>
    <content type="text"><![CDATA[æƒ³è¦åšä¸€ä¸ªéªšæ°”çš„åšä¸»ï¼Œæ²¡æœ‰ä¸€ä¸ªè¯„è®ºç³»ç»Ÿæ€Žä¹ˆè¡Œå‘¢ æ‰“å¼€æˆ‘çš„Googleå¤åˆ¶ä¸€ä¸‹åˆ«äººçš„ï¼Œå‘¸ï¼Œæ‰“å¼€æˆ‘çš„Googleæœç´¢ä¸€ä¸‹å‰è¾ˆä»¬çš„ç»éªŒã€‚é¦–å…ˆï¼Œæˆ‘äº†è§£åˆ°çš„æ˜¯nextå®˜ç½‘æŽ¨èçš„å‡ ç§è¯„è®ºæ’ä»¶ï¼Œåˆ†åˆ«æ˜¯ä»¥ä¸‹è¿™å‡ ä¸ªå“¥ä»¬DISQUS Facebook Comments HyperComments ç½‘æ˜“äº‘è·Ÿå¸– æ¥å¿…åŠ› ä»Žåå­—ä¸Šæ¥è¯´ï¼Œæˆ‘é€‰æ‹©æœ€åŽä¸€ä¸ªè¯•ä¸€ä¸‹(ç»å¯¹ä¸æ˜¯æˆ‘çœ‹ä¸æ‡‚åˆ«äººå®˜ç½‘ï¼Œç»å¯¹ä¸æ˜¯!) æ¥å¿…åŠ›æ¥å¿…åŠ›(è¿™ç‰¹å–µçš„å±…ç„¶æ˜¯ä¸ªéŸ©æ–‡ç½‘ç«™) è¿™æ¬¾è¯„è®ºç³»ç»Ÿæ¯”è¾ƒç®€å•ï¼Œé¦–å…ˆè¦åŽ»äººå®¶å®˜ç½‘æ³¨å†Œä¸€ä¸ªè´¦å·ï¼Œç™»é™†ä»¥åŽæ ¹æ®æç¤ºç”³è¯·ä¸€ä¸ªå…è´¹çš„cityç‰ˆä»€ä¹ˆé¬¼çš„ï¼Œç„¶åŽåœ¨ä»£ç é‡Œèƒ½å¾—åˆ°ä¸€ä¸²LiveRe UIDï¼Œåœ¨next çš„_config.ymlæ–‡ä»¶é‡Œç¼–è¾‘livere_uidå­—æ®µï¼Œå°±å®Œæˆå•¦ï¼Œç³»ä¸ç³»å¾ˆç®€å•ï¼Ÿæ•ˆæžœå¦‚ä¸‹ç„¶åŽæˆ‘è§‰å¾—å¤ªä¸‘äº†ï¼Œä¸ç¬¦åˆnextçš„é»‘ç™½ç®€çº¦ä¸»é¢˜ï¼Œè€Œä¸”å¾ˆå¤§æ¦‚çŽ‡è¿›å…¥é¡µé¢åŽéœ€è¦é‡æ–°åˆ·æ–°æ‰èƒ½æ˜¾ç¤ºå‡ºæ¥ï¼Œæ‰€ä»¥æˆ‘å°±æ”¾å¼ƒäº†ã€‚ GitmentæŽ¥ä¸‹æ¥æˆ‘åˆåœ¨èŒ«èŒ«Googleä¸­æœç´¢ï¼Œç„¶åŽæ‰¾åˆ°äº†å®ƒï¼Œçœ‹ä»‹ç»è¯´æ˜¯é€šè¿‡githubæissueçš„æ–¹å¼æ¥åˆ›å»ºä¸€ä¸ªè¯„è®ºç³»ç»Ÿï¼Œçœ‹åˆ°githubæˆ‘å˜´è§’ç–¯ç‹‚ä¸Šæ‰¬ï¼Œç¬¦åˆæˆ‘çš„æ°”è´¨ï¼Œè¿™ä¸ªæˆ‘çœ‹è¡Œï¼Œå¼€æžï¼ é¦–å…ˆåœ¨https://github.com/settings/developersç”³è¯·ä¸€ä¸ªå…è´¹çš„applicationï¼Œæ ¹æ®æç¤ºå¡«å†™å¦‚ä¸‹å†…å®¹ï¼Œ 1234Application nameï¼šblog-comments // éšä¾¿å†™å•¥ï¼Œä½ èƒ½è®°ä½å°±å¥½ Homepage URLï¼šhttps://ç½‘ç«™åœ°å€/ // ä½ çš„åšå®¢åœ°å€Application descriptionï¼šBlog comment system // éšä¾¿å†™Authorization callback URLï¼šhttps://ç½‘ç«™åœ°å€/ // ä½ çš„åšå®¢åœ°å€ åˆ›å»ºå®ŒæˆåŽå…ˆä¸è¦å…³é—­ï¼Œclient_idä¸Žclient_secretä¸‹é¢è¦ç”¨ æŽ¥ç€åœ¨ä½ çš„githubæ–°å»ºä¸€ä¸ªç©ºçš„ä»“åº“æ¥å­˜æ”¾è¯„è®ºï¼Œæ¯”å¦‚å«åšblog-comments ç„¶åŽåœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶_config.ymlé‡Œå¡«å†™gitmentçš„ç›¸å…³é…ç½®12345678910111213gitment: enable: true // è¿™ä¸ªæ”¹æˆtrue mint: true # RECOMMEND, A mint on Gitment, to support count, language and proxy_gateway count: true # Show comments count in post meta area lazy: false # Comments lazy loading with a button cleanly: false # Hide &apos;Powered by ...&apos; on footer, and more language: zh-Hans # Force language, or auto switch by theme github_user: BiYangJun # MUST HAVE, Your Github ID github_repo: blog-comments # MUST HAVE, The repo you use to store Gitment comments è¿™æ˜¯ä½ æ–°å»ºçš„å­˜æ”¾è¯„è®ºçš„åº“ client_id: # MUST HAVE, Github client id for the Gitment åˆšåˆšåˆ›å»ºapplicationé‡Œæœ‰çš„ client_secret: # EITHER this or proxy_gateway, Github access secret token for the Gitment åˆšåˆšåˆ›å»ºapplicationé‡Œæœ‰çš„ proxy_gateway: # Address of api proxy, See: https://github.com/aimingoo/intersect redirect_protocol: # Protocol of redirect_uri with force_redirect_protocol when mint enabled å…¨éƒ¨é…ç½®å®ŒåŽï¼Œä¸€åˆ‡çœ‹èµ·æ¥å¾ˆé¡ºåˆ©ï¼Œé¡µé¢åº•éƒ¨ä¹Ÿå‡ºæ¥äº†è¯„è®ºæ¡†ï¼Œå°±å·®æœ€åŽä¸€æ­¥ç™»é™†è‡ªå·±çš„githubæ¥åˆå§‹åŒ–äº†ï¼Œä¸€å¼€å§‹æœ¬åœ°ç™»é™†ä¸äº†ï¼Œæˆ‘ä»¥ä¸ºæ˜¯è¦éƒ¨ç½²åŽæ‰èƒ½ç™»é™†ï¼Œç„¶åŽæˆ‘éƒ¨ç½²äº†ä¸ŠåŽ»ï¼Œå¿ƒé‡Œæƒ³ç€è¿™ä¸‹æˆäº†! éƒ¨ç½²åŽï¼Œæˆ‘ç‚¹å‡»ç™»é™†åŽï¼Œä¸€ç›´ç»™æˆ‘æŠ¥é”™[object ProgressEvent]ï¼Œè¯•äº†å¾ˆå¤šæ¬¡ï¼Œæˆ‘è¿˜ä¸€åº¦æ€€ç–‘æ˜¯ä¸æ˜¯æˆ‘githubå¯†ç è¾“é”™äº†ï¼Œçº³é—·çš„æˆ‘åŽ»çœ‹äº†ä¸€ä¸‹gitmentçš„issueï¼Œæœ€åŽå‘çŽ°åŽŸå› å¤§æ¦‚æ˜¯gitmentçš„ç½‘ç«™è¯ä¹¦åˆ°æœŸäº†ï¼Œgitmentéœ€è¦è¿™ä¸ªä¸ºæŽ¥å£ï¼Œæ‰€ä»¥ä¸€ç›´æŠ¥é”™ã€‚è¾›è¾›è‹¦è‹¦1å°æ—¶ï¼Œæˆ‘â€¦ å“Žï¼ŒæŽ¥ç€åœ¨èŒ«èŒ«Googleæ‰¾å§â€¦ GitalkæŽ¥ç€ï¼Œåœ¨èŒ«èŒ«åšå®¢ä¸­ï¼Œæˆ‘å‘çŽ°äº†æˆ³å…”ä¸“å®¶è¿™ä½å¤§å“¥çš„åšæ–‡ï¼Œè·Ÿç€ä»–çš„æ•™ç¨‹å¼€å§‹äº†å®‰è£…Gitalk,å¸–ä¸ªå®˜ç½‘ã€‚ é¦–å…ˆåˆšåˆšç”³è¯·çš„applicationå’Œæ–°å»ºå­˜æ”¾è¯„è®ºçš„ä»“åº“ä¸è¦ä¸¢ï¼Œè£¹ä¸Šé¸¡è›‹æ¶²ï¼Œæ”¾åœ¨æ²¹é”…é‡Œç‚¸ä¸€ç‚¸ï¼Œéš”å£å°å­©â€¦ä½å˜´ï¼ç”±äºŽnextè¿˜æ²¡æœ‰é›†æˆgitalkï¼Œæ‰€ä»¥é…ç½®èµ·æ¥ç›¸å½“ç¹ç é¦–å…ˆè¿˜æ˜¯è¦åœ¨githubä¸Šç”³è¯·ä¸€ä¸ªapplicationå’Œæ–°å»ºä¸€ä¸ªå­˜æ”¾è¯„è®ºçš„ä»“åº“(ä¸Šé¢çš„å°±å¯ä»¥ç”¨) åœ¨ /layout/_third-party/comments/ ç›®å½•ä¸‹æ–°å»º gitalk.swig æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š 12345678910111213141516&#123;% if page.comments &amp;&amp; theme.gitalk.enable %&#125; &lt;link rel=&quot;stylesheet&quot; href=&quot;https://unpkg.com/gitalk/dist/gitalk.css&quot;&gt; &lt;script src=&quot;https://unpkg.com/gitalk/dist/gitalk.min.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot;&gt; var gitalk = new Gitalk(&#123; clientID: &apos;&#123;&#123; theme.gitalk.ClientID &#125;&#125;&apos;, clientSecret: &apos;&#123;&#123; theme.gitalk.ClientSecret &#125;&#125;&apos;, repo: &apos;&#123;&#123; theme.gitalk.repo &#125;&#125;&apos;, owner: &apos;&#123;&#123; theme.gitalk.owner &#125;&#125;&apos;, admin: [&apos;&#123;&#123; theme.gitalk.adminUser &#125;&#125;&apos;], id: location.pathname, distractionFreeMode: &apos;&#123;&#123; theme.gitalk.distractionFreeMode &#125;&#125;&apos; &#125;) gitalk.render(&apos;gitalk-container&apos;) &lt;/script&gt;&#123;% endif %&#125; ä¿®æ”¹ /layout/_partials/comments.swigï¼Œåœ¨æœ€åŽä¸€ä¸ª elseif åŽæ·»åŠ å­—æ®µï¼Œä¿®æ”¹åŽå¦‚ä¸‹ï¼š 1234567891011121314151617181920 &#123;% elseif theme.gitment.enable %&#125; &lt;div class=&quot;comments&quot; id=&quot;comments&quot;&gt; &#123;% if theme.gitment.lazy %&#125; &lt;div onclick=&quot;showGitment()&quot; id=&quot;gitment-display-button&quot;&gt;&#123;&#123; __(&apos;gitmentbutton&apos;) &#125;&#125;&lt;/div&gt; &lt;div id=&quot;gitment-container&quot; style=&quot;display:none&quot;&gt;&lt;/div&gt; &#123;% else %&#125; &lt;div id=&quot;gitment-container&quot;&gt;&lt;/div&gt; &#123;% endif %&#125; &lt;/div&gt; &#123;% elseif theme.valine.appid and theme.valine.appkey %&#125; &lt;div class=&quot;comments&quot; id=&quot;comments&quot;&gt; &lt;/div&gt; &#123;% elseif theme.gitalk.enable %&#125; &lt;div id=&quot;gitalk-container&quot;&gt;&lt;/div&gt; &#123;% endif %&#125;&#123;% endif %&#125; ä¿®æ”¹ /layout/_third-party/comments/index.swigï¼Œåœ¨å…¶æœ«å°¾æ·»åŠ å¦‚ä¸‹å­—æ®µï¼š 1&#123;% include &apos;gitalk.swig&apos; %&#125; è®¾ç½® gitalk çš„æ ·å¼ï¼Œå‚è€ƒ1ï¼š åœ¨ /source/css/_common/components/third-party/ ç›®å½•ä¸‹æ–°å»º gitalk.styl æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š 1234.gt-header a, .gt-comments a, .gt-popup a border-bottom: none;.gt-container .gt-popup .gt-action.is--active:before top: 0.7em; ä¿®æ”¹ /source/css/_common/components/third-party/third-party.styl æ–‡ä»¶ï¼Œåœ¨æœ«å°¾æ·»åŠ å¦‚ä¸‹å­—æ®µï¼š 1@import &quot;gitalk&quot;; æœ€åŽåœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ _config.yml ä¸­æ·»åŠ å¦‚ä¸‹é¡¹ï¼š 12345678gitalk: enable: true owner: ä½ çš„githubå¸å· # lzcwr repo: å­˜æ”¾è¯„è®ºçš„ä»“åº“åç§° # Gitalk-comments ClientID: åœ¨ç”³è¯·å¥½applicationçš„é¡µé¢ä¸­æœ‰ ClientSecret: åœ¨ç”³è¯·å¥½applicationçš„é¡µé¢ä¸­æœ‰ adminUser: ä½ çš„githubå¸å· # å¯åˆå§‹åŒ–è¯„è®ºçš„è´¦æˆ· distractionFreeMode: true å®Œæ•´æ— è¯¯åœ°å®Œæˆä¸Šè¿°æ­¥éª¤åŽï¼Œåœ¨æœ¬åœ°å¯ä»¥çœ‹åˆ°gitalkçš„æŒ‰é’®ï¼Œç„¶åŽé€šè¿‡hexo déƒ¨ç½²åˆ°çº¿ä¸ŠåŽï¼Œç™»é™†ä½ çš„githubè¿›è¡Œåˆå§‹åŒ–å°±å¤§åŠŸå‘Šæˆäº†å•¦ï¼ å¦‚æžœä½ ç»™ä¸€ç¯‡åšæ–‡çš„æ–‡ä»¶å‘½åæœ‰ä¸­æ–‡çš„è¯ï¼Œä½ å¯èƒ½ä¼šç¢°åˆ°è¿™ä¸ªæŠ¥é”™Error: Validation Failedã€‚å“Žï¼ŒçœŸæ˜¯ä¸€æ³¢ä¸‰æŠ˜å•Š Error: Validation Failed è§£å†³æ–¹æ¡ˆ ä¿®æ”¹å‰æ–‡æåˆ°çš„gitalk.swigï¼Œå…ˆä¸‹è½½ä¸€ä¸ªmd5.js,æ›´æ”¹å®Œæ¯•åŽçš„gitalk.swigå¦‚ä¸‹ï¼š 1234567891011121314151617&#123;% if page.comments &amp;&amp; theme.gitalk.enable %&#125; &lt;link rel=&quot;stylesheet&quot; href=&quot;https://unpkg.com/gitalk/dist/gitalk.css&quot;&gt; &lt;script src=&quot;/js/md5.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;https://unpkg.com/gitalk/dist/gitalk.min.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot;&gt; var gitalk = new Gitalk(&#123; clientID: &apos;&#123;&#123; theme.gitalk.ClientID &#125;&#125;&apos;, clientSecret: &apos;&#123;&#123; theme.gitalk.ClientSecret &#125;&#125;&apos;, repo: &apos;&#123;&#123; theme.gitalk.repo &#125;&#125;&apos;, owner: &apos;&#123;&#123; theme.gitalk.owner &#125;&#125;&apos;, admin: [&apos;&#123;&#123; theme.gitalk.adminUser &#125;&#125;&apos;], id: md5(location.pathname), distractionFreeMode: &apos;&#123;&#123; theme.gitalk.distractionFreeMode &#125;&#125;&apos; &#125;) gitalk.render(&apos;gitalk-container&apos;) &lt;/script&gt;&#123;% endif %&#125; æ‰¹é‡ä¿®æ”¹åšå®¢æ–‡ä»¶åï¼Œä¾‹å¦‚ä»¥æ—¶é—´æˆ³çš„æ–¹å¼å‘½åmdæ–‡ä»¶ï¼Œå…·ä½“å¯ä»¥å‚è€ƒè¿™ä½å¤§å“¥çš„åšæ–‡ é¿å…ä½¿ç”¨ä¸­æ–‡å‘½åï¼Œè‹±æ–‡ä¸å¥½å’±ä»¬å°±ç”¨æ‹¼éŸ³å§ï¼ å¿™æ´»äº†ä¸€æ™šä¸Šæˆ‘çš„è¯„è®ºç³»ç»Ÿç»ˆäºŽæžå®šäº†â€¦ æ„Ÿè°¢ä¸‡èƒ½çš„Googleå’Œæˆ³å…”ä¸“å®¶è¿™ä½å¤§å“¥ã€‚çœ‹å®Œçš„å°ä¼™ä¼´è®°å¾—è¯„è®ºã€å…³æ³¨ã€æ”¶è—ä¸‰è¿žå“¦ï½žå‘¸ã€ä»€ä¹ˆåæ¯›ç—…èƒ½ç»™è¯„è®ºå°±æ„Ÿæ¿€ä¸å°½å•¦ï½ž]]></content>
      <categories>
        <category>åšå®¢</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[è®°å½•ä¸€ä¸‹æ­å»ºç¬¬ä¸€ä¸ªåšå®¢çš„ç»åŽ†]]></title>
    <url>%2F2019%2F04%2F10%2Ffirst-blog%2F</url>
    <content type="text"><![CDATA[èµ·å› ï¼Œåœ¨è®ºå›é—²é€›çš„æ—¶å€™å‘çŽ°ä¸€ä¸ªè€å“¥æŠŠå¾ˆå¤šçŸ¥è¯†ç‚¹ï¼Œé—®é¢˜éƒ½è®°å½•åœ¨è‡ªå·±çš„ä¸ªäººåšå®¢é‡Œï¼ŒçŸ¥è¯†ç½—åˆ—çš„å¾ˆæ¸…æ¥šã€‚è™½ç„¶æˆ‘å¹³æ—¶ä¹Ÿä¼šæŠŠä¸€äº›é—®é¢˜å’Œæœ‰è¶£çš„ä¸œè¥¿è®°å½•åœ¨MacDowné‡Œï¼Œå¯æ—¶å¦‚æžœè¦çœ‹çš„è¯è¿˜éœ€è¦æ‰“å¼€macï¼Œå¾ˆä¸æ–¹ä¾¿ã€‚soï½žåœ¨ç½‘ä¸Šæ‰¾äº†ä¸€ç¯‡æ­å»ºåšå®¢çš„æ•™ç¨‹ï¼Œå¹²äº†ä¸€æ™šä¸Šç»ˆäºŽæˆäº†ï¼Œä¸­é—´ç¢°åˆ°å¾ˆå¤šæ›²æŠ˜çš„é—®é¢˜ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹ã€‚ ä¸€ã€æ­å»ºæ¡ä»¶åŠçŽ¯å¢ƒ Github Pages + Hexo + Node.js Macç”µè„‘çš„OSXç³»ç»Ÿ/windowsäºŒã€æ­å»ºæ­¥éª¤ é¦–å…ˆä½ å¾—æœ‰ä¸ªgithubè´¦å·(ä½œä¸ºæ–°æ—¶ä»£çš„ç å†œï¼Œè¿™æ˜¯å¿…å¤‡çš„)ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„repositoryï¼Œé¡¹ç›®åç§°æ ¼å¼ä¸ºyourname.github.ioï¼Œå¦‚å›¾ å…¨å±€å®‰è£…Hexoï¼Œnpm install -g hexo-cli åˆ›å»ºä¸€ä¸ªç©ºæ–‡ä»¶å¤¹ï¼Œè¿›å…¥è¯¥æ–‡ä»¶å¤¹ï¼Œä¾æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ 123hexo initnpm installnpm install hexo-deployer-git --save åœ¨æ‰€æœ‰ä¾èµ–éƒ½å®‰è£…å®ŒæˆåŽï¼Œå°±å¯ä»¥åœ¨æœ¬åœ°çŽ¯å¢ƒçœ‹ä¸€ä¸‹hexoçš„åšå®¢å†…å®¹å•¦ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ 12hexo generate hexo server è¿™ä¸¤æ¡å‘½ä»¤å¯ä»¥ç¼©å†™æˆhexo g hexo sä½œç”¨åˆ†åˆ«æ˜¯ï¼šå°†mdæ–‡ä»¶ç”Ÿæˆhtmlï¼Œcssæ–‡ä»¶ï¼›å¯åŠ¨æœ¬åœ°hexoã€‚æ‰“å¼€http://localhost:4000å°±èƒ½çœ‹åˆ°æœ¬åœ°æ•ˆæžœå•¦ã€‚ ä¿®æ”¹ _config.yml æ–‡ä»¶ï¼Œè¿™æ˜¯åšå®¢ç½‘ç«™ çš„é…ç½®æ–‡ä»¶ï¼Œåœ¨è¿™é‡Œä½ å¯ä»¥æ›´æ”¹ä½ çš„ç½‘é¡µtitleï¼Œdescriptionç­‰ï¼Œæœ€ä¸»è¦çš„æ˜¯ä¿®æ”¹ä½ åœ¨githubä¸Šçš„ä»“åº“åœ°å€ã€‚ åœ¨æœ€ä¸‹é¢ä¸€è¡Œ 1234deploy: type: git repository: git@github.com:BiYangJun/zijun.github.io.git branch: master å†™ä¸Šè‡ªå·±çš„ä»“åº“åœ°å€ã€‚è‡³äºŽæ˜¯SSHå…¬é’¥æ–¹å¼æäº¤è¿˜æ˜¯httpsæ–¹å¼æäº¤ï¼Œçœ‹ä¸ªäººå–œå¥½å•¦ã€‚ åœ¨å†™å®Œè‡ªå·±çš„åšå®¢åŽï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ 12hexo generatehexo deploy hexo deploy å¯ä»¥ç¼©å†™æˆ hexo dæ„æ€ä¸ºéƒ¨ç½² æŽ¥ç€ä½ ä¼šä¸Šä¼ æ–‡ä»¶åˆ°githubä¸Šã€‚æŽ¥ç€å°±å¯ä»¥åœ¨çº¿è®¿é—®å•¦ã€‚ é‚£ä¹ˆå¦‚ä½•åœ¨çº¿è®¿é—®å‘¢ï¼Ÿ æ‰“å¼€ä½ çš„githubã€‚ç‚¹å‡»environmentï¼Œ ç„¶åŽåœ¨ç‚¹å‡» View deployment,æ‰“å¼€åŽçš„ç½‘å€å°±æ˜¯ä½ çš„çº¿ä¸Šåšå®¢åœ°å€è¾£ï¼Œeasyï½ž ä¸‰ã€é‡åˆ°çš„å‘ å¦‚æžœå‘çŽ°çº¿ä¸Šåšå®¢ä¸€ç›´æ˜¯404ï¼Œçœ‹ä¸€ä¸‹repositoryä¸­çš„settingï¼Œåœ¨GitHub Pages è¿™ä¸€æ ä¸­Sourceæœ‰æ²¡æœ‰é€‰ä¸­masteråˆ†æ”¯ èƒ½æ‰“å¼€çº¿ä¸Šåšå®¢åŽï¼Œå¦‚æžœå‘çŽ°æ ·å¼æ²¡æœ‰åŠ è½½å‡ºæ¥ï¼Œåœ¨_config.ymlä¿®æ”¹rootä¸ºè‡ªå·±çš„é¡¹ç›®åç§° å…¶ä»–hexoå‘½ä»¤ã€‚hexo clean#ç¼“å­˜ï¼Œåœ¨ç½‘é¡µä¸æ­£å¸¸çš„æ—¶å€™å¯ä»¥ä½¿ç”¨ã€‚hexo new â€˜æˆ‘çš„åšå®¢â€™#æ–°å»ºæˆ‘çš„åšå®¢ï¼Œhexo server -p 5000#æ›´æ”¹ç«¯å£ å¦‚ä½•æ’å…¥å›¾ç‰‡ã€‚ åœ¨ä¸»é¢˜çš„sourceä¸‹é¢æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹imagesä¸“é—¨æ”¾ç½®å›¾ç‰‡èµ„æºï¼Œä½¿ç”¨markdownçš„è¯­æ³• ![](/images/test.jpg) Hexoæ–¹å¼ï¼Œè®¾ç½®_config.ymlæ–‡ä»¶ä¸­post_asset_folderä¸ºtrueï¼Œä¹‹åŽæ–°å»ºä¸€ä¸ªæ–‡ç« åŽï¼Œä¼šåŒæ—¶åˆ›å»ºä¸€ä¸ªåŒåçš„ç©ºæ–‡ä»¶å¤¹ç”¨æ¥æ”¾å›¾ç‰‡èµ„æºï¼Œæ‰§è¡Œå‘½ä»¤npm install hexo-asset-image --saveï¼Œä¸‹è½½å®‰è£…ä¸€ä¸ªå¯ä»¥ä¸Šä¼ æœ¬åœ°å›¾ç‰‡çš„æ’ä»¶ï¼Œä¹‹åŽä½¿ç”¨çš„æ—¶å€™ï¼Œåªéœ€è¦å›¾ç‰‡å![](test.jpg) ç½‘ç»œå›¾ç‰‡æ’å…¥â€˜#â€™ Hexo æ”¯æŒä½¿ç”¨ç‰¹å®šçš„è¯­æ³•ï¼Œæ’å…¥æŒ‡å®šå¤§å°çš„å›¾ç‰‡ï¼Œå¦‚ä¸‹ï¼š 123456// è¯­æ³•&#123;% img [class names] /path/to/image [width] [height] [title text [alt text]] %&#125;// å®žä¾‹&#123;% img full-image /hexo-experiences/PL01.jpg 180 180 hello %&#125;// ç”Ÿæˆçš„ä»£ç &lt;img src=&quot;/blog/hexo-experiences/PL01.jpg&quot; class=&quot;full-image&quot; width=&quot;180&quot; height=&quot;180&quot; title=&quot;hello&quot;&gt; å¦‚æžœå‘çŽ°æ€Žä¹ˆéƒ½ä¸è¡Œï¼Œçœ‹ä¸‹ä½ è¿™ä¸ªåšå®¢æ˜¯ä¸æ˜¯åœ¨äºŒçº§åŸŸåä¸‹çš„ï¼Œå¦‚æžœæ˜¯ï¼Œè¦è®¾ç½®_config.ymlæ–‡ä»¶ä¸­çš„urlä¸Žrootã€‚]]></content>
      <categories>
        <category>åšå®¢</category>
      </categories>
  </entry>
</search>
